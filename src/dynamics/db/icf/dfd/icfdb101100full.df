ADD SEQUENCE "seq_obj1"
  INITIAL 0
  INCREMENT 1
  CYCLE-ON-LIMIT yes
  MIN-VAL 0
  MAX-VAL 999999999

ADD SEQUENCE "seq_obj2"
  INITIAL 0
  INCREMENT 1
  CYCLE-ON-LIMIT yes
  MIN-VAL 0
  MAX-VAL 999999999

ADD SEQUENCE "seq_site_reverse"
  INITIAL 0
  INCREMENT 1
  CYCLE-ON-LIMIT yes
  MIN-VAL 0
  MAX-VAL 999999999

ADD SEQUENCE "seq_site_division"
  INITIAL 0
  INCREMENT 1
  CYCLE-ON-LIMIT yes
  MIN-VAL 0
  MAX-VAL 999999999

ADD SEQUENCE "seq_session_id"
  INITIAL 1
  INCREMENT 1
  CYCLE-ON-LIMIT yes
  MIN-VAL 1
  MAX-VAL 999999999

ADD SEQUENCE "seq_ICFDB_DBVersion"
  INITIAL 0
  INCREMENT 1
  CYCLE-ON-LIMIT yes
  MIN-VAL 0
  MAX-VAL 101100

ADD TABLE "gsc_custom_procedure"
  AREA "Schema Area"
  DESCRIPTION "This table is contained in Dynamics for backward compatibility and will likely be dropped at a later stage. It will be replaced with flows and events when these are fully implemented.

The purpose of this table is to provide a mechanism to define alternate procedures for custom specific business logic.

This table contains a list of all the system supported procedures that satisfy these business rules, categorised by entity and procedure type. A number of variations for each process may exist - the procedure to use in each case must be selected from this list.

The programs that these procedures exist in will run persistently when required."
  DUMP-NAME "gsccp"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsccptrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsccptrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsccpreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsccprepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsccpreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsccptrigw.p" CRC "?" 

ADD FIELD "custom_procedure_obj" OF "gsc_custom_procedure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Custom procedure obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Custom procedure obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "category_obj" OF "gsc_custom_procedure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Category obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Category obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "custom_procedure_short_desc" OF "gsc_custom_procedure" AS character 
  DESCRIPTION "A brief description of the customised business process procedure - to display in browsers, etc."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Custom procedure short desc."
  POSITION 4
  MAX-WIDTH 30
  VALMSG "s_short_desc"
  HELP "Custom procedure short description"
  ORDER 30

ADD FIELD "custom_procedure_description" OF "gsc_custom_procedure" AS character 
  DESCRIPTION "A description of the customised business process procedure. This will be presented to the user and so should be adequately described."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Custom procedure description"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Custom procedure description"
  ORDER 40

ADD FIELD "custom_procedure_notes" OF "gsc_custom_procedure" AS character 
  DESCRIPTION "Notes on how to use the custom procedure, details of the API, etc."
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Custom procedure notes"
  POSITION 6
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_big_text_block"
  HELP "Custom procedure notes"
  ORDER 50

ADD FIELD "procedure_name" OF "gsc_custom_procedure" AS character 
  DESCRIPTION "The actual internal procedure name as used in the program."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Procedure name"
  POSITION 7
  MAX-WIDTH 70
  VALMSG "s_program_procedure"
  HELP "Procedure name"
  ORDER 60

ADD FIELD "run_this_procedure" OF "gsc_custom_procedure" AS logical 
  DESCRIPTION "If set to NO, the running of this procedure will be disabled."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Run this procedure"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Run this procedure"
  ORDER 70

ADD INDEX "XPKgsc_custom_procedure" ON "gsc_custom_procedure" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "custom_procedure_obj" ASCENDING 

ADD INDEX "XAK1gsc_custom_procedure" ON "gsc_custom_procedure" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "procedure_name" ASCENDING 

ADD INDEX "XIE1gsc_custom_procedure" ON "gsc_custom_procedure" 
  AREA "Schema Area"
  INDEX-FIELD "category_obj" ASCENDING 
  INDEX-FIELD "custom_procedure_description" ASCENDING 

ADD INDEX "XIE2gsc_custom_procedure" ON "gsc_custom_procedure" 
  AREA "Schema Area"
  INDEX-FIELD "category_obj" ASCENDING 
  INDEX-FIELD "custom_procedure_short_desc" ASCENDING 

ADD TABLE "gsc_dataset_entity"
  AREA "Schema Area"
  DESCRIPTION "This table contains a complete list of tables that need to be deployed with the  dataset.

One of the tables in the dataset must be marked as primary, i.e. the main table in the dataset. The join information between the tables must also be specified.

The data in this table can be filtered using the filter where clause."
  DUMP-NAME "gscde"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscdetrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscdetrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscdereplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscderepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscdereplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscdetrigw.p" CRC "?" 

ADD FIELD "dataset_entity_obj" OF "gsc_dataset_entity" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Dataset entity obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Dataset entity obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "deploy_dataset_obj" OF "gsc_dataset_entity" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Deploy dataset obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Deploy dataset obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "entity_sequence" OF "gsc_dataset_entity" AS integer 
  DESCRIPTION "This field specifies the order in which the tables are dumped/loaded to or from the XML file."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Entity sequence"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Entity sequence"
  ORDER 30

ADD FIELD "entity_mnemonic" OF "gsc_dataset_entity" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Entity"
  POSITION 5
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Entity"
  ORDER 40

ADD FIELD "primary_entity" OF "gsc_dataset_entity" AS logical 
  DESCRIPTION "If set to YES this is the primary entity in the dataset. Each dataset must have at least 1 primary entity."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Primary entity"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Primary entity"
  ORDER 50

ADD FIELD "join_entity_mnemonic" OF "gsc_dataset_entity" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Join entity"
  POSITION 7
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Join entity"
  ORDER 60

ADD FIELD "join_field_list" OF "gsc_dataset_entity" AS character 
  DESCRIPTION "If this record has the primary_entity flag switched on, this field contains a list of fields on the table whose values will be provided as an input parameter to the procedure that writes out the XML file. 

For example, if the primary table name were gsc_entity_mnemonic and the intention was to deploy datasets for specific entity_mnemonics only, this field would contain the entity_mnemonic field and the input parameter would be the value of the entity_mnemonic field. 

If this record is not the primary entity, this field contains a comma-separated list of field name pairs made as follows:

The first entry in each pair contains the name of the field on this table with no prefix.

The second entry in each pair contains a field on the join partner specified by the join_entity_mnemonic with no table prefix.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Join field list"
  POSITION 8
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Join field list"
  ORDER 70

ADD FIELD "filter_where_clause" OF "gsc_dataset_entity" AS character 
  DESCRIPTION "This field contains a WHERE clause that can be applied to a QUERY-PREPARE method that filters the data in this table.

eg: Only deploying data specific to a site, product, or product module."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Filter where clause"
  POSITION 9
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Filter where clause"
  ORDER 80

ADD FIELD "delete_related_records" OF "gsc_dataset_entity" AS logical 
  DESCRIPTION "If set to YES, any records for this dataset entity related to the parent entity will be deleted. If set to NO, records in this entity will not be deleted before applying the new dataset records.

For example, a dataset linking objects and menu items would typically not want to first delete the menu item records so that user defined menu items are preserved, whereas a dataset relating entity mnemonics to entity display fields would require the deletion of existing data first before applying the new set.

If delete_related_records is YES then overwrite_records must also be YES.

This flag is specifically related to data updates, when new information is coming in from an ADO.

When deploying out a deletion, the deletion_action field is used to determine what and how to delete the related data. What to delete could be different between deployments of updates and deployments of deletions.


"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Delete related records"
  POSITION 10
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Delete related records"
  ORDER 90

ADD FIELD "overwrite_records" OF "gsc_dataset_entity" AS logical 
  DESCRIPTION "If set to YES and a record corresponding to a record in the dataset is found in the target repository, then the contents of the record will be overwritten with the contents of the dataset.

If set to NO, the repository record will be left intact if it already exists. 

Typically this flag would be set to YES, but in the case of sequences for example, it would be set to NO so as not to overwrite sequence current values in the target repository.

If delete_related_records is YES then overwrite_records must also be YES.

"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Overwrite records"
  POSITION 11
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Overwrite records"
  ORDER 100

ADD FIELD "keep_own_site_data" OF "gsc_dataset_entity" AS logical 
  DESCRIPTION "This is used in conjunction with the delete_related_records flag and is only applicable if this is set to YES.

If set to YES, then any data for the current site number will not be deleted, e.g. to preserve own menu items.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Keep own site data"
  POSITION 12
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Keep own site data"
  ORDER 110

ADD FIELD "use_relationship" OF "gsc_dataset_entity" AS logical 
  DESCRIPTION "IF this is set to YES, then the relationship information between the entity_mnemonmic and join_entity_mnemonic fields is derived from the ryc_relationship record specified by the relationship_obj.

If this is set to NO, the relationship information is derived from a combination of join_field_list and filter_where_clause."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Use relationship"
  POSITION 13
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Use relationship"
  ORDER 120

ADD FIELD "relationship_obj" OF "gsc_dataset_entity" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Relationship obj"
  POSITION 14
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Relationship obj"
  DECIMALS 9
  ORDER 130

ADD FIELD "deletion_action" OF "gsc_dataset_entity" AS character 
  DESCRIPTION "The deletion action decides the action to be taken when a record is deleted as a result of a deployed deletion. Valid values are:

C - CASCADE 
When a record in the parent entity is deleted, each related record in the child entity is also deleted.

S - SET NULL
When a record in the parent entity is deleted, the foreign key attributes or columns in each related record of the child entity are set to Null.

N = NONE
No deletion action is required.

This flag is specifically related to deployment of data deletion - and is different in meaning to the delete_related_records flag which is used when doing updates of new information coming in from an ADO.

When deploying out an update the delete_related_records flag is used to determine what to delete before bringing in the new data. What to delete could be different between deployments of updates and deployments of deletions.


"
  FORMAT "X(1)"
  INITIAL ""
  LABEL "Deletion action"
  POSITION 15
  MAX-WIDTH 2
  VALMSG "s_string_1"
  HELP "Deletion action"
  ORDER 140

ADD FIELD "exclude_field_list" OF "gsc_dataset_entity" AS character 
  DESCRIPTION "This is a comma delimited list of fields for the entity that should not be updated during a deployment so as to not use customizations. 

An example of where this is relevant is for the extends_object_type_obj on gsc_object_type. 

Customers may modify this to point at a different object type so that they can customize in the middle of the class hierarchy. 

For example, they may change the SDO class to extend mySDO to that the custom behavior applies to all existing SDOs without changing the object type. With the extends_object_type_obj field in the exclude field list, this would not be overwritten at deployment, thus preserving the customizations.

If this is a new record, then fields in the exclude field list will be ignored. This just applies to updates.
"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Exclude field list"
  POSITION 16
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Exclude field list"
  ORDER 150

ADD INDEX "XPKgsc_dataset_entity" ON "gsc_dataset_entity" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "dataset_entity_obj" ASCENDING 

ADD INDEX "XAK1gsc_dataset_entity" ON "gsc_dataset_entity" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "deploy_dataset_obj" ASCENDING 
  INDEX-FIELD "entity_sequence" ASCENDING 

ADD INDEX "XIE1gsc_dataset_entity" ON "gsc_dataset_entity" 
  AREA "Schema Area"
  INDEX-FIELD "entity_mnemonic" ASCENDING 

ADD INDEX "XIE3gsc_dataset_entity" ON "gsc_dataset_entity" 
  AREA "Schema Area"
  INDEX-FIELD "deploy_dataset_obj" ASCENDING 
  INDEX-FIELD "primary_entity" ASCENDING 
  INDEX-FIELD "entity_mnemonic" ASCENDING 

ADD INDEX "XIE4gsc_dataset_entity" ON "gsc_dataset_entity" 
  AREA "Schema Area"
  INDEX-FIELD "join_entity_mnemonic" ASCENDING 
  INDEX-FIELD "dataset_entity_obj" ASCENDING 

ADD INDEX "XIE5gsc_dataset_entity" ON "gsc_dataset_entity" 
  AREA "Schema Area"
  INDEX-FIELD "relationship_obj" ASCENDING 

ADD TABLE "gsc_data_tag"
  AREA "Schema Area"
  DESCRIPTION "This table defines generic tags that may be assigned to data via the gsm_tagged_data table.

The core Dynamics framework utilises the tag mechanism to identify which data belongs to and is shipped with the core product using a tag ""ry-own"", e.g. to identify which object classes and related data belong to the core Dynamics product and should not be modified by users of the framework.

Applications could use the tag mechanism to tag data that belongs to specific applications, or for any other generic purpose.

The data in this table would need to be deployed as part of Dynamics and would typically only be relevant at design and deployment time rather than used as part of the runtime application. For example, rules could be applied to tagged data to prevent unauthorized or accidental modification of the data as design time, and tags could be used to help identify what data to deploy as part of an application.

A generic mechanism is required in the framework to be able to easily attach data tags to data, typically from a browse view but also from within viewers when maintaining a specific record. Additionally, a central tool is required to maintain and manage multiple tags together.

API's also need to be provided to make it easy to identify and work with tagged data as necessary.

Session / configuration data will be required to configure how to operate on specific tags for specific purposes, e.g. to disable certain data due to ownership rules.
"
  DUMP-NAME "gsctg"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsctgtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsctgtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsctgreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsctgrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsctgreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsctgtrigw.p" CRC "?" 

ADD FIELD "data_tag_obj" OF "gsc_data_tag" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Data tag obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Data tag obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "data_tag_code" OF "gsc_data_tag" AS character 
  DESCRIPTION "A unique name for the tag, e.g. ""ry-own"" for Dynamics system owned repository data.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Data tag code"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Data tag code"
  ORDER 20

ADD FIELD "data_tag_description" OF "gsc_data_tag" AS character 
  DESCRIPTION "A free text description describing the purpose of the tag, e.g. to tag data as being owned by the core Dynamics product as shipped by Progress.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Data tag description"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Data tag description"
  ORDER 30

ADD INDEX "XPKgsc_data_tag" ON "gsc_data_tag" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "data_tag_obj" ASCENDING 

ADD INDEX "XAK1gsc_data_tag" ON "gsc_data_tag" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "data_tag_code" ASCENDING 

ADD INDEX "XIE1gsc_data_tag" ON "gsc_data_tag" 
  AREA "Schema Area"
  INDEX-FIELD "data_tag_description" ASCENDING 

ADD TABLE "gsc_default_code"
  AREA "Schema Area"
  DESCRIPTION "This table makes provision for any number of parameters or system defaults that need be specified to the system, without neccessitating structural database changes.

How these parameters / defaults are used needs to be hard coded into the application.

These records can be grouped into sets under gsc_default_set, to facilitate different parameter / defaults sets. Again, the selection of a default set would be coded into the application.

An example would be different parameter sets for warehouse control, different controls per administration group etc."
  DUMP-NAME "gscdc"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscdctrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscdctrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscdcreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscdcrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscdcreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscdctrigw.p" CRC "?" 

ADD FIELD "default_set_code" OF "gsc_default_code" AS character 
  DESCRIPTION "A code to uniquely identify this default set code."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Default set code"
  POSITION 2
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Default set code"
  ORDER 10

ADD FIELD "owning_entity_mnemonic" OF "gsc_default_code" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 20

ADD FIELD "field_name" OF "gsc_default_code" AS character 
  DESCRIPTION "The field name used to uniquely identify the default code within the default set."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Field name"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Field name"
  ORDER 30

ADD FIELD "effective_date" OF "gsc_default_code" AS date 
  DESCRIPTION "The date this default code became effective. This rate is effective until a new effective date is entered."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Effective date"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "d_start_date"
  HELP "Effective date"
  ORDER 40

ADD FIELD "data_type" OF "gsc_default_code" AS character 
  DESCRIPTION "The PROGRESS data type of this profile code as follows:
CHR = CHARACTER
INT =  INTEGER
DEC = DECIMAL
DAT = DATE"
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Data type"
  POSITION 6
  MAX-WIDTH 20
  VALMSG "s_data_type"
  HELP "Data type"
  ORDER 50

ADD FIELD "field_value" OF "gsc_default_code" AS character 
  DESCRIPTION "The value for the default, always in character format.

Where this is not character, it would need to be converted to the appropriate data_type before being used by the application.

The update program should set this value using a field type of the data_type to force a level of input validation, and then convert this to character to store in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Field value"
  POSITION 7
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Field value"
  ORDER 60

ADD FIELD "default_code_obj" OF "gsc_default_code" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default code obj"
  POSITION 8
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default code obj"
  DECIMALS 9
  ORDER 70

ADD INDEX "XPKgsc_default_code" ON "gsc_default_code" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "default_set_code" ASCENDING 
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "field_name" ASCENDING 
  INDEX-FIELD "effective_date" ASCENDING 

ADD INDEX "XAK1gsc_default_code" ON "gsc_default_code" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "default_code_obj" ASCENDING 

ADD TABLE "gsc_default_set"
  AREA "Schema Area"
  DESCRIPTION "This table is used to associate a set of parameters / defaults i.e. a set of gsc_default_code records.

For example, there could be a general set of defaults applicable to the system in general, and other sets of defaults to be used in certain circumstances e.g. for a specific department.

The way these sets are used must be hard coded into the application."
  DUMP-NAME "gscds"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscdstrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscdstrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscdsreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscdsrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscdsreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscdstrigw.p" CRC "?" 

ADD FIELD "default_set_code" OF "gsc_default_set" AS character 
  DESCRIPTION "A code to uniquely identify this default set code."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Default set code"
  POSITION 2
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Default set code"
  ORDER 10

ADD FIELD "default_set_description" OF "gsc_default_set" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Default set description"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Default set description"
  ORDER 20

ADD FIELD "default_set_obj" OF "gsc_default_set" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default set obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default set obj"
  DECIMALS 9
  ORDER 30

ADD INDEX "XPKgsc_default_set" ON "gsc_default_set" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "default_set_code" ASCENDING 

ADD INDEX "XAK1gsc_default_set" ON "gsc_default_set" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "default_set_obj" ASCENDING 

ADD INDEX "XIE1gsc_default_set" ON "gsc_default_set" 
  AREA "Schema Area"
  INDEX-FIELD "default_set_description" ASCENDING 

ADD TABLE "gsc_default_set_usage"
  AREA "Schema Area"
  DESCRIPTION "This table associates default sets with objects in the application.

For example, in property administration, a default set could be for a specific administration company. In medical aid, a default set could be for a specific scheme option, employer group etc."
  DUMP-NAME "gscdu"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscdutrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscdutrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscdutrigw.p" CRC "?" 

ADD FIELD "default_set_code" OF "gsc_default_set_usage" AS character 
  DESCRIPTION "A code to uniquely identify this default set code."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Default set code"
  POSITION 2
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Default set code"
  ORDER 10

ADD FIELD "owning_entity_mnemonic" OF "gsc_default_set_usage" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 20

ADD FIELD "owning_obj" OF "gsc_default_set_usage" AS decimal 
  DESCRIPTION "."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "default_set_usage_obj" OF "gsc_default_set_usage" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default set usage obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default set usage obj"
  DECIMALS 9
  ORDER 40

ADD INDEX "XPKgsc_default_set_usage" ON "gsc_default_set_usage" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "default_set_code" ASCENDING 
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 

ADD INDEX "XIE1gsc_default_set_usage" ON "gsc_default_set_usage" 
  AREA "Schema Area"
  INDEX-FIELD "default_set_usage_obj" ASCENDING 

ADD TABLE "gsc_delivery_method"
  AREA "Schema Area"
  DESCRIPTION "The supported methods of delivery, e.g. by hand, post, email, collection, etc."
  DUMP-NAME "gscdm"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscdmtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscdmtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscdmreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscdmrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscdmreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscdmtrigw.p" CRC "?" 

ADD FIELD "delivery_method_obj" OF "gsc_delivery_method" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Delivery method obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Delivery method obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "delivery_method_tla" OF "gsc_delivery_method" AS character 
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Delivery method TLA"
  POSITION 3
  MAX-WIDTH 6
  VALMSG "s_tla"
  HELP "Delivery method three letter acronym"
  ORDER 20

ADD FIELD "delivery_method_short_desc" OF "gsc_delivery_method" AS character 
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Delivery method short desc."
  POSITION 4
  MAX-WIDTH 30
  VALMSG "s_short_desc"
  HELP "Delivery method short description"
  ORDER 30

ADD FIELD "delivery_method_description" OF "gsc_delivery_method" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Delivery method description"
  POSITION 5
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Delivery method description"
  ORDER 40

ADD FIELD "postal_service_method" OF "gsc_delivery_method" AS logical 
  DESCRIPTION "Does this delivery method utilise a postal service requiring postal addresses e.g. post office, DHL, etc. 

If it is, then the g_address.is_it_a_postal_address must also be set to yes to receive these type of deliveries.

If it is set to no, then it is a physical delivery method, e.g. by hand and requires that g_address.is_it_a_delivery_address be set to yes."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Postal service method"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Postal service method"
  ORDER 50

ADD FIELD "address_label_required" OF "gsc_delivery_method" AS logical 
  DESCRIPTION "Is an address label required for this type of delivery method."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Address label required"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Address label required"
  ORDER 60

ADD FIELD "delivery_custom_procedure_obj" OF "gsc_delivery_method" AS decimal 
  DESCRIPTION "This field contains a pointer to a customised procedure to accomodate the actual delivery e.g. a procedure to handle the email process."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Delivery custom procedure obj"
  POSITION 8
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Delivery custom procedure obj"
  DECIMALS 9
  ORDER 70

ADD INDEX "XPKgsc_delivery_method" ON "gsc_delivery_method" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "delivery_method_obj" ASCENDING 

ADD INDEX "XAK1gsc_delivery_method" ON "gsc_delivery_method" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "delivery_method_tla" ASCENDING 

ADD INDEX "XIE1gsc_delivery_method" ON "gsc_delivery_method" 
  AREA "Schema Area"
  INDEX-FIELD "delivery_method_short_desc" ASCENDING 

ADD INDEX "XIE2gsc_delivery_method" ON "gsc_delivery_method" 
  AREA "Schema Area"
  INDEX-FIELD "delivery_method_description" ASCENDING 

ADD TABLE "gsc_deploy_dataset"
  AREA "Schema Area"
  DESCRIPTION "This table defines the sets of data that need to be deployed to end-user sites and migrated to different workspace databases. Usually it is static data that needs to be deployed. This table with its child table gsc_dataset_entity identify which data must be deployed as a set, i.e. has dependancies. For example, in order to deploy menu items, objects on the menu item would also need to be deployed.

These tables also define the dataset for deployment of logical objects managed by the scm tool, e.g. the ryc_smartobject and related tables.

To deploy and load the data, xml files will be generated for the dataset.

The dataset must always have a main table that is being deployed, plus all related tables that need to be deployed with it, together with appropriate join information.

Example datasets could be for SmartObjects, menus, objects, etc. It is likely that a seperate dataset will be defined for most data tables that need to be deployed, but that these datasets will include a parent dataset that includes this dataset.

When automatically generating triggers from ERWin an entity-level UDP (DeployData) is used to indicate whether trigger code should be generated for the static tables to support data deployment. A flag also exists in the entity mnemonic table called deploy_data for the same purpose.

For customer sites that receive a dataset deployment, the last deployment loaded for this dataset is record here. This helps identify at what version the current static data is for a particular database.

Customers should not modify or deploy from datasets sent by suppliers. The customer can however create their own datasets containing the same tables and deploy from these datasets. As a dataset deployment includes an xml file registered as part of the deployment, the customer can simply utilise this xml file for their database and any subsequent databases and sites they wish to pass the data on to."
  DUMP-NAME "gscdd"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscddtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscddtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscddreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscddrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscddreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscddtrigw.p" CRC "?" 

ADD FIELD "deploy_dataset_obj" OF "gsc_deploy_dataset" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Deploy dataset obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Deploy dataset obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "dataset_code" OF "gsc_deploy_dataset" AS character 
  DESCRIPTION "This is a unique code by which this dataset is identified."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Dataset code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Dataset code"
  ORDER 20

ADD FIELD "dataset_description" OF "gsc_deploy_dataset" AS character 
  DESCRIPTION "This is a free-text description of the dataset."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Dataset description"
  POSITION 4
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Dataset description"
  ORDER 30

ADD FIELD "disable_ri" OF "gsc_deploy_dataset" AS logical 
  DESCRIPTION "If set to yes, all triggers are disabled before data is dumped and loaded for this dataset."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Disable ri"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Disable ri"
  ORDER 40

ADD FIELD "source_code_data" OF "gsc_deploy_dataset" AS logical 
  DESCRIPTION "If this flag is set to YES, then the data to include in the deployment is identified by the SCM tool rather than the gst_record_version table.

This would be the case for the ryc_smartobject dataset.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Source code data"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Source code data"
  ORDER 50

ADD FIELD "deploy_full_data" OF "gsc_deploy_dataset" AS logical 
  DESCRIPTION "If set to yes, this field indicates that the entire set of records contained in this primary and related tables must be deployed.

This is primarily for datasets that are not directly related but contain low volumes of fairly static data.

If set to no, then only records that have changed, as identified by the table version information in ICFDB will be deployed.

Note that any filter criteria in the filter_where_clause on the gsc_dataset_entity will still be honored."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Deploy full data"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Deploy full data"
  ORDER 60

ADD FIELD "xml_generation_procedure" OF "gsc_deploy_dataset" AS character 
  DESCRIPTION "This field contains the name of a procedure that generates the XML for this dataset.

If specified, this overrides the standard XML generation procedure supplied with the framework."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Xml generation procedure"
  POSITION 8
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Xml generation procedure"
  ORDER 70

ADD FIELD "default_ado_filename" OF "gsc_deploy_dataset" AS character 
  DESCRIPTION "This is the default name of the ADO file containing the dumped data in the deployment, including data from all tables identified in the dataset.

If not specified, the ADO filename will be structured based on the owning site code and the dataset code together, with no extension.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Default ado filename"
  POSITION 9
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Default ado filename"
  ORDER 80

ADD FIELD "deploy_additions_only" OF "gsc_deploy_dataset" AS logical 
  DESCRIPTION "When certain tables are deployed, the target repository must only be updated with details of new records - it must never modify the value of existing records. This is a logical field to support that functionality, defaulting to NO. An example of a tables that require this field are gsc_sequence and gsc_session_type where we must not overwrite customers data, but must add new records for ones that do not exist.
Currently the functionality for sequences is hard coded. This change removes the hard coding and also facilitates the functionality for additional tables.
We need to have this information stored in the repository to support new automated deployment and load options planned without user intervention.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Deploy additions only"
  POSITION 10
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Deploy additions only"
  ORDER 90

ADD FIELD "enable_data_versioning" OF "gsc_deploy_dataset" AS logical 
  DESCRIPTION "This flag indicates whether to enable data versioning for this dataset. If this flag is set to YES, then data versioning is enabled. In addition to setting this flag to YES, the version_data flag on all the entities this dataset includes must also be set to YES in order to ensure replication schema triggers exist for the tables, which is where the functioinality is controlled.

When this flag is set to YES, any updates to any of the dataset entities will result in an update of the version_number_sequence field in gst_record_version record, for the primary entity in the dataset.

By default this is set to NO and must be manually enabled. This is done to avoid the overhead assiciated with inadvertantly setting this functionality on when it is not required.

It is only necessary to enable data versioning where we need to track what data has changed in tables to know what to deploy. If we set the flag to NO, then all the data in the table or a manual selection of data would be deployed with no knowledge of what HAS to be deployed because it has changed.


"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Enable data versioning"
  POSITION 11
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Enable data versioning"
  ORDER 100

ADD FIELD "deletion_dataset" OF "gsc_deploy_dataset" AS logical 
  DESCRIPTION "This is a flag, YES or NO, that determines whether this dataset can be used to determine relationships when deploying a deletion.

If this flag is set to YES, then the entities defined in this dataset, and their relationship information, will be used to determine exactly what related data to delete when deleting a primary entity as part of a deployment.

For a single primary entity, multiple datasets may be used to actually delete all of the primary entity related data.

The default is NO so that it is a manual and deliberate action to enable this functionality for a dataset, as settinmg this flag incorrectly could have drastic impact on the database referential integrity.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Deletion dataset"
  POSITION 12
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Deletion dataset"
  ORDER 110

ADD INDEX "XPKgsc_deploy_dataset" ON "gsc_deploy_dataset" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "deploy_dataset_obj" ASCENDING 

ADD INDEX "XAK1gsc_deploy_dataset" ON "gsc_deploy_dataset" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "dataset_code" ASCENDING 

ADD INDEX "XIE1gsc_deploy_dataset" ON "gsc_deploy_dataset" 
  AREA "Schema Area"
  INDEX-FIELD "dataset_description" ASCENDING 

ADD INDEX "XIE2gsc_deploy_dataset" ON "gsc_deploy_dataset" 
  AREA "Schema Area"
  INDEX-FIELD "source_code_data" ASCENDING 

ADD TABLE "gsc_deploy_package"
  AREA "Schema Area"
  DESCRIPTION "This table facilitates defining groups of datasets that should be deployed together as a single package. This enables users to ensure they send all related datasets inclduing related / dependant data that has also changed."
  DUMP-NAME "gscdp"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscdptrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscdptrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscdptrigw.p" CRC "?" 

ADD FIELD "deploy_package_obj" OF "gsc_deploy_package" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Deploy package obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Deploy package obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "package_code" OF "gsc_deploy_package" AS character 
  DESCRIPTION "A unique code to identify the package"
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Package code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Package code"
  ORDER 20

ADD FIELD "package_description" OF "gsc_deploy_package" AS character 
  DESCRIPTION "A description of the package."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Package description"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Package description"
  ORDER 30

ADD INDEX "XPKgsc_deploy_package" ON "gsc_deploy_package" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "deploy_package_obj" ASCENDING 

ADD INDEX "XAK1gsc_deploy_package" ON "gsc_deploy_package" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "package_code" ASCENDING 

ADD INDEX "XIE1gsc_deploy_package" ON "gsc_deploy_package" 
  AREA "Schema Area"
  INDEX-FIELD "package_description" ASCENDING 

ADD TABLE "gsc_document_type"
  AREA "Schema Area"
  DESCRIPTION "The document types supported by the system. Certain document types will be hard coded as they form an integral part of the application, e.g. membership cards, etc.

Each document type will have one or more document formats associated with a customised formatting procedure.

A document type should be set up for any outgoing documents.

We need to know the document_type_tla for system owned document types as this will be used in any print_option_tlas fields to determine where certain data should be printed.

"
  DUMP-NAME "gscdt"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscdttrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscdttrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscdtreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscdtrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscdtreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscdttrigw.p" CRC "?" 

ADD FIELD "document_type_obj" OF "gsc_document_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Document type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Document type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "document_type_tla" OF "gsc_document_type" AS character 
  DESCRIPTION "A 3 character mnemonic to define the document type.

The document_type_tla must be unique as it will be used in print_option_tlas fields to identify on which document types the relevant entity data should be printed.
"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Document type TLA"
  POSITION 3
  MAX-WIDTH 6
  VALMSG "s_tla"
  HELP "Document type three letter acronym"
  ORDER 20

ADD FIELD "document_type_short_desc" OF "gsc_document_type" AS character 
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Document type short desc."
  POSITION 4
  MAX-WIDTH 30
  VALMSG "s_short_desc"
  HELP "Document type short description"
  ORDER 30

ADD FIELD "document_type_description" OF "gsc_document_type" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Document type description"
  POSITION 5
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Document type description"
  ORDER 40

ADD FIELD "system_owned" OF "gsc_document_type" AS logical 
  DESCRIPTION "Where a document type is system owned, the document_type_code will contain a hard coded value that will be referenced in program code. It may not be deleted."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "System owned"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "System owned"
  ORDER 50

ADD FIELD "default_delivery_method" OF "gsc_document_type" AS decimal 
  DESCRIPTION "The default way this type of document should be delivered, e.g. by hand, email, etc."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default delivery method"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default delivery method"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKgsc_document_type" ON "gsc_document_type" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "document_type_obj" ASCENDING 

ADD INDEX "XAK1gsc_document_type" ON "gsc_document_type" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "document_type_tla" ASCENDING 

ADD INDEX "XIE1gsc_document_type" ON "gsc_document_type" 
  AREA "Schema Area"
  INDEX-FIELD "document_type_description" ASCENDING 

ADD INDEX "XIE2gsc_document_type" ON "gsc_document_type" 
  AREA "Schema Area"
  INDEX-FIELD "document_type_short_desc" ASCENDING 

ADD TABLE "gsc_entity_display_field"
  AREA "Schema Area"
  DESCRIPTION "This table defines the fields for a table that should be used when building generic objects for it, e.g. a dynamic browser.

It identifies the fields that should be used, the sequence of the fields, plus allows the label and format of the fields to be overridden.

This is actually used in the generic data security used by the framework. 

If no entries exist in this table, then all the fields other than any object fields will be used, in the standard field order as defined in the database.

This table should initially be populated automatically from the metaschema but may then be modified accordingly.

This table does not support joined fields.
"
  DUMP-NAME "gsced"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscedtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscedtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscedreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscedrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscedreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscedtrigw.p" CRC "?" 

ADD FIELD "entity_display_field_obj" OF "gsc_entity_display_field" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Entity display field obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Entity display field obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "entity_mnemonic" OF "gsc_entity_display_field" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Entity"
  ORDER 20

ADD FIELD "display_field_name" OF "gsc_entity_display_field" AS character 
  DESCRIPTION "The name of a field to include in a dynamic object for this table, e.g. a dynamic browser object.
The actual field name must be specified with no table prefix. The field must be a valid field in the table defined by the entity code.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Display field name"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Display field name"
  ORDER 30

ADD FIELD "display_field_order" OF "gsc_entity_display_field" AS integer 
  DESCRIPTION "The order that the fields should be displayed in the dynaic object. The order is an integer field. If left at 0, then the fields will be sorted alphabetically.
This order field will initially be populated from the metaschema field order.
"
  FORMAT "->>>>>9"
  INITIAL "0"
  LABEL "Display field order"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "n_integer_6"
  HELP "Display field order"
  ORDER 40

ADD FIELD "display_field_label" OF "gsc_entity_display_field" AS character 
  DESCRIPTION "This is an override label for the specified display field. If left blank, then the standard label from the metaschema will be used.
"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Display field label"
  POSITION 6
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Display field label"
  ORDER 50

ADD FIELD "display_field_column_label" OF "gsc_entity_display_field" AS character 
  DESCRIPTION "This is an override column label for the specified display field. If left blank, then the standard label from the metaschema will be used.
"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Display field column label"
  POSITION 7
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Display field column label"
  ORDER 60

ADD FIELD "display_field_format" OF "gsc_entity_display_field" AS character 
  DESCRIPTION "This is an override format for the specified display field. If left blank, then the standard format from the metaschema will be used.
This field will initially be populated from the metaschema field format.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Display field format"
  POSITION 8
  MAX-WIDTH 70
  VALMSG "s_format_string"
  HELP "Display field format"
  ORDER 70

ADD INDEX "XPKgsc_entity_display_field" ON "gsc_entity_display_field" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "entity_display_field_obj" ASCENDING 

ADD INDEX "XAK1gsc_entity_display_field" ON "gsc_entity_display_field" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "entity_mnemonic" ASCENDING 
  INDEX-FIELD "display_field_name" ASCENDING 

ADD INDEX "XAK2gsc_entity_display_field" ON "gsc_entity_display_field" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "entity_mnemonic" ASCENDING 
  INDEX-FIELD "display_field_order" ASCENDING 
  INDEX-FIELD "display_field_name" ASCENDING 

ADD TABLE "gsc_entity_mnemonic"
  AREA "Schema Area"
  DESCRIPTION "This table stores all the hard coded entity mnemonics allocated to every table in the application. It defines a meaningful short code and identifies the table name for each table.

It also defines generic information about the entity used when generating dynamic or generic objects based on the table, auto generating triggers, etc."
  DUMP-NAME "gscem"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscemtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscemtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscemreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscemrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscemreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscemtrigw.p" CRC "?" 

ADD FIELD "entity_mnemonic" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Entity"
  POSITION 2
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Entity"
  ORDER 10

ADD FIELD "entity_mnemonic_short_desc" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "A short reference for the table used to lookup the table - this is a free text description"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Entity short desc."
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Entity short description"
  ORDER 20

ADD FIELD "entity_mnemonic_description" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "This field should store the actual table name in full, e.g. gsm_user. The fact that this field contains the table name is relied upon within the framework."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Entity description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Entity description"
  ORDER 30

ADD FIELD "auto_properform_strings" OF "gsc_entity_mnemonic" AS logical 
  DESCRIPTION "Should all character fields be properformed, i.e. automatically tidy up the case of the value into correct upper and lower case."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Auto properform strings"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Auto properform strings"
  ORDER 40

ADD FIELD "entity_mnemonic_label_prefix" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "An optional prefix to selectively replace the first word of screen labels for fields in the associated table. This will primarily be used for tables in the framework to provide more meaningful labels.

For example a table gsm_region in a specfic application may be used for suburbs and have a label prefix of ""suburb"" rather than ""region"".

The label prefix will actually replace the first word in the field label defined on the database.

Where the table has more than one meaning, e.g. a gsm_person can be a member, a contact, a practioner, etc. then the label may be defined elsewhere."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Entity label prefix"
  POSITION 6
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Entity label prefix"
  ORDER 50

ADD FIELD "entity_mnemonic_obj" OF "gsc_entity_mnemonic" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Entity obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Entity obj"
  DECIMALS 9
  ORDER 60

ADD FIELD "entity_description_field" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "The name of the description field for this entity. Armed with this information and the object number, we can dynamically return the description of any record in any table."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Entity description field"
  POSITION 8
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Entity description field"
  ORDER 70

ADD FIELD "entity_description_procedure" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "The name of a procedure to run in order to work out the description of the entity. This is only required in the event that the entity description spans multiple fields (potentially from related entities). If this field is specified, it will override the entity description field.

A relative path to the procedure must be included. The procedure written must take the object number as an input parameter, and output a single character string containing the object description."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Entity description procedure"
  POSITION 9
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Entity description procedure"
  ORDER 80

ADD FIELD "entity_narration" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "A free text narration of the entity used to assist users in identifying the entity and what it is used for."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Entity narration"
  POSITION 10
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Entity narration"
  ORDER 90

ADD FIELD "entity_object_field" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "The name of the unique object field for this entity used to join to other tables. Usually this field is the same as the tablename without the 4 character prefix and ends in _obj. The datatype of this field should be a decimal with at least decimals 9. 

If left blank, then the above assumption will be used to find the object field where required.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Entity object field"
  POSITION 11
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Entity object field"
  ORDER 100

ADD FIELD "table_has_object_field" OF "gsc_entity_mnemonic" AS logical 
  DESCRIPTION "If set to NO, this table does not contain a generic object field used to join to generic tables, e.g. comments, auditing, etc.

Usually this will be set to YES, but tables in existing databases that do not conform to the framework standards may have this field set to NO.
"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Table has object field"
  POSITION 12
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Table has object field"
  ORDER 110

ADD FIELD "entity_key_field" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "The name of the unique key field or fields for this entity. This should be a field or fields other than the object field that could be used to uniquely find information in this entity. This would often be used in lookups, etc. so the code and description can be displayed to the user.
If more than one field is necesarry to uniquely identify a record, the field names will be stored in a comma seperated list
"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Entity key field"
  POSITION 13
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Entity key field"
  ORDER 120

ADD FIELD "table_prefix_length" OF "gsc_entity_mnemonic" AS integer 
  DESCRIPTION "This is the length of the table prefix appended to all table names as per the framework standards. The framework uses a 4 character table prefix - see the standards documentation for further details.
"
  FORMAT "->9"
  INITIAL "0"
  LABEL "Table prefix length"
  POSITION 14
  MAX-WIDTH 4
  VALMSG "n_integer_2"
  HELP "Table prefix length"
  ORDER 130

ADD FIELD "field_name_separator" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "The basis of identifying what is used to break up field names into words.
The framework standard is to separate fields with an underscore so this field would be set to ""_"".
Some database designs separate fields by uppercasing the first character of each word and in this case the value of this field would be ""upper""."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Field name separator"
  POSITION 15
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Field name separator"
  ORDER 140

ADD FIELD "auditing_enabled" OF "gsc_entity_mnemonic" AS logical 
  DESCRIPTION "If set to YES, auditing will be enabled for this table and will be done via the generic triggers generated from ERwin.

You should only enable auditing where required so as not to adversly affect the performance of the application."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Auditing enabled"
  POSITION 16
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Auditing enabled"
  ORDER 150

ADD FIELD "version_data" OF "gsc_entity_mnemonic" AS logical 
  DESCRIPTION "If set to YES, this field indicates that the data in the table should be version-stamped.

This will result in replication triggers on the table writing data to the gst_record_version table.

This field corresponds to the entity level UDP setup in ERwin as VersionData.

The version information is used to identify which records have changed for deployment purposes.

This flag is used in conjunction with the enable_data_versioning on the dataset entity to determine exactly how the entity is versioned.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Version data"
  POSITION 17
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Version data"
  ORDER 160

ADD FIELD "deploy_data" OF "gsc_entity_mnemonic" AS logical 
  DESCRIPTION "If set to yes, then data in this table needs to be deployed.

Whether data has changed and needs to be deployed is identified by the existence of records in the gst_record_version table for this entity.

What data gets deployed and how it relates to other data is specified via setting up deployment datasets."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Deploy data"
  POSITION 18
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Deploy data"
  ORDER 170

ADD FIELD "entity_dbname" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "This is the logical database name in which this table resides."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Entity DB name"
  POSITION 19
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Entity database name"
  ORDER 180

ADD FIELD "replicate_entity_mnemonic" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "If SCM data versioning is to be enabled for this entity, then the FLA of the primary replication table should be specified, e.g. RYCSO for the ryc_smartobject table.

For the primary table, the entity_mnemonic and this field will be the same.

This field corresponds to the entity level UDP setup in ERwin as ReplicateFLA.

If this field is defined and scm checking is enabled via the flag in the security control table, then modifications to data in this table will be prevented without a valid checked out scm object in a valid task."
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Replicate entity"
  POSITION 20
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Replicate entity"
  ORDER 190

ADD FIELD "replicate_key" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "This field is only applicable if the replicate_entity_mnemonic field has been specified turning on SCM data versioning for this entity

This is the join field to the primary replication table being versioned Usually this will be the same field as the primary key of the primary table, e.g. smartobject_obj, but if the foreign key field has been role named, as is the case with page table, it could be something else, e.g. container_smartobject_obj. Multiple primary key fields are supported and must be separated by commas.

This field corresponds to the entity level UDP setup in ERwin as ReplicateKey.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Replicate key"
  POSITION 21
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Replicate key"
  ORDER 200

ADD FIELD "scm_field_name" OF "gsc_entity_mnemonic" AS character 
  DESCRIPTION "This field is only applicable if the replicate_entity_mnemonic field has been specified turning on SCM data versioning for this entity

This is only required for the primary entity being versioned and is the unique field for the data that is also used as the object name in the SCM Tool. E.g. for ryc_smartobject this would be the object_filename, but in other tables it may be some unique reference field that identifies the data.

This field corresponds to the entity level UDP setup in ERwin as SCMField

"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "SCM field name"
  POSITION 22
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "SCM field name"
  ORDER 210

ADD FIELD "reuse_deleted_keys" OF "gsc_entity_mnemonic" AS logical 
  DESCRIPTION "This flag is only relevant for entities that have record versioning enabled and the table has obj field is true - i.e. this is a table that has an object id field and some other unique key field(s).

If this flag is set to YES, then if a record is created with a key value that has been previously deleted, then the new record will be created with the deleted records object id and key value, ensuring the link between a key value and an object id are never broken.

This is designed to reolve issues of deploying data that is deleted and then reinstated with the same key information.

The default is YES as setting this to NO when it is required will result in conflicts when attempting to deploy record deletions.

If this flag is set to YES and this data is record versioned and the table has obj field is enabled, then modifications to the key field values will be disabled.

"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Reuse deleted keys"
  POSITION 23
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Reuse deleted keys"
  ORDER 220

ADD INDEX "XPKgsc_entity_mnemonic" ON "gsc_entity_mnemonic" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "entity_mnemonic" ASCENDING 

ADD INDEX "XAK1gsc_entity_mnemonic" ON "gsc_entity_mnemonic" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "entity_mnemonic_obj" ASCENDING 

ADD INDEX "XIE1gsc_entity_mnemonic" ON "gsc_entity_mnemonic" 
  AREA "Schema Area"
  INDEX-FIELD "entity_mnemonic_short_desc" ASCENDING 

ADD INDEX "XIE2gsc_entity_mnemonic" ON "gsc_entity_mnemonic" 
  AREA "Schema Area"
  INDEX-FIELD "entity_mnemonic_description" ASCENDING 

ADD INDEX "XIE3gsc_entity_mnemonic" ON "gsc_entity_mnemonic" 
  AREA "Schema Area"
  INDEX-FIELD "deploy_data" ASCENDING 
  INDEX-FIELD "entity_mnemonic" ASCENDING 

ADD INDEX "XIE4gsc_entity_mnemonic" ON "gsc_entity_mnemonic" 
  AREA "Schema Area"
  INDEX-FIELD "replicate_entity_mnemonic" ASCENDING 

ADD INDEX "XIE5gsc_entity_mnemonic" ON "gsc_entity_mnemonic" 
  AREA "Schema Area"
  INDEX-FIELD "version_data" ASCENDING 
  INDEX-FIELD "entity_mnemonic" ASCENDING 

ADD TABLE "gsc_entity_mnemonic_procedure"
  AREA "Schema Area"
  DESCRIPTION "This table contains pointers to procedures which may be automatically run by the system before and after table create, write and delete triggers.

The procedures would exist under a single category type with 6 category groups:
Before create
After create
Before write
After write
Before delete
After delete."
  DUMP-NAME "gscep"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsceptrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsceptrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscepreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsceprepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscepreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsceptrigw.p" CRC "?" 

ADD FIELD "custom_procedure_obj" OF "gsc_entity_mnemonic_procedure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Custom procedure obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Custom procedure obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "owning_entity_mnemonic" OF "gsc_entity_mnemonic_procedure" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 20

ADD FIELD "entity_mnemonic_procedure_obj" OF "gsc_entity_mnemonic_procedure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Entity procedure obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Entity procedure obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "run_this_procedure" OF "gsc_entity_mnemonic_procedure" AS logical 
  DESCRIPTION "If set to NO, this procedure will not be run automatically."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Run this procedure"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Run this procedure"
  ORDER 40

ADD INDEX "XPKgsc_entity_mnemonic_procedu" ON "gsc_entity_mnemonic_procedure" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "custom_procedure_obj" ASCENDING 
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 

ADD INDEX "XIE1gsc_entity_mnemonic_proced" ON "gsc_entity_mnemonic_procedure" 
  AREA "Schema Area"
  INDEX-FIELD "entity_mnemonic_procedure_obj" ASCENDING 

ADD TABLE "gsc_error"
  AREA "Schema Area"
  DESCRIPTION "This table defines all the application errors that can occur, together with summary and full descriptions.

The summary description will be shown first, with an option to display a fuller description if available.

The use of error codes from this table facilitates the customisation of error messages.

This table now supports any kind of message to the user. No messages should be hard coded in the application at all, every message to the user should be channelled through here. Supported message types are:

MES = Message
INF = Information
ERR = Error
WAR = Warning
QUE = Question

The default is ERR for Error if nothing is set-up.

Errors in multiple langages are also supported if required.
"
  DUMP-NAME "gscer"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscertrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscertrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscerreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscerrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscerreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscertrigw.p" CRC "?" 

ADD FIELD "error_group" OF "gsc_error" AS character 
  DESCRIPTION "A group code for this error. A sample use of this could be to group errors by application, e.g. ""ICF"" for ICF Framework error, ""RV"" for ICF Repository Version errors, etc."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Message group"
  POSITION 2
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Message group"
  ORDER 10

ADD FIELD "error_number" OF "gsc_error" AS integer 
  DESCRIPTION "A unique number within error group to identify the error."
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Message number"
  POSITION 3
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Message number"
  ORDER 20

ADD FIELD "language_obj" OF "gsc_error" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Language obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Language obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "error_summary_description" OF "gsc_error" AS character 
  DESCRIPTION "A brief description of the error."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Message summary description"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Message summary description"
  ORDER 40

ADD FIELD "error_full_description" OF "gsc_error" AS character 
  DESCRIPTION "A full description of the error."
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Message full description"
  POSITION 6
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_big_text_block"
  HELP "Message full description"
  ORDER 50

ADD FIELD "error_obj" OF "gsc_error" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Message obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Message obj"
  DECIMALS 9
  ORDER 60

ADD FIELD "update_error_log" OF "gsc_error" AS logical 
  DESCRIPTION "If set to YES, then whenever this error occurs, it will always be written to the error log.

In business logic run on the server, errors will be written to the error log regardless of this setting. The setting is only used for client side on-line processing."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Update message log"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Update Message log"
  ORDER 70

ADD FIELD "error_type" OF "gsc_error" AS character 
  DESCRIPTION "This indicates the type of error and how to display the error to the user. Supported message types are:

MES = Message
INF = Information
ERR = Error
WAR = Warning
QUE = Question

The default is ERR for Error if nothing is set-up."
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Message type"
  POSITION 9
  MAX-WIDTH 6
  VALMSG "s_tla"
  HELP "Message type"
  ORDER 80

ADD FIELD "source_language" OF "gsc_error" AS logical 
  DESCRIPTION "This field is a logical field and there should always only be one per error group and error number. The maintenance viewer should ensure that if a new default is selected that the user is prompt with a question requesting that the other default error not be the default anymore and subsequently changed when the user agrees to it."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Source language"
  POSITION 10
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Source language"
  ORDER 90

ADD INDEX "XPKgsc_error" ON "gsc_error" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "error_group" ASCENDING 
  INDEX-FIELD "error_number" ASCENDING 
  INDEX-FIELD "language_obj" ASCENDING 

ADD INDEX "XAK1gsc_error" ON "gsc_error" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "error_obj" ASCENDING 

ADD INDEX "XIE1gsc_error" ON "gsc_error" 
  AREA "Schema Area"
  INDEX-FIELD "error_group" ASCENDING 
  INDEX-FIELD "error_summary_description" ASCENDING 

ADD INDEX "XIE2gsc_error" ON "gsc_error" 
  AREA "Schema Area"
  INDEX-FIELD "language_obj" ASCENDING 
  INDEX-FIELD "error_group" ASCENDING 
  INDEX-FIELD "error_number" ASCENDING 

ADD INDEX "XIE3gsc_error" ON "gsc_error" 
  AREA "Schema Area"
  INDEX-FIELD "error_type" ASCENDING 
  INDEX-FIELD "error_group" ASCENDING 
  INDEX-FIELD "error_number" ASCENDING 

ADD INDEX "XIE4gsc_error" ON "gsc_error" 
  AREA "Schema Area"
  INDEX-FIELD "language_obj" ASCENDING 
  INDEX-FIELD "error_type" ASCENDING 
  INDEX-FIELD "error_group" ASCENDING 
  INDEX-FIELD "error_number" ASCENDING 

ADD INDEX "XIE5gsc_error" ON "gsc_error" 
  AREA "Schema Area"
  INDEX-FIELD "source_language" ASCENDING 

ADD TABLE "gsc_global_control"
  AREA "Schema Area"
  DESCRIPTION "This table defines system wide defaults. It contains a single record within which to hold the current system defaults.
"
  DUMP-NAME "gscgc"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscgctrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscgctrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscgctrigw.p" CRC "?" 

ADD FIELD "global_control_obj" OF "gsc_global_control" AS decimal 
  DESCRIPTION "A unique object number used to identify this version of the global control information."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Global control obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Global control obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "default_country_obj" OF "gsc_global_control" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default country obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default country obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "default_nationality_obj" OF "gsc_global_control" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default nationality obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default nationality obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "default_language_obj" OF "gsc_global_control" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default language obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default language obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "default_currency_obj" OF "gsc_global_control" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default currency obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default currency obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "date_format" OF "gsc_global_control" AS character 
  DESCRIPTION "The session:date-format to use as follows:

dmy
ymd
mdy"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Date format"
  POSITION 7
  MAX-WIDTH 6
  VALMSG "s_string_3"
  HELP "Date format"
  ORDER 60

ADD FIELD "date_format_mask" OF "gsc_global_control" AS character 
  DESCRIPTION "The PROGRESS format mask for date fields. The default is 99/99/9999
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Date format mask"
  POSITION 8
  MAX-WIDTH 70
  VALMSG "s_format_string"
  HELP "Date format mask"
  ORDER 70

ADD FIELD "repository_site_number" OF "gsc_global_control" AS integer 
  DESCRIPTION "This field records the site number for the current repository database. The site number is actually stored in the sequences seq_site_division and seq_site_reverse and the sequence values are used at runtime to determine the site number. 
This field is purely for validation purposes only so we can check against the actual sequence values and give an error if they do not match the value of this field.

This validation will help avoid issues where the sequence values do not get loaded correctly after a dump or load, or with a clean database.

Note that a site id of 0 is a valid site id!
"
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Repository site number"
  POSITION 9
  MAX-WIDTH 4
  VALMSG "n_integer_9"
  HELP "Repository site number"
  ORDER 80

ADD INDEX "XPKgsc_global_control" ON "gsc_global_control" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "global_control_obj" ASCENDING 

ADD TABLE "gsc_global_default"
  AREA "Schema Area"
  DESCRIPTION "This table contains global default values across the entire application. It differes from the parameter file in that the parameter file is specific to a user, whereas entries in this table are system wide.

Standard entries exist in the gsc_global_control table. This table facilitates the generic addition of other defaults without the need for database change. The entries in this table will be system owned by ther nature, and the only fields that may change are the owning_obj and the default_value. The changing of any of these values will create a new record for the owning_entity_mnemonic and default_type, efffective as of the new date with the new values.

Entries may not therefore be deleted from this table, other than by a system administrator."
  DUMP-NAME "gscgd"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscgdtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscgdtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscgdtrigw.p" CRC "?" 

ADD FIELD "global_default_obj" OF "gsc_global_default" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Global default obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Global default obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "owning_entity_mnemonic" OF "gsc_global_default" AS character 
  DESCRIPTION "The hard coded entity mnemonic this global default is for, i.e. the table the default relates to. For example, if this was a default gsc_custom_procedure, then this would be gsccp and the owing_obj would be a cutom_procedure_obj"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 20

ADD FIELD "default_type" OF "gsc_global_default" AS character 
  DESCRIPTION "A hard coded TLA to allow multiple defaults for a single table. For example, to allow many default custom procedures of different types, e.g. eft custom procedures, interest custom procedures, etc."
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Default type"
  POSITION 4
  MAX-WIDTH 6
  VALMSG "s_type"
  HELP "Default type"
  ORDER 30

ADD FIELD "effective_date" OF "gsc_global_default" AS date 
  DESCRIPTION "Any alterations to this record will necessitate the creation of a new record in order to retain a history of the global control information. This field contains the date from which this data is effective."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Effective date"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "d_start_date"
  HELP "Effective date"
  ORDER 40

ADD FIELD "owning_obj" OF "gsc_global_default" AS decimal 
  DESCRIPTION "This is the object number the default is for, and will depend on the value of the owning_entity_mnemonic. For example, if the owning_enity_mnemonic is gsccp, then the owning_obj will point to a custom_procedure_obj.."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "default_value" OF "gsc_global_default" AS character 
  DESCRIPTION "If the default is simply a value, rather than pointing at a specific record with an object number, then this field will contain the default value. If multiple values are to be used, then these will be in a comma delimited list. The use of the default value will be hard coded dependant on the owning_entity_mnemonic and the default_type."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Default value"
  POSITION 7
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Default value"
  ORDER 60

ADD INDEX "XPKgsc_global_default" ON "gsc_global_default" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "global_default_obj" ASCENDING 

ADD INDEX "XAK1gsc_global_default" ON "gsc_global_default" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 
  INDEX-FIELD "default_type" ASCENDING 
  INDEX-FIELD "effective_date" ASCENDING 

ADD TABLE "gsc_instance_attribute"
  AREA "Schema Area"
  DESCRIPTION "This table contains instance attributes used in the application. Instance attributes change the behaviour of generic objects. For example, a generic object could be developed that behaved differently in a creditors and debtors system. An instance attribute of creditor or debtor could be posted to the program when run to determine its instance specific functionality.

The instance attribute will be posted to the program either via the menu option the program was run from, as setup in the menu option, or hard coded in a program if the program was run from a button, etc.

For this reason, certain instance attributes will be system owned and cannot be maintained / deleted by users.

When security structures e.g. field security are setup, they may be defined globally, for a specific product, product module or down to individual program level. The instance attribute is a level below the program level that permits security settings per instance of a program.

Instance attributes will also be used for reporting to allow reports to be printed direct from menu options. The instance attribute code must map to the report_procedure_name in the report_definition table. Whenever a report definition is created, an instance attribute should automatically be created to facilitate this functionality.

"
  DUMP-NAME "gscia"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsciatrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsciatrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsciareplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsciarepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsciareplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsciatrigw.p" CRC "?" 

ADD FIELD "instance_attribute_obj" OF "gsc_instance_attribute" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Instance attribute obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Instance attribute obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "attribute_code" OF "gsc_instance_attribute" AS character 
  DESCRIPTION "A unique code to identify this attribute"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Attribute code"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Attribute code"
  ORDER 20

ADD FIELD "attribute_description" OF "gsc_instance_attribute" AS character 
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Attribute description"
  POSITION 4
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Attribute description"
  ORDER 30

ADD FIELD "disabled" OF "gsc_instance_attribute" AS logical 
  DESCRIPTION "If set to YES, then this attribute will not be checked, and full access will be granted."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Disabled"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Disabled"
  ORDER 40

ADD FIELD "system_owned" OF "gsc_instance_attribute" AS logical 
  DESCRIPTION "The instance attribute will be posted to the program either via the menu option the program was run from, as setup in the menu option, or hard coded in a program if the program was run from a button, etc.

For this reason, certain instance attributes will be system owned and cannot be maintained / deleted by users.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 50

ADD FIELD "attribute_type" OF "gsc_instance_attribute" AS character 
  DESCRIPTION "The type of attribute, e.g.
REP = Report Attribute - see below
MEN = Standard Menu Attribute
OTH = Other

Instance attributes will also be used for reporting to allow reports to be printed direct from menu options. The instance attribute code must map to the report_procedure_name in the report_definition table. Whenever a report definition is created, an instance attribute should automatically be created to facilitate this functionality - with the attribute_type set to REP."
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Attribute type"
  POSITION 7
  MAX-WIDTH 6
  VALMSG "s_type"
  HELP "Attribute type"
  ORDER 60

ADD INDEX "XPKgsc_instance_attribute" ON "gsc_instance_attribute" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "instance_attribute_obj" ASCENDING 

ADD INDEX "XAK1gsc_instance_attribute" ON "gsc_instance_attribute" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "attribute_code" ASCENDING 

ADD INDEX "XAK2gsc_instance_attribute" ON "gsc_instance_attribute" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "attribute_type" ASCENDING 
  INDEX-FIELD "attribute_code" ASCENDING 

ADD INDEX "XIE1gsc_instance_attribute" ON "gsc_instance_attribute" 
  AREA "Schema Area"
  INDEX-FIELD "attribute_description" ASCENDING 

ADD TABLE "gsc_item_category"
  AREA "Schema Area"
  DESCRIPTION "This table is used to categorize items into common groups. Typical groups may be ADM Navigation, ADM TableIO or  ADM Menu . Categories may also be used to group items into module specific areas."
  DUMP-NAME "gscic"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscictrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscictrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscicreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscicrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscicreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscictrigw.p" CRC "?" 

ADD FIELD "item_category_obj" OF "gsc_item_category" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Item category obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Item category obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "item_category_label" OF "gsc_item_category" AS character 
  DESCRIPTION "A unique label to identify the item category.
This label will appear in the treeview. Examples are TableIO, Navigation,  SubMenus,"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Item category label"
  POSITION 3
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Item category label"
  ORDER 20

ADD FIELD "item_category_description" OF "gsc_item_category" AS character 
  DESCRIPTION "A description indicating the intention of this category."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Item category description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Item category description"
  ORDER 30

ADD FIELD "item_link" OF "gsc_item_category" AS character 
  DESCRIPTION "This link acts as the default value for the item_link field in the gsm_menu_item table.

This is the link across which to perform the specified 'item_select' action.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Item link"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Item link"
  ORDER 40

ADD FIELD "system_owned" OF "gsc_item_category" AS logical 
  DESCRIPTION "If a menu structure is system owned, it may not be amended or deleted by users not permitted to maintain system owned data."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "System owned"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "System owned"
  ORDER 50

ADD FIELD "parent_item_category_obj" OF "gsc_item_category" AS decimal 
  DESCRIPTION "Used to point to the parent item_category record. This relationship allows a hierarchical relationship of item categories to be structured."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Parent item category obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Parent item category obj"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKgsc_item_category" ON "gsc_item_category" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "item_category_obj" ASCENDING 

ADD INDEX "XAK1gsc_item_category" ON "gsc_item_category" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "item_category_label" ASCENDING 

ADD INDEX "XAK2gsc_item_category" ON "gsc_item_category" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "parent_item_category_obj" ASCENDING 
  INDEX-FIELD "item_category_label" ASCENDING 

ADD INDEX "XIE1gsc_item_category" ON "gsc_item_category" 
  AREA "Schema Area"
  INDEX-FIELD "item_category_description" ASCENDING 

ADD TABLE "gsc_language"
  AREA "Schema Area"
  DESCRIPTION "The languages supported by the system."
  DUMP-NAME "gsclg"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsclgtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsclgtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsclgreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsclgrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsclgreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsclgtrigw.p" CRC "?" 

ADD FIELD "language_obj" OF "gsc_language" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Language obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Language obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "language_code" OF "gsc_language" AS character 
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Language code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Language code"
  ORDER 20

ADD FIELD "language_name" OF "gsc_language" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Language name"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Language name"
  ORDER 30

ADD FIELD "person_title1_label" OF "gsc_language" AS character 
  DESCRIPTION "This is the screen label to use when prmpting for the 1st person title in this language."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Person title1 label"
  POSITION 5
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Person title1 label"
  ORDER 40

ADD FIELD "person_title2_label" OF "gsc_language" AS character 
  DESCRIPTION "This is the screen label to use when prmpting for the 2nd person title in this language if applicable."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Person title2 label"
  POSITION 6
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Person title2 label"
  ORDER 50

ADD FIELD "person_title3_label" OF "gsc_language" AS character 
  DESCRIPTION "This is the screen label to use when prmpting for the 3rd person title in this language if applicable."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Person title3 label"
  POSITION 7
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Person title3 label"
  ORDER 60

ADD INDEX "XPKgsc_language" ON "gsc_language" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "language_obj" ASCENDING 

ADD INDEX "XAK1gsc_language" ON "gsc_language" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "language_code" ASCENDING 

ADD INDEX "XIE1gsc_language" ON "gsc_language" 
  AREA "Schema Area"
  INDEX-FIELD "language_name" ASCENDING 

ADD TABLE "gsc_language_text"
  AREA "Schema Area"
  DESCRIPTION "Totally generic text file for all supported languages. Text's may be associated with another entity (via owning_obj) or may be simply generic text of a certain type. Numbers enclosed in {} are for parameter substitution.
E.g. Scheme option names, transaction narrations, valid people titles, etc."
  DUMP-NAME "gsclt"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsclttrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsclttrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsclttrigw.p" CRC "?" 

ADD FIELD "language_text_obj" OF "gsc_language_text" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Language text obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Language text obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "owning_obj" OF "gsc_language_text" AS decimal 
  DESCRIPTION "This is set only in cases where this language text belongs to another entity, e.g. scheme option names (in each language) belonging to a specific scheme option."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "category_obj" OF "gsc_language_text" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Category obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Category obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "language_obj" OF "gsc_language_text" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Language obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Language obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "text_tla" OF "gsc_language_text" AS character 
  DESCRIPTION "This is the identifying TLA of the language text message. The same message in each language will have the same text_tla. In the case of system owned text, the text TLA will be hard coded and referenced within programs.

This code can not be amended as it is referenced in other tables within the databases. 

In the generic database these are currently g_eft_type and g_transaction_type.

Additionally in Medstar these are t_claim_note, t_claim_acctran and c_limit."
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Text TLA"
  POSITION 6
  MAX-WIDTH 6
  VALMSG "s_tla"
  HELP "Text three letter acronym"
  ORDER 50

ADD FIELD "physical_file_name" OF "gsc_language_text" AS character 
  DESCRIPTION "In cases where the text exists in an external file e.g. a Word document, this field would contain the full path, file name and extension.

The extension will determine the nature of the file in accordance with Microsoft standards.

If this field contains a file name, text_content may show the first portion of the document for identification purposes etc.."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Physical file name"
  POSITION 7
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Physical file name"
  ORDER 60

ADD FIELD "text_content" OF "gsc_language_text" AS character 
  DESCRIPTION "The actual text in the appropriate language. The text may include codes in brackets, e.g. {1} which will be substituted with appropriate data when used.

In cases where a physical file is entered, the physical file content will be used rather than this field value."
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Text content"
  POSITION 8
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_big_text_block"
  HELP "Text content"
  ORDER 70

ADD FIELD "system_owned" OF "gsc_language_text" AS logical 
  DESCRIPTION "Is this text system owned ? Certain text will be required and must be system generated. They cannot be deleted. Examples are narrations associated with transaction types, e.g. ""DR Interest""."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 80

ADD FIELD "max_length" OF "gsc_language_text" AS integer 
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Max. length"
  POSITION 10
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Maximum length"
  ORDER 90

ADD FIELD "print_option_tlas" OF "gsc_language_text" AS character 
  DESCRIPTION "An optional selection of TLA's from g_category.valid_print_option_tlas, used to determine on which documents this message is to be printed.
The recognition of these TLA's is hard coded in the appropriate document print programs."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Print option TLAs"
  POSITION 11
  MAX-WIDTH 140
  VALMSG "s_tla_list"
  HELP "Print option three letter acronyms"
  ORDER 100

ADD FIELD "search_string" OF "gsc_language_text" AS character 
  DESCRIPTION "A summary of the text content used for searching. This will be automatically populated with the start of the text_content by default."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Search string"
  POSITION 12
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Search string"
  ORDER 110

ADD INDEX "XPKgsc_language_text" ON "gsc_language_text" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "language_text_obj" ASCENDING 

ADD INDEX "XAK1gsc_language_text" ON "gsc_language_text" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "category_obj" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 
  INDEX-FIELD "language_obj" ASCENDING 
  INDEX-FIELD "text_tla" ASCENDING 

ADD INDEX "XIE1gsc_language_text" ON "gsc_language_text" 
  AREA "Schema Area"
  INDEX-FIELD "search_string" ASCENDING 

ADD TABLE "gsc_logical_service"
  AREA "Schema Area"
  DESCRIPTION "This table defines the logical services available to the application.

A logical service is a separate process running either locally or remotely that requires connection parameters to establish communication between the client and the service. 

Logical service names are unique so that connection to the service can be completely abstracted from the developer. 

The physical service will determine the actual connection parameters.

Which physical service is used is determined by combining the session type with the logical service.

Logical services for appserver service types would in fact be appserver partition names. Logical services for database connection service types would be the logical database name.

This table supports the registration of services and whether they are connected at start of a session is controlled by the connect_at_startup flag. This would typically be set to YES unless the service type is a webservice, in which case it would be NO typically due to the potential slow connection performance of webservices.

"
  DUMP-NAME "gscls"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsclstrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsclstrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsclsreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsclsrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsclsreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsclstrigw.p" CRC "?" 

ADD FIELD "logical_service_obj" OF "gsc_logical_service" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Logical service obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Logical service obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "logical_service_code" OF "gsc_logical_service" AS character 
  DESCRIPTION "A unique code to identify the logical service. This code may be referenced in application source code and so may never be modified once it has been used."
  FORMAT "X(20)"
  INITIAL ""
  LABEL "Logical service code"
  POSITION 3
  MAX-WIDTH 40
  VALMSG "s_string_20"
  HELP "Logical service code"
  ORDER 20

ADD FIELD "logical_service_description" OF "gsc_logical_service" AS character 
  DESCRIPTION "A free text description of the logical service."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Logical service description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Logical service description"
  ORDER 30

ADD FIELD "service_type_obj" OF "gsc_logical_service" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Service type obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Service type obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "can_run_locally" OF "gsc_logical_service" AS logical 
  DESCRIPTION "If set to YES then this logical service may run locally, i.e. we do not need to create entries in the session service table.

If set to NO, then we must have an entry in the session service table to use this partition."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Can run locally"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Can run locally"
  ORDER 50

ADD FIELD "system_owned" OF "gsc_logical_service" AS logical 
  DESCRIPTION "If set to YES this record may only be maintained by users who are permitted to maintain system data - as identified by a flag on the user record. This is to prevent accidental deletion of data required for the framework to work correctly."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 60

ADD FIELD "write_to_config" OF "gsc_logical_service" AS logical 
  DESCRIPTION "If set to yes, this attribute will force the system to write the procedure type and its relative path to the configuration file that is used at startup.

This allows overriding of the default management procedures, such as the session manager, context manager, etc."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Write to config"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Write to config"
  ORDER 70

ADD FIELD "connect_at_startup" OF "gsc_logical_service" AS logical 
  DESCRIPTION "This is a logical field that indicates whether the service should be connected at startup of a session. The default is YES. For webservice type connections this flag would typicaly set to NO and the webservice only connected to when required - due to the possible poor performance of webservice connections.
"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Connect at startup"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Connect at startup"
  ORDER 80

ADD INDEX "XPKgsc_logical_service" ON "gsc_logical_service" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "logical_service_obj" ASCENDING 

ADD INDEX "XAK1gsc_logical_service" ON "gsc_logical_service" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "logical_service_code" ASCENDING 

ADD INDEX "XIE1gsc_logical_service" ON "gsc_logical_service" 
  AREA "Schema Area"
  INDEX-FIELD "logical_service_description" ASCENDING 

ADD INDEX "XIE2gsc_logical_service" ON "gsc_logical_service" 
  AREA "Schema Area"
  INDEX-FIELD "service_type_obj" ASCENDING 

ADD TABLE "gsc_manager_type"
  AREA "Schema Area"
  DESCRIPTION "This table contains the definition of the standard manager types that are used in the framework.

A predefined set of manager types will exist in this table that support the framework functionality. Only managers that directly affect the core functionality of the framework need to be defined as manager types.

For example, without a session manager we cannot start any other code, without a security manager we cannot do user authentication, etc.

The physical procedures to run for this manager type are defined in this tables and two standard ones are supported;

The bound manager object should be run for sessions that have a database connection, i.e. have a service type of database connection as one of the session services. This manager therefore requires a database connection and communicates directly with schema tables.

The unbound manager object should be run for sessions that do not have a database connection, i.e. do not have a service type of database connection as one of the session services. This manager therefore does not require a database connection and communicates indirectly with schema tables via the bound manager object running server side in a session with a database connection.

In order to support overrides of standard manager functionality, the super procedure attribute can be used against the manager object to define a super procedure stack of override functionality. It would point at a specific procedure to add as a super procedure, which in turn could have a super procedure, etc.

The bound and unbound manager fields may need to be customized to point at the last procedure in the super procedure stack, so these fields need to be defined as fields that do not get overridden by new deployments to ensure that the customizations do not get lost. This is defined in the axclude fields field of the gsc_dataset_entity table.

The manager objects specified here are always started for any session type that includes this manager type as a required manager type, via the gsm_required_manager table. We therefore do not support the ability to start different manager objects for different session types. If this is required, then different manager types must be defined."
  DUMP-NAME "gscmt"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscmttrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscmttrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscmtreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscmtrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscmtreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscmttrigw.p" CRC "?" 

ADD FIELD "manager_type_obj" OF "gsc_manager_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Manager type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Manager type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "manager_type_code" OF "gsc_manager_type" AS character 
  DESCRIPTION "This field uniquely identifies a manager type.
 
When the session is started, the manager type is used as the unique identifier to a temp-table record that contains the handle of the procedure that is functioning in the role of the specific manager.

It is therefore used to locate the handle of the running manager procedure in order to utilise the api calls provided by the manager."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Manager type code"
  POSITION 3
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Manager type code"
  ORDER 20

ADD FIELD "manager_type_name" OF "gsc_manager_type" AS character 
  DESCRIPTION "A free text description of the manager type"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Manager type name"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Manager type name"
  ORDER 30

ADD FIELD "system_owned" OF "gsc_manager_type" AS logical 
  DESCRIPTION "If set to YES this record may only be maintained by users who are permitted to maintain system data - as identified by a flag on the user record. This is to prevent accidental deletion of data required for the framework to work correctly."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 40

ADD FIELD "write_to_config" OF "gsc_manager_type" AS logical 
  DESCRIPTION "If set to yes, this attribute will force the system to write the procedure type and its relative path to the configuration file that is used at startup.

This allows overriding of the default management procedures, such as the session manager, context manager, etc.

This attribute only needs to be set for procedures that are required prior to connecting to the repository."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Write to config"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Write to config"
  ORDER 50

ADD FIELD "static_handle" OF "gsc_manager_type" AS character 
  DESCRIPTION "Certain managers are always prestarted by the framework and due to their extensive use may be referenced by a static shared variable for maximum efficiency.

The list of managers that have a static handle variable is hard coded in af/sup2/afglobals.i and may not be extended. Additional pre-started managers handles are available via standard function calls within the framework.

This field identifies which of the standard managers if any this manager type is for, selectable from the following valid values:

The predefined list is:
NON = No static handle available (norm)
AS  = gshAstraAppServer
SM  = gshSessionManager
SEM = gshSecurityManager
PM  = gshProfileManager
RM  = gshRepositoryManager
TM  = gshTranslationManager
WM = gshWebManager
FM  = gshFinManager
GM = gshGenManager
AM = gshAgnManager"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Static handle"
  POSITION 7
  MAX-WIDTH 6
  VALMSG "s_type"
  HELP "Static handle"
  ORDER 60

ADD FIELD "manager_narration" OF "gsc_manager_type" AS character 
  DESCRIPTION "A free text description to describe the use and purpose of the manager. Also should include pointers to documentation describing the manager APIs"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Manager narration"
  POSITION 8
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Manager narration"
  ORDER 70

ADD FIELD "db_bound_smartobject_obj" OF "gsc_manager_type" AS decimal 
  DESCRIPTION "The bound manager object should be run for sessions that have a database connection, i.e. have a service type of database connection as one of the session services. This manager therefore requires a database connection and communicates directly with schema tables.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Db bound smartobject obj"
  POSITION 9
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Db bound smartobject obj"
  DECIMALS 9
  ORDER 80

ADD FIELD "db_unbound_smartobject_obj" OF "gsc_manager_type" AS decimal 
  DESCRIPTION "The unbound manager object should be run for sessions that do not have a database connection, i.e. do not have a service type of database connection as one of the session services. This manager therefore does not require a database connection and communicates indirectly with schema tables via the bound manager object running server side in a session with a database connection.

"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Db unbound smartobject obj"
  POSITION 10
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Db unbound smartobject obj"
  DECIMALS 9
  ORDER 90

ADD INDEX "XPKgsc_manager_type" ON "gsc_manager_type" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "manager_type_obj" ASCENDING 

ADD INDEX "XAK1gsc_manager_type" ON "gsc_manager_type" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "manager_type_code" ASCENDING 

ADD INDEX "XIE1gsc_manager_type" ON "gsc_manager_type" 
  AREA "Schema Area"
  INDEX-FIELD "manager_type_name" ASCENDING 

ADD INDEX "XIE2gsc_manager_type" ON "gsc_manager_type" 
  AREA "Schema Area"
  INDEX-FIELD "db_bound_smartobject_obj" ASCENDING 

ADD INDEX "XIE3gsc_manager_type" ON "gsc_manager_type" 
  AREA "Schema Area"
  INDEX-FIELD "db_unbound_smartobject_obj" ASCENDING 

ADD TABLE "gsc_multi_media_type"
  AREA "Schema Area"
  DESCRIPTION "This table contains information related to different types of multi media files."
  DUMP-NAME "gscmm"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscmmtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscmmtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscmmreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscmmrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscmmreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscmmtrigw.p" CRC "?" 

ADD FIELD "multi_media_type_obj" OF "gsc_multi_media_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Multi media type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Multi media type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "multi_media_type_code" OF "gsc_multi_media_type" AS character 
  DESCRIPTION "This field contains a unique code to identify this type of multi media file."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Multi media type code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Multi media type code"
  ORDER 20

ADD FIELD "multi_media_type_description" OF "gsc_multi_media_type" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Multi media type description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Multi media type description"
  ORDER 30

ADD FIELD "application_launch_command" OF "gsc_multi_media_type" AS character 
  DESCRIPTION "This field contains the relative path and name of the application used to create files of this multi media type."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Application launch command"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Application launch command"
  ORDER 40

ADD FIELD "file_extension" OF "gsc_multi_media_type" AS character 
  DESCRIPTION "The multimedia type file extension e.g.
""BMP"" = Bitmap image file
""JPG"" = JPEG image file
""AVI"" = Audio visual (video)
""WAV"" = Wave (sound) file
etc."
  FORMAT "X(3)"
  INITIAL ""
  LABEL "File extension"
  POSITION 6
  MAX-WIDTH 6
  VALMSG "s_string_3"
  HELP "File extension"
  ORDER 50

ADD FIELD "template_extension" OF "gsc_multi_media_type" AS character 
  DESCRIPTION "This field contans the file extension of the template files used to create this type of multi media file e.g.
""DOT"" for MS Word documents
""XLT"" for MS Excel spreadsheets"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Template extension"
  POSITION 7
  MAX-WIDTH 6
  VALMSG "s_string_3"
  HELP "Template extension"
  ORDER 60

ADD INDEX "XPKgsc_multi_media_type" ON "gsc_multi_media_type" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "multi_media_type_obj" ASCENDING 

ADD INDEX "XAK1gsc_multi_media_type" ON "gsc_multi_media_type" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "multi_media_type_code" ASCENDING 

ADD INDEX "XIE1gsc_multi_media_type" ON "gsc_multi_media_type" 
  AREA "Schema Area"
  INDEX-FIELD "multi_media_type_description" ASCENDING 

ADD TABLE "gsc_nationality"
  AREA "Schema Area"
  DUMP-NAME "gscna"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscnatrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscnatrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscnareplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscnarepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscnareplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscnatrigw.p" CRC "?" 

ADD FIELD "nationality_obj" OF "gsc_nationality" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Nationality obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Nationality obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "nationality_code" OF "gsc_nationality" AS character 
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Nationality code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Nationality code"
  ORDER 20

ADD FIELD "nationality_name" OF "gsc_nationality" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Nationality name"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Nationality name"
  ORDER 30

ADD INDEX "XPKgsc_nationality" ON "gsc_nationality" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "nationality_obj" ASCENDING 

ADD INDEX "XAK1gsc_nationality" ON "gsc_nationality" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "nationality_code" ASCENDING 

ADD INDEX "XIE1gsc_nationality" ON "gsc_nationality" 
  AREA "Schema Area"
  INDEX-FIELD "nationality_name" ASCENDING 

ADD TABLE "gsc_next_sequence"
  AREA "Schema Area"
  DESCRIPTION "This table is used to allocate sequence numbers where it is possible that multiple sequence numbers may be requested by multiple transactions simultaneously - it is intended to avoid deadly embrace record locks.

When a gsc_sequence is created / updated with multi_transaction set to YES, number_of_sequences records are created in this table starting from gsc-sequence.next_value.

When a sequence number is requested, the first record in this table for the gsc_sequence is found, saved and deleted. At the same time, a new gsc_next_sequence record is tagged on the end i.e. with the sequence number just found plus number_of_sequences."
  DUMP-NAME "gscsn"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscsntrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscsntrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscsntrigw.p" CRC "?" 

ADD FIELD "sequence_obj" OF "gsc_next_sequence" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Sequence obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Sequence obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "next_sequence_value" OF "gsc_next_sequence" AS integer 
  DESCRIPTION "The value of the sequence.

"
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Next sequence value"
  POSITION 3
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Next sequence value"
  ORDER 20

ADD FIELD "next_sequence_obj" OF "gsc_next_sequence" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Next sequence obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Next sequence obj"
  DECIMALS 9
  ORDER 30

ADD INDEX "XPKgsc_next_sequence" ON "gsc_next_sequence" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "sequence_obj" ASCENDING 
  INDEX-FIELD "next_sequence_value" ASCENDING 

ADD TABLE "gsc_object_type"
  AREA "Schema Area"
  DESCRIPTION "This table defines the types of programs supported. A record will need to exist for the various support templates, e.g. ""Object Controller"", ""Menu Controller"", ""SmartFolder"", smartbrowser, smartviewer, smartdataobject, etc.

When objects are created, they must be assigned an object type.

The object type is used as a grouping mechanism for security, to allow restrictions to be created for certain types of objects, rather than having to setup security for every object.

A recursive join exists for the object type to facilitate definition of object type hierarchies (class hieararchies). This is then useful for attribute inheritance at multiple levels of object type.

For example, an object type could be defined for a fill-in, then a child of this may be an integer fill-in, then a child of this may be an object id, etc.

the extends object type means the inherit from object type.

To support customizations for object types (classes), a custom_object_type_obj may be specified that identifies an additional class structure to include as part of this class, e.g. to add additional custom attributes and class super procedures. This facilitates adding customizations to a class in the middle of the hierarchy without having to modify the hierarchy itself, i.e. without having to change the extends_object_type_obj of the subclasses to point at the new custom class.

The custom class if specified is added below the class it is customizing, e.g. if customizing the data class with a custom class datacustom, then at runtime datacustom will be added as a subclass of data overriding / extending the behaviour of all objects that further extend data. All classes below data will therefore automatically now extend the custom class datacustom rather than data - thereby adding datacustom in the middle of the class hierarchy.

The custom class itself may include a structure below it, e.g. provide multiple levels of customization, in which case all of these customizations will be inserted below this class, and classes that previosuly extended this class will rather extend the class at the bottom of the customized classes. For example if the custom class datacustom included an additional subclass, datacustom2 that extends datacustom, then the subclasses would then point at datacustom2, which would point at datacustom, which would then point back at the original class, data.

The field custom_object_type_obj will be specified in the deployment datasets exclude field list so that it is never overwritten as part of deploying changes to the class structure, therefore avoiding the loss of the customizations with future upgrades.
"
  DUMP-NAME "gscot"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscottrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscottrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscotreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscotrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscotreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscottrigw.p" CRC "?" 

ADD FIELD "object_type_obj" OF "gsc_object_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "object_type_code" OF "gsc_object_type" AS character 
  DESCRIPTION "A unique code for this type of object. It would be sensible to use the same name as Roundtable subtypes here, e.g. ""SmartFolder"", ""SmartWindow"", etc."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Object type code"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Object type code"
  ORDER 20

ADD FIELD "object_type_description" OF "gsc_object_type" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Object type description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Object type description"
  ORDER 30

ADD FIELD "disabled" OF "gsc_object_type" AS logical 
  DESCRIPTION "If set to YES, then this object type will not be checked, and full access will be granted."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Disabled"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Disabled"
  ORDER 40

ADD FIELD "layout_supported" OF "gsc_object_type" AS logical 
  DESCRIPTION "If set to YES, this is a non container smartobject that may require a layout if built dynamically."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Layout supported"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Layout supported"
  ORDER 50

ADD FIELD "deployment_type" OF "gsc_object_type" AS character 
  DESCRIPTION "This is to determine where objects of this type should be deployed. This field is also on the object itself and simply acts as a default at the object type level. Valid values for this field would be ""SRV"" for remote server only, ""CLI"" for client only, ""WEB"" for WEB, or combinations as required comma delimited, e.g. ""CLI,SRV"". This field will assist when deploying applications on appservers to help define which objects should reside where."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Deployment type"
  POSITION 7
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Deployment type"
  ORDER 60

ADD FIELD "static_object" OF "gsc_object_type" AS logical 
  DESCRIPTION "This is a default for the ryc_smartobject table static_object flag, defaulting to NO.

It Indicates whether an object for this class is static or dynamic (logical).

If set to NO, this object is a dynamically created logical  object built using the object repository, and must point at a physical object to use as the starting point when building the dynamic object.

A logical object (non static) cannot be a generic object.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Static object"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Static object"
  ORDER 70

ADD FIELD "class_smartobject_obj" OF "gsc_object_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Class smartobject obj"
  POSITION 9
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Class smartobject obj"
  DECIMALS 9
  ORDER 80

ADD FIELD "extends_object_type_obj" OF "gsc_object_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Extends object type obj"
  POSITION 10
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Extends object type obj"
  DECIMALS 9
  ORDER 90

ADD FIELD "cache_on_client" OF "gsc_object_type" AS logical 
  DESCRIPTION "This is a logical flag, defaulting to NO. If set to YES, then this object type (class) is one that should be generated into a .p procedure for use as a persistent client side cache. This would typically be set to YES for ADM object classes that require an ADMPROPS temp-table and are rendered, e.g. folders, dynamic viewers, browsers, sdo's, etc.

The .p for the class will contain the definition of a dynamic temp-table with a field for each attribute used in the class including all classes the class inherits from. This is typically a big temp-table, with possibly around 200 fields, with the initial value being the value of the class attribute.

By generating these .p's and deploying them to the client, we avoid passing this data over the network at runtime, which will significantly improve performance over slow lines.

Once the big class temp-table is built, the only data that needs to be transfered over the wire at runtime is for attributes that have been overridden at the master or instance level.

The Dynamics framework will be shipped with this flag set to YES for the most common classes that satisfy the criteria. Applications built on Dynamics may modify this as required. when doing new deployments of class data, this field will not be overwritten for existing classes."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Cache on client"
  POSITION 11
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Cache on client"
  ORDER 100

ADD FIELD "custom_object_type_obj" OF "gsc_object_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Custom object type obj"
  POSITION 12
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Custom object type obj"
  DECIMALS 9
  ORDER 110

ADD INDEX "XPKgsc_object_type" ON "gsc_object_type" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "object_type_obj" ASCENDING 

ADD INDEX "XAK1gsc_object_type" ON "gsc_object_type" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "object_type_code" ASCENDING 

ADD INDEX "XIE1gsc_object_type" ON "gsc_object_type" 
  AREA "Schema Area"
  INDEX-FIELD "object_type_description" ASCENDING 

ADD INDEX "XIE2gsc_object_type" ON "gsc_object_type" 
  AREA "Schema Area"
  INDEX-FIELD "extends_object_type_obj" ASCENDING 

ADD INDEX "XIE3gsc_object_type" ON "gsc_object_type" 
  AREA "Schema Area"
  INDEX-FIELD "class_smartobject_obj" ASCENDING 

ADD INDEX "XIE4gsc_object_type" ON "gsc_object_type" 
  AREA "Schema Area"
  INDEX-FIELD "custom_object_type_obj" ASCENDING 

ADD TABLE "gsc_package_dataset"
  AREA "Schema Area"
  DESCRIPTION "This table defines the datasets that should be included with a package. A dataset may be included in multiple packages."
  DUMP-NAME "gscpd"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscpdtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscpdtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscpdtrigw.p" CRC "?" 

ADD FIELD "package_dataset_obj" OF "gsc_package_dataset" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Package dataset obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Package dataset obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "deploy_dataset_obj" OF "gsc_package_dataset" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Deploy dataset obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Deploy dataset obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "deploy_package_obj" OF "gsc_package_dataset" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Deploy package obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Deploy package obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "deploy_full_data" OF "gsc_package_dataset" AS logical 
  DESCRIPTION "If set to yes, this field indicates that the entire set of records contained in this primary and related tables must be deployed - i.e. ignore whether the data has changed or not, just always deploy all the data.

Note that any filter criteria in the filter_where_clause on the gsc_dataset_entity will still be honored."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Deploy full data"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Deploy full data"
  ORDER 40

ADD FIELD "package_dataset_seq" OF "gsc_package_dataset" AS integer 
  DESCRIPTION "This field defines the order that datasets are dumped out into a packaged and therefore read in from the package. 

In some cases it is necessary to load the datasets in a specific order. For example, if you don't load the gsc_deploy_dataset and gsc_entity_mnemonic datasets before you load a newly defined dataset, you will not have the appropriate dataset definitions in the database and this could cause the load to fail."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Package dataset seq"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Package dataset seq"
  ORDER 50

ADD INDEX "XPKgsc_package_dataset" ON "gsc_package_dataset" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "package_dataset_obj" ASCENDING 

ADD INDEX "XAK1gsc_package_dataset" ON "gsc_package_dataset" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "deploy_dataset_obj" ASCENDING 
  INDEX-FIELD "deploy_package_obj" ASCENDING 

ADD INDEX "XIE2gsc_package_dataset" ON "gsc_package_dataset" 
  AREA "Schema Area"
  INDEX-FIELD "deploy_package_obj" ASCENDING 
  INDEX-FIELD "package_dataset_seq" ASCENDING 

ADD TABLE "gsc_product"
  AREA "Schema Area"
  DESCRIPTION "This table contains information about the installed products with appropriate license details."
  DUMP-NAME "gscpr"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscprtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscprtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscprreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscprrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscprreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscprtrigw.p" CRC "?" 

ADD FIELD "product_obj" OF "gsc_product" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Product obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Product obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "product_code" OF "gsc_product" AS character 
  DESCRIPTION "a unique code to identify this product"
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Product code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Product code"
  ORDER 20

ADD FIELD "product_description" OF "gsc_product" AS character 
  DESCRIPTION "A full description of the product"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Product description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Product description"
  ORDER 30

ADD FIELD "product_installed" OF "gsc_product" AS logical 
  DESCRIPTION "Set to YES where this product is installed."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Product installed"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Product installed"
  ORDER 40

ADD FIELD "number_of_users" OF "gsc_product" AS integer 
  DESCRIPTION "The number of licenses purchased for this product. Whether these are concurrent or not depends on your licensing rules."
  FORMAT "->>>>>9"
  INITIAL "0"
  LABEL "Number of users"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "n_integer_6"
  HELP "Number of users"
  ORDER 50

ADD FIELD "db_connection_pf_file" OF "gsc_product" AS character 
  DESCRIPTION "The database connection file to run when a program is first executed for this product, to automatically connect relevant databases. The login procedure would use this value if applicable."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "DB connection PF file"
  POSITION 7
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Database connection PF file"
  ORDER 60

ADD FIELD "supplier_organisation_obj" OF "gsc_product" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Supplier organisation obj"
  POSITION 8
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Supplier organisation obj"
  DECIMALS 9
  ORDER 70

ADD INDEX "XPKgsc_product" ON "gsc_product" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "product_obj" ASCENDING 

ADD INDEX "XAK1gsc_product" ON "gsc_product" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "product_code" ASCENDING 

ADD INDEX "XIE1gsc_product" ON "gsc_product" 
  AREA "Schema Area"
  INDEX-FIELD "product_description" ASCENDING 

ADD INDEX "XIE2gsc_product" ON "gsc_product" 
  AREA "Schema Area"
  INDEX-FIELD "supplier_organisation_obj" ASCENDING 

ADD TABLE "gsc_product_module"
  AREA "Schema Area"
  DESCRIPTION "This table contains information about the installed product modules with appropriate license details.

A recursive join has been added to support product module hierarchies."
  DUMP-NAME "gscpm"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscpmtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscpmtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscpmreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscpmrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscpmreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscpmtrigw.p" CRC "?" 

ADD FIELD "product_module_obj" OF "gsc_product_module" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Product module obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Product module obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "product_obj" OF "gsc_product_module" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Product obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Product obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "product_module_code" OF "gsc_product_module" AS character 
  DESCRIPTION "A code to uniquely identify the product module"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Product module code"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Product module code"
  ORDER 30

ADD FIELD "product_module_description" OF "gsc_product_module" AS character 
  DESCRIPTION "a full description of the product module"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Product module description"
  POSITION 5
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Product module description"
  ORDER 40

ADD FIELD "product_module_installed" OF "gsc_product_module" AS logical 
  DESCRIPTION "Set to YES where this product module is installed."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Product module installed"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Product module installed"
  ORDER 50

ADD FIELD "number_of_users" OF "gsc_product_module" AS integer 
  DESCRIPTION "The number of licenses purchased for this module. Whether these are concurrent or not depends on your licensing rules."
  FORMAT "->>>>>9"
  INITIAL "0"
  LABEL "Number of users"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_integer_6"
  HELP "Number of users"
  ORDER 60

ADD FIELD "db_connection_pf_file" OF "gsc_product_module" AS character 
  DESCRIPTION "The database connection file to run when a program is first executed for this product module, to automatically connect relevant databases. The login procedure would use this value if applicable."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "DB connection pf file"
  POSITION 8
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Database connection pf file"
  ORDER 70

ADD FIELD "relative_path" OF "gsc_product_module" AS character 
  DESCRIPTION "This is the relative path to objects located in this product module. The path should be relative to the workspace root directory and should not contain a slash at the end, nor at the beginning.

This relative path will be used as a default for objects in this product module."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Relative path"
  POSITION 9
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Relative path"
  ORDER 80

ADD FIELD "deployment_type" OF "gsc_product_module" AS character 
  DESCRIPTION "This is to determine where objects in the module should be deployed. Valid values for this field would be ""SRV"" for remote server only, ""CLI"" for client only, ""WEB"" for WEB, or combinations as required comma delimited, e.g. ""CLI,SRV"". This field will assist when deploying applications on appservers to help define which objects should reside where.
This field is also specified on objects, and the value on the specific object would always override the value on the product module. This field is therefore really a narrative to assist with automated scripts that could also help move code around for objects not registered in the repository.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Deployment type"
  POSITION 10
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Deployment type"
  ORDER 90

ADD FIELD "parent_product_module_obj" OF "gsc_product_module" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Parent product module obj"
  POSITION 11
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Parent product module obj"
  DECIMALS 9
  ORDER 100

ADD INDEX "XPKgsc_product_module" ON "gsc_product_module" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "product_module_obj" ASCENDING 

ADD INDEX "XAK1gsc_product_module" ON "gsc_product_module" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "product_module_code" ASCENDING 

ADD INDEX "XIE1gsc_product_module" ON "gsc_product_module" 
  AREA "Schema Area"
  INDEX-FIELD "product_module_description" ASCENDING 

ADD INDEX "XIE2gsc_product_module" ON "gsc_product_module" 
  AREA "Schema Area"
  INDEX-FIELD "product_obj" ASCENDING 
  INDEX-FIELD "product_module_code" ASCENDING 

ADD INDEX "XIE3gsc_product_module" ON "gsc_product_module" 
  AREA "Schema Area"
  INDEX-FIELD "parent_product_module_obj" ASCENDING 
  INDEX-FIELD "product_module_code" ASCENDING 

ADD TABLE "gsc_profile_code"
  AREA "Schema Area"
  DESCRIPTION "This table defines the codes that exist for each profile type, and the structure of the key / data value fields when this code is allocated against a user in the gsm_profile_data table.

An example profile type would be filter settings, and example profile codes for filter settings would be filter from values, filter to values, filtering enabled, filter field names, etc."
  DUMP-NAME "gscpc"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscpctrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscpctrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscpcreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscpcrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscpcreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscpctrigw.p" CRC "?" 

ADD FIELD "profile_type_obj" OF "gsc_profile_code" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "profile_code_obj" OF "gsc_profile_code" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile code obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile code obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "profile_code" OF "gsc_profile_code" AS character 
  DESCRIPTION "A unique code within profile type to identify the profile code."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Profile code"
  POSITION 4
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Profile code"
  ORDER 30

ADD FIELD "profile_description" OF "gsc_profile_code" AS character 
  DESCRIPTION "A decsription of the profile code."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Profile description"
  POSITION 5
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Profile description"
  ORDER 40

ADD FIELD "profile_narrative" OF "gsc_profile_code" AS character 
  DESCRIPTION "An explanation for the profile code including details of what information is stored in the data key and data value fields when the profile code is allocated to a user."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Profile narrative"
  POSITION 6
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Profile narrative"
  ORDER 50

ADD INDEX "XPKgsc_profile_code" ON "gsc_profile_code" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "profile_type_obj" ASCENDING 
  INDEX-FIELD "profile_code_obj" ASCENDING 

ADD INDEX "XAK1gsc_profile_code" ON "gsc_profile_code" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_type_obj" ASCENDING 
  INDEX-FIELD "profile_code" ASCENDING 

ADD INDEX "XAK2gsc_profile_code" ON "gsc_profile_code" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_code_obj" ASCENDING 

ADD INDEX "XIE1gsc_profile_code" ON "gsc_profile_code" 
  AREA "Schema Area"
  INDEX-FIELD "profile_type_obj" ASCENDING 
  INDEX-FIELD "profile_description" ASCENDING 

ADD TABLE "gsc_profile_type"
  AREA "Schema Area"
  DESCRIPTION "This table defines the types of profile codes supported for allocation to users.

Records will exist for any type of profile information stored against a user between sessions. Examples include browser filter settings, report filter settings, Toolbar cusomisation settings, window positions and sizes, system wide settings such as tooltips on/off, etc.




"
  DUMP-NAME "gscpf"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscpftrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscpftrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscpfreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscpfrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscpfreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscpftrigw.p" CRC "?" 

ADD FIELD "profile_type_obj" OF "gsc_profile_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "profile_type_code" OF "gsc_profile_type" AS character 
  DESCRIPTION "A unique code to identify the profile type."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Profile type code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Profile type code"
  ORDER 20

ADD FIELD "profile_type_description" OF "gsc_profile_type" AS character 
  DESCRIPTION "A description of the profile type."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Profile type description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Profile type description"
  ORDER 30

ADD FIELD "client_profile_type" OF "gsc_profile_type" AS logical 
  DESCRIPTION "If set to YES, profile codes for this type are relevant in the client session. If the server profile type is also YES, then changes to the code value must also be replicated into the server session."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Client profile type"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Client profile type"
  ORDER 40

ADD FIELD "server_profile_type" OF "gsc_profile_type" AS logical 
  DESCRIPTION "If set to YES, profile codes for this type are relevant in the server session. It is not posible to have server profile types only. IF this falg is set to YES, then the client flag mist also be set to YES.
This flag indicates that changes to the profile values must also be replicated to the server session."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Server profile type"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Server profile type"
  ORDER 50

ADD FIELD "profile_type_active" OF "gsc_profile_type" AS logical 
  DESCRIPTION "IF set to NO, then use of the values against this profile will be disabled. 

Profiles could be turned off for performance reasons.
"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Profile type active"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Profile type active"
  ORDER 60

ADD INDEX "XPKgsc_profile_type" ON "gsc_profile_type" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "profile_type_obj" ASCENDING 

ADD INDEX "XAK1gsc_profile_type" ON "gsc_profile_type" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_type_code" ASCENDING 

ADD INDEX "XIE1gsc_profile_type" ON "gsc_profile_type" 
  AREA "Schema Area"
  INDEX-FIELD "profile_type_description" ASCENDING 

ADD TABLE "gsc_scm_tool"
  AREA "Schema Area"
  DESCRIPTION "This table defines possible software configuration management tools that could be integrated with Dynamics. The tool currently in use is identified via the gsc_security_control table.

An example of an integrated SCM tool is Roundtable (RTB).

The primary purpose of this table is to link together xref information between the Dynamics repository and the SCM tool for data such as product modules, object types, etc. as specified in the gsm_scm_xref table.

"
  DUMP-NAME "gscsm"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscsmtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscsmtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscsmreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscsmrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscsmreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscsmtrigw.p" CRC "?" 

ADD FIELD "scm_tool_obj" OF "gsc_scm_tool" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "SCM tool obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "SCM tool obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "scm_tool_code" OF "gsc_scm_tool" AS character 
  DESCRIPTION "A unique code to identify the scm tool, e.g. RTB for Roundtable"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "SCM tool code"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "SCM tool code"
  ORDER 20

ADD FIELD "scm_tool_description" OF "gsc_scm_tool" AS character 
  DESCRIPTION "A free text description of the SCM tool that could include version information, etc."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "SCM tool description"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "SCM tool description"
  ORDER 30

ADD INDEX "XPKgsc_scm_tool" ON "gsc_scm_tool" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "scm_tool_obj" ASCENDING 

ADD INDEX "XAK1gsc_scm_tool" ON "gsc_scm_tool" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "scm_tool_code" ASCENDING 

ADD INDEX "XIE1gsc_scm_tool" ON "gsc_scm_tool" 
  AREA "Schema Area"
  INDEX-FIELD "scm_tool_description" ASCENDING 

ADD TABLE "gsc_security_control"
  AREA "Schema Area"
  DESCRIPTION "Extra control information pertinent to security settings. This table will actually only contain a single record."
  DUMP-NAME "gscsc"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscsctrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscsctrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscsctrigw.p" CRC "?" 

ADD FIELD "security_control_obj" OF "gsc_security_control" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Security control obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Security control obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "password_max_retries" OF "gsc_security_control" AS integer 
  DESCRIPTION "The maximum number of times the user can get their password wrong before their account is disabled."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Password max. retries"
  POSITION 3
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Password maximum retries"
  ORDER 20

ADD FIELD "password_history_life_time" OF "gsc_security_control" AS integer 
  DESCRIPTION "the number of days to keep and check the password history, default would be 365 for a full year. This would prevent users from using the same password in the same year."
  FORMAT "->>>>>9"
  INITIAL "0"
  LABEL "Password history life time"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_integer_6"
  HELP "Password history life time"
  ORDER 30

ADD FIELD "full_access_by_default" OF "gsc_security_control" AS logical 
  DESCRIPTION "If set to YES, the user is granted access to everything by default, and only revoked access specifically.

If set to NO, the user has access to nothing except what is specifically allocated to them."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Full access by default"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Full access by default"
  ORDER 40

ADD FIELD "security_enabled" OF "gsc_security_control" AS logical 
  DESCRIPTION "If set to NO, all security checks will be turned off."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Security enabled"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Security enabled"
  ORDER 50

ADD FIELD "help_writer_enabled" OF "gsc_security_control" AS logical 
  DESCRIPTION "If set to YES, then assistance with context help writing will be activated."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Help writer enabled"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Help writer enabled"
  ORDER 60

ADD FIELD "build_top_menus_only" OF "gsc_security_control" AS logical 
  DESCRIPTION "I set to YES, only top level menus will be built initially, and sub-menus built on menudrop events."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Build top menus only"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Build top menus only"
  ORDER 70

ADD FIELD "default_help_filename" OF "gsc_security_control" AS character 
  DESCRIPTION "The name of the default help file for the system"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Default help filename"
  POSITION 9
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Default help filename"
  ORDER 80

ADD FIELD "error_log_filename" OF "gsc_security_control" AS character 
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Error log filename"
  POSITION 10
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Error log filename"
  ORDER 90

ADD FIELD "translation_enabled" OF "gsc_security_control" AS logical 
  DESCRIPTION "If set to YES, widget label language translation is turned on. Translations are defined in the table gsm_translation"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Translation enabled"
  POSITION 11
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Translation enabled"
  ORDER 100

ADD FIELD "login_filename" OF "gsc_security_control" AS character 
  DESCRIPTION "The name of the login program to run"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Login filename"
  POSITION 12
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Login filename"
  ORDER 110

ADD FIELD "multi_user_check" OF "gsc_security_control" AS logical 
  DESCRIPTION "If set to YES, turns on functionality that checks if a user is already logged in via share lock on gst_lock table."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Multi user check"
  POSITION 13
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Multi user check"
  ORDER 120

ADD FIELD "program_access_check" OF "gsc_security_control" AS logical 
  DESCRIPTION "If set to YES, turns on functionality that checks if a user is already running a program via share lock on gst_lock table."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Program access check"
  POSITION 14
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Program access check"
  ORDER 130

ADD FIELD "minimise_siblings" OF "gsc_security_control" AS logical 
  DESCRIPTION "If set to YES, turns on functionality that also minimises all child windows of an object controller or menu controller window.
"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Minimise siblings"
  POSITION 15
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Minimise siblings"
  ORDER 140

ADD FIELD "enable_window_positioning" OF "gsc_security_control" AS logical 
  DESCRIPTION "If set to YES, turns on functionality that enables the saving of window positions by user."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Enable window positioning"
  POSITION 16
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Enable window positioning"
  ORDER 150

ADD FIELD "force_unique_password" OF "gsc_security_control" AS logical 
  DESCRIPTION "If set to YES, passwords allocated to users must be unique. This will allow the entry of a password to locate the user record the password belongs to, avoiding having to ensure a user name and a password."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Force unique password"
  POSITION 17
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Force unique password"
  ORDER 160

ADD FIELD "company_logo_filename" OF "gsc_security_control" AS character 
  DESCRIPTION "The filename and relative path of the company logo to display on the help about window, etc."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Company logo filename"
  POSITION 18
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Company logo filename"
  ORDER 170

ADD FIELD "system_icon_filename" OF "gsc_security_control" AS character 
  DESCRIPTION "The filename and relative path of the system icon to load for all windows."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "System icon filename"
  POSITION 19
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "System icon filename"
  ORDER 180

ADD FIELD "small_icon_filename" OF "gsc_security_control" AS character 
  DESCRIPTION "The filename and relative path of the small system icon to load for all windows."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Small icon filename"
  POSITION 20
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Small icon filename"
  ORDER 190

ADD FIELD "product_logo_filename" OF "gsc_security_control" AS character 
  DESCRIPTION "The filename and relative path of the product logo to display on the help about window, etc."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Product logo filename"
  POSITION 21
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Product logo filename"
  ORDER 200

ADD FIELD "scm_checks_on" OF "gsc_security_control" AS logical 
  DESCRIPTION "If set to yes, this field indicates that all the SCM checks built into the framework are active.

If set to no, the SCM checks are ignored."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "SCM checks on"
  POSITION 22
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "SCM checks on"
  ORDER 210

ADD FIELD "scm_tool_obj" OF "gsc_security_control" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "SCM tool obj"
  POSITION 23
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "SCM tool obj"
  DECIMALS 9
  ORDER 220

ADD FIELD "user_context_expiry_period" OF "gsc_security_control" AS decimal 
  DESCRIPTION "The period after which user context in the gsm_server_context table will expire. This field is a decimal field, with 0 indicating the functionality is disabled. The field is structured as days.time with the integer portion being the number of days and the decimal portion being the time in seconds since midnight.
If a value is specified, then after the elapsed period of inactivity, the context data will be deleted.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User context expiry period"
  POSITION 24
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User context expiry period"
  DECIMALS 9
  ORDER 230

ADD INDEX "XPKgsc_security_control" ON "gsc_security_control" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "security_control_obj" ASCENDING 

ADD INDEX "XIE1gsc_security_control" ON "gsc_security_control" 
  AREA "Schema Area"
  INDEX-FIELD "scm_tool_obj" ASCENDING 

ADD TABLE "gsc_sequence"
  AREA "Schema Area"
  DESCRIPTION "This is a generic sequence number / format table. All entries in this table will be system owned by their nature.

When a sequence number is required to be generated, it will be done at the end of the update as part of the transaction. This table is a potential bottle neck and so locks should be kept to an absolute minimum, i.e. no locks during user interaction.

If the sequence number is to be automatically generated, then there can be no holes in the sequence numbers, which is why a Progress sequence will not be used.

Example uses for this table would be for the automatic generation of document numbers, transaction references, etc."
  DUMP-NAME "gscsq"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscsqtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscsqtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscsqreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscsqrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscsqreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscsqtrigw.p" CRC "?" 

ADD FIELD "sequence_obj" OF "gsc_sequence" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Sequence obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Sequence obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "company_organisation_obj" OF "gsc_sequence" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Company organisation obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Company organisation obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "owning_entity_mnemonic" OF "gsc_sequence" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 4
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 30

ADD FIELD "sequence_tla" OF "gsc_sequence" AS character 
  DESCRIPTION "A 3 character mnemonic to uniquely identify the sequence number in conjunction with the owning_entity_mnemonic. This facilitates more than one sequence per entity.
"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Sequence TLA"
  POSITION 5
  MAX-WIDTH 6
  VALMSG "s_tla"
  HELP "Sequence three letter acronym"
  ORDER 40

ADD FIELD "sequence_short_desc" OF "gsc_sequence" AS character 
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Sequence short desc."
  POSITION 6
  MAX-WIDTH 30
  VALMSG "s_short_desc"
  HELP "Sequence short description"
  ORDER 50

ADD FIELD "sequence_description" OF "gsc_sequence" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Sequence description"
  POSITION 7
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Sequence description"
  ORDER 60

ADD FIELD "min_value" OF "gsc_sequence" AS integer 
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Min. value"
  POSITION 8
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Minimum value"
  ORDER 70

ADD FIELD "max_value" OF "gsc_sequence" AS integer 
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Max. value"
  POSITION 9
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Maximum value"
  ORDER 80

ADD FIELD "sequence_format" OF "gsc_sequence" AS character 
  DESCRIPTION "A user defined format mask for the sequence. 
The format mask must include a numeric format catering for the maximum value and as per the underlying database format rules, e.g.
99999999 = 8 digit number with 0 prefix
>>>>>>>9 = 8 digit number with 0 suppression

The format may also include hard coded characters, e.g. ""MNU"" for Memu Items or ""RPT"" for Reports

The format may additionally include insertion codes to dynamically insert data at runtime as follows:
%Y = Insert the last digit of the current year
%YY = Insert the current 2 digit year
%YYYY = Insert the current 4 digit year
%MM = Insert the current 2 digit month
%MMM = Insert the current 3 character month
%DD = Insert the current day of the month

An important point is that sequence formats on site must have a different prefix to any references generated from ICF to ensure we do not overwrite any data generated on site.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Sequence format"
  POSITION 10
  MAX-WIDTH 70
  VALMSG "s_format_string"
  HELP "Sequence format"
  ORDER 90

ADD FIELD "auto_generate" OF "gsc_sequence" AS logical 
  DESCRIPTION "If set to yes, the sequence will be automatically generated using the next_value. The user is prevented from amending the value of the sequence."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Auto generate"
  POSITION 11
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Auto generate"
  ORDER 100

ADD FIELD "multi_transaction" OF "gsc_sequence" AS logical 
  DESCRIPTION "If it is possible that a sequence will be used by multiple transactions simultaneously, potential for deadly embrace locks exists.

If this field is set to NO, the next_value will be read and updated each time a sequence number is requested, in which case the gsc_sequence record is locked for the duration of the transaction.

If this field is set to YES, this table is not locked and the first sequence is used from table gsc_next_sequence."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Multi transaction"
  POSITION 12
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Multi transaction"
  ORDER 110

ADD FIELD "next_value" OF "gsc_sequence" AS integer 
  DESCRIPTION "The next available value of the sequence, if the sequence is being automatically generated.
"
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Next value"
  POSITION 13
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Next value"
  ORDER 120

ADD FIELD "number_of_sequences" OF "gsc_sequence" AS integer 
  DESCRIPTION "This field is only enabled in multi_transaction is set to YES. It indicates the maximum number of available sequences (that could ever get locked concurrently) contained in gsc_next_sequence table."
  FORMAT "->>>>>9"
  INITIAL "0"
  LABEL "Number of sequences"
  POSITION 14
  MAX-WIDTH 4
  VALMSG "n_integer_6"
  HELP "Number of sequences"
  ORDER 130

ADD FIELD "sequence_active" OF "gsc_sequence" AS logical 
  DESCRIPTION "Is this sequence active. At any time setting this field to NO will disable further use of this sequence, forcing manual entry of the reference field using the sequence. 

Typically the sequence would be set to not active in a data take-on situation so that imported references are not corrupted."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Sequence active"
  POSITION 15
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Sequence active"
  ORDER 140

ADD INDEX "XPKgsc_sequence" ON "gsc_sequence" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "sequence_obj" ASCENDING 

ADD INDEX "XAK1gsc_sequence" ON "gsc_sequence" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "company_organisation_obj" ASCENDING 
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "sequence_tla" ASCENDING 

ADD INDEX "XIE1gsc_sequence" ON "gsc_sequence" 
  AREA "Schema Area"
  INDEX-FIELD "sequence_description" ASCENDING 

ADD INDEX "XIE2gsc_sequence" ON "gsc_sequence" 
  AREA "Schema Area"
  INDEX-FIELD "sequence_short_desc" ASCENDING 

ADD TABLE "gsc_service_type"
  AREA "Schema Area"
  DESCRIPTION "This entity describes the different types of services available to applications and provides the management procedures for the different types of connections.

To illustrate, database services, AppServer services, Webservices and JMS partitions are all different service types. The Database, AppServer and Webservice services are system owned.

The maintenance object defines the datafield object used to maintain the physical connection parameter attribute on the physical service table. For example, if this is a service type for database connections, then the datafield may allow the specifiction of -S -N and -H prompts independantly and then put the result as 1 field into the connection parameter.

In the case of webservices there are many connection parameters, some of which are only known at runtime. To support this, the connection_parameters field on the physical service supports substitution lists. The substitution list contains token value lists delimited by CHR(1), the token and value are delimited by CHR(3).
The tokens are %parametername or a special token %DynUserID that is replaced by the Dynamics user id of the current user.  For example, tokens can be defined for parameters as follows:
WSDL UserId = %WSDLUserId
WSDL Password = %WSDLPassword
SOAPEndpoint UserId = %DynUserID
SOAPEndpoint Password = %SOAPEndpointPassword
MaxConnections = %maxConnections

The management object is the api procedure that is responsible for making the physical connections to the service.

In the case of an appserver partition, the default logical service could point at the default logical appserver partition to use.

"
  DUMP-NAME "gscst"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscsttrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscsttrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscstreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscstrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscstreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscsttrigw.p" CRC "?" 

ADD FIELD "service_type_obj" OF "gsc_service_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Service type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Service type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "service_type_code" OF "gsc_service_type" AS character 
  DESCRIPTION "A unique code to identify the service type."
  FORMAT "X(20)"
  INITIAL ""
  LABEL "Service type code"
  POSITION 3
  MAX-WIDTH 40
  VALMSG "s_string_20"
  HELP "Service type code"
  ORDER 20

ADD FIELD "service_type_description" OF "gsc_service_type" AS character 
  DESCRIPTION "A free text description of the service type."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Service type description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Service type description"
  ORDER 30

ADD FIELD "management_object_obj" OF "gsc_service_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Management object obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Management object obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "maintenance_object_obj" OF "gsc_service_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Maintenance object obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Maintenance object obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "default_logical_service_obj" OF "gsc_service_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default logical service obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default logical service obj"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKgsc_service_type" ON "gsc_service_type" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "service_type_obj" ASCENDING 

ADD INDEX "XAK1gsc_service_type" ON "gsc_service_type" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "service_type_code" ASCENDING 

ADD INDEX "XIE1gsc_service_type" ON "gsc_service_type" 
  AREA "Schema Area"
  INDEX-FIELD "service_type_description" ASCENDING 

ADD INDEX "XIE4gsc_service_type" ON "gsc_service_type" 
  AREA "Schema Area"
  INDEX-FIELD "default_logical_service_obj" ASCENDING 

ADD INDEX "XIE5gsc_service_type" ON "gsc_service_type" 
  AREA "Schema Area"
  INDEX-FIELD "maintenance_object_obj" ASCENDING 

ADD INDEX "XIE6gsc_service_type" ON "gsc_service_type" 
  AREA "Schema Area"
  INDEX-FIELD "management_object_obj" ASCENDING 

ADD TABLE "gsc_session_property"
  AREA "Schema Area"
  DESCRIPTION "This table contains the list of valid properties that may be specified in the ""properties"" node of the ICF configuration file (ICFCONFIG.XML).

These property values can be set and retrieved using calls to the Session Manager. They can thus be used to alter the way that the session performs depending on the session type.
"
  DUMP-NAME "gscsp"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gscsptrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gscsptrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gscspreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gscsprepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gscspreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gscsptrigw.p" CRC "?" 

ADD FIELD "session_property_obj" OF "gsc_session_property" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session property obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session property obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "session_property_name" OF "gsc_session_property" AS character 
  DESCRIPTION "This is a unique name for this session property. The property name becomes the input parameter to a function that will return the value of the property.

Certain SESSION handle attributes can be set using these properties. For example, defining a property session_propath will cause the session manager to set the SESSION:PROPATH attribute, defining a session_date_format will change SESSION:DATE-FORMAT and so on."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Session property name"
  POSITION 3
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Session property name"
  ORDER 20

ADD FIELD "session_property_description" OF "gsc_session_property" AS character 
  DESCRIPTION "This field describes in full the use of the property within the application, including valid values, and so on."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Session property description"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Session property description"
  ORDER 30

ADD FIELD "system_owned" OF "gsc_session_property" AS logical 
  DESCRIPTION "If set to YES this record may only be maintained by users who are permitted to maintain system data - as identified by a flag on the user record. This is to prevent accidental deletion of data required for the framework to work correctly."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 40

ADD FIELD "default_property_value" OF "gsc_session_property" AS character 
  DESCRIPTION "This field contains the default value that should be applied to this property.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Default property value"
  POSITION 6
  MAX-WIDTH 140
  VALMSG "s_string_70"
  HELP "Default property value"
  ORDER 50

ADD FIELD "always_used" OF "gsc_session_property" AS logical 
  DESCRIPTION "This field indicates if this property should always be written to ICF configuration file. 

If set to YES, when a session's information is written to the configuration file, the value of this property will be written whether or not an associative record exists in the gsm_session_type_property table. If no gsm_session_type_property record exists, the value will be set to the value in the default_property_value field.

If set to NO, this property will only be written to the ICF configuration file if an associative record exists in the gsm_session_type_parm table."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Always used"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Always used"
  ORDER 60

ADD INDEX "XPKgsc_session_property" ON "gsc_session_property" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "session_property_obj" ASCENDING 

ADD INDEX "XAK1gsc_session_property" ON "gsc_session_property" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "session_property_name" ASCENDING 

ADD TABLE "gsm_category"
  AREA "Schema Area"
  DESCRIPTION "A multi-purpose grouping mechanism for generic entities. Certain categories may be system owned / generated and may not be deleted. These are usually hard coded into programs.

Additionally, some categories may not be associated with another generic entity. These are used to store hard coded valid value lists, lookup lists, etc. Where ever we have made use of hard coded mnemonics within the application, their usage and description will be defined in this table. 

Refer to the ""Generic Table Usage"" document for a detailed description and sample instance data."
  DUMP-NAME "gsmca"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmcatrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmcatrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmcareplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmcarepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmcareplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmcatrigw.p" CRC "?" 

ADD FIELD "category_obj" OF "gsm_category" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Category obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Category obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "related_entity_mnemonic" OF "gsm_category" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Related entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Related entity"
  ORDER 20

ADD FIELD "category_type" OF "gsm_category" AS character 
  DESCRIPTION "The category type is the 1st level of grouping available within a related_global_entity to identify the category. A type must be specified.
"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Category type"
  POSITION 4
  MAX-WIDTH 6
  VALMSG "s_type"
  HELP "Category type"
  ORDER 30

ADD FIELD "category_group" OF "gsm_category" AS character 
  DESCRIPTION "The category group is the 2nd level of grouping available within a related_global_entity to identify the category. The group is not mandatory.

"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Category group"
  POSITION 5
  MAX-WIDTH 6
  VALMSG "s_mnemonic"
  HELP "Category group"
  ORDER 40

ADD FIELD "category_subgroup" OF "gsm_category" AS character 
  DESCRIPTION "The category subgroup is the 3rd level of grouping available within a related_global_entity which finally uniquely identifies the category. The subgroup is not mandatory.
"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Category subgroup"
  POSITION 6
  MAX-WIDTH 6
  VALMSG "s_mnemonic"
  HELP "Category subgroup"
  ORDER 50

ADD FIELD "category_group_seq" OF "gsm_category" AS integer 
  DESCRIPTION "This is the sequence of category subgroups within a category group.

An example use of this is where the category is used for status's. The category type will indicate a status (STS), the group will indicate the status usage, e.g. INV, CRD, etc. and the subgroup will indicate the actual status, e.g. unposted, posted, etc. The sequence in this case will be used in business logic to determine the progression of the object through the status subgroups."
  FORMAT "->>>>>9"
  INITIAL "0"
  LABEL "Category group seq"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_integer_6"
  HELP "Category group seq"
  ORDER 60

ADD FIELD "category_label" OF "gsm_category" AS character 
  DESCRIPTION "The screen / report label to use when referencing this category subgroup."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Category label"
  POSITION 8
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Category label"
  ORDER 70

ADD FIELD "category_description" OF "gsm_category" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Category description"
  POSITION 9
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Category description"
  ORDER 80

ADD FIELD "owning_entity_mnemonic" OF "gsm_category" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 10
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 90

ADD FIELD "system_owned" OF "gsm_category" AS logical 
  DESCRIPTION "If this is set to YES, then this category may not be amended or deleted."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 11
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 100

ADD FIELD "validation_min_length" OF "gsm_category" AS integer 
  DESCRIPTION "In the cases where the data contents need validation, the minimum allowable length for the data. E.g. for comment_text to force entry of certain categories of comments."
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Validation min. length"
  POSITION 12
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Validation minimum length"
  ORDER 110

ADD FIELD "validation_max_length" OF "gsm_category" AS integer 
  DESCRIPTION "In the cases where the data contents need validation, the maximum allowable length for the data. E.g. for comment_text to limit entry of certain categories of comments."
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Validation max. length"
  POSITION 13
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Validation maximum length"
  ORDER 120

ADD FIELD "view_as_columns" OF "gsm_category" AS integer 
  DESCRIPTION "In the case where the data contains a large amount of text, this facilitates the displaying of that data using an editor widget."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "View as columns"
  POSITION 14
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "View as columns"
  ORDER 130

ADD FIELD "view_as_rows" OF "gsm_category" AS integer 
  DESCRIPTION "In the case where the data contains a large amount of text, this facilitates the displaying of that data using an editor widget."
  FORMAT "->9"
  INITIAL "0"
  LABEL "View as rows"
  POSITION 15
  MAX-WIDTH 4
  VALMSG "n_integer_2"
  HELP "View as rows"
  ORDER 140

ADD FIELD "category_mandatory" OF "gsm_category" AS logical 
  DESCRIPTION "Is entry of this type of information mandatory against the owning object type. E.g. a family must have an address, a member may have an alternative address.

In the case of categories of status's, by their very nature they are mandatory if they are system owned. This flag could therefore be used to indicate whether objects at this status may be modified or not."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Category mandatory"
  POSITION 16
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Category mandatory"
  ORDER 150

ADD FIELD "category_active" OF "gsm_category" AS logical 
  DESCRIPTION "Is this category active. At any time setting this field to NO will disable further use of anything associated with this category."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Category active"
  POSITION 17
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Category active"
  ORDER 160

ADD INDEX "XPKgsm_category" ON "gsm_category" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "category_obj" ASCENDING 

ADD INDEX "XAK1gsm_category" ON "gsm_category" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "related_entity_mnemonic" ASCENDING 
  INDEX-FIELD "category_type" ASCENDING 
  INDEX-FIELD "category_group" ASCENDING 
  INDEX-FIELD "category_subgroup" ASCENDING 

ADD INDEX "XIE1gsm_category" ON "gsm_category" 
  AREA "Schema Area"
  INDEX-FIELD "category_label" ASCENDING 

ADD INDEX "XIE2gsm_category" ON "gsm_category" 
  AREA "Schema Area"
  INDEX-FIELD "category_description" ASCENDING 

ADD INDEX "XIE3gsm_category" ON "gsm_category" 
  AREA "Schema Area"
  INDEX-FIELD "related_entity_mnemonic" ASCENDING 
  INDEX-FIELD "category_type" ASCENDING 
  INDEX-FIELD "category_group" ASCENDING 
  INDEX-FIELD "category_group_seq" ASCENDING 

ADD INDEX "XIE4gsm_category" ON "gsm_category" 
  AREA "Schema Area"
  INDEX-FIELD "related_entity_mnemonic" ASCENDING 
  INDEX-FIELD "category_subgroup" ASCENDING 

ADD INDEX "XIE5gsm_category" ON "gsm_category" 
  AREA "Schema Area"
  INDEX-FIELD "related_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "category_type" ASCENDING 
  INDEX-FIELD "category_group" ASCENDING 
  INDEX-FIELD "category_subgroup" ASCENDING 

ADD TABLE "gsm_comment"
  AREA "Schema Area"
  DESCRIPTION "Generic comment linked to any entity."
  DUMP-NAME "gsmcm"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmcmtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmcmtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmcmtrigw.p" CRC "?" 

ADD FIELD "comment_obj" OF "gsm_comment" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Comment obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Comment obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "owning_entity_mnemonic" OF "gsm_comment" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 20

ADD FIELD "owning_reference" OF "gsm_comment" AS character 
  DESCRIPTION "This field contains the reference values used with the owning_entity_mnemonic to link the comment generically to other records. 

If the related table has a object number, this field will contain the string value of the object number, otherwise it will contain a CHR(3) seperated string list of the values for the fields in gsc_entity_mnemonic.entity_key_field."
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Owning reference"
  POSITION 4
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Owning reference"
  ORDER 30

ADD FIELD "owning_obj" OF "gsm_comment" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "category_obj" OF "gsm_comment" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Category obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Category obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "comment_text" OF "gsm_comment" AS character 
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Comment text"
  POSITION 7
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_big_text_block"
  HELP "Comment text"
  ORDER 60

ADD FIELD "auto_display" OF "gsm_comment" AS logical 
  DESCRIPTION "Should this comment be automatically displayed and acknowledged in an alert dialog box whenever the owning_obj is entered."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Auto display"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Auto display"
  ORDER 70

ADD FIELD "print_option_tlas" OF "gsm_comment" AS character 
  DESCRIPTION "An optional comma separated selection of codes from g_category.valid_print_option_tlas, used to determine on which documents this comment is to be printed.
The recognition of these TLA's is hard coded in the appropriate document print programs.."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Print option TLAs"
  POSITION 9
  MAX-WIDTH 140
  VALMSG "s_tla_list"
  HELP "Print option three letter acronyms"
  ORDER 80

ADD FIELD "expiry_date" OF "gsm_comment" AS date 
  DESCRIPTION "The date after which this comment is no longer valid"
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Expiry date"
  POSITION 10
  MAX-WIDTH 4
  VALMSG "d_end_date"
  HELP "Expiry date"
  ORDER 90

ADD FIELD "comment_description" OF "gsm_comment" AS character 
  DESCRIPTION "A summary of the comment to display in browsers, etc. where space is limited. A word search could be performed on this field to locate the comment."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Comment description"
  POSITION 11
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Comment description"
  ORDER 100

ADD FIELD "last_updated_by_user" OF "gsm_comment" AS character 
  DESCRIPTION "This is the user login name of the user that created / last updated the comment - if known."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Last updated by user"
  POSITION 12
  MAX-WIDTH 30
  VALMSG "s_short_name"
  HELP "Last updated by user"
  ORDER 110

ADD FIELD "last_updated_date" OF "gsm_comment" AS date 
  DESCRIPTION "This is the date the comment was created / last updated."
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Last updated date"
  POSITION 13
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Last updated date"
  ORDER 120

ADD INDEX "XPKgsm_comment" ON "gsm_comment" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "comment_obj" ASCENDING 

ADD INDEX "XAK1gsm_comment" ON "gsm_comment" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "category_obj" ASCENDING 
  INDEX-FIELD "owning_reference" ASCENDING 
  INDEX-FIELD "comment_obj" ASCENDING 
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 

ADD INDEX "XIE1gsm_comment" ON "gsm_comment" 
  AREA "Schema Area"
  INDEX-FIELD "comment_description" ASCENDING 

ADD INDEX "XIE2gsm_comment" ON "gsm_comment" 
  AREA "Schema Area"
  INDEX-FIELD "owning_reference" ASCENDING 
  INDEX-FIELD "auto_display" ASCENDING 

ADD INDEX "XIE3gsm_comment" ON "gsm_comment" 
  AREA "Schema Area"
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_reference" ASCENDING 

ADD INDEX "XIE4gsm_comment" ON "gsm_comment" 
  AREA "Schema Area"
  INDEX-FIELD "last_updated_by_user" ASCENDING 

ADD INDEX "XIE5gsm_comment" ON "gsm_comment" 
  AREA "Schema Area"
  INDEX-FIELD "last_updated_date" ASCENDING 

ADD TABLE "gsm_control_code"
  AREA "Schema Area"
  DESCRIPTION "This is a generic table for holding device control codes. The category is used to define what the code is for, and the owning_obj is optionally to define the device the code relates to. If the owning_obj is left as 0, then it applies to all devices.

An example use is in a point of sale system where codes must be sent to a pole for various reasons, e.g. to reset the poll, to make the message scroll, etc. Different categories would be defined for each action. The owning_entity_mnemonic on the category would determine which table the owning_obj related to. This will usually be some sort of application specific device table.
"
  DUMP-NAME "gsmcl"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmcltrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmcltrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmcltrigw.p" CRC "?" 

ADD FIELD "category_obj" OF "gsm_control_code" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Category obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Category obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "owning_obj" OF "gsm_control_code" AS decimal 
  DESCRIPTION "The owning_obj is optionally to define the device the code relates to. If the owning_obj is left as 0, then it applies to all devices.

An example use is in a point of sale system where codes must be sent to a pole for various reasons, e.g. to reset the poll, to make the message scroll, etc. Different categories would be defined for each action. The owning_entity_mnemonic on the category would determine which table the owning_obj related to. This will usually be some sort of application specific device table.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "control_data" OF "gsm_control_code" AS character 
  DESCRIPTION "The actual data to send to the device for the specified action (category)."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Control data"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Control data"
  ORDER 30

ADD FIELD "control_short_description" OF "gsm_control_code" AS character 
  DESCRIPTION "A summary free text description of the control code data"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Control short description"
  POSITION 5
  MAX-WIDTH 30
  VALMSG "s_short_desc"
  HELP "Control short description"
  ORDER 40

ADD FIELD "control_description" OF "gsm_control_code" AS character 
  DESCRIPTION "A free text explanation of the control code data."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Control description"
  POSITION 6
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Control description"
  ORDER 50

ADD FIELD "control_code_obj" OF "gsm_control_code" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Control code obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Control code obj"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKgsm_control_code" ON "gsm_control_code" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "category_obj" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 

ADD INDEX "XAK1gsm_control_code" ON "gsm_control_code" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "control_code_obj" ASCENDING 

ADD INDEX "XIE1gsm_control_code" ON "gsm_control_code" 
  AREA "Schema Area"
  INDEX-FIELD "control_description" ASCENDING 

ADD INDEX "XIE2gsm_control_code" ON "gsm_control_code" 
  AREA "Schema Area"
  INDEX-FIELD "control_short_description" ASCENDING 

ADD INDEX "XIE3gsm_control_code" ON "gsm_control_code" 
  AREA "Schema Area"
  INDEX-FIELD "control_data" ASCENDING 

ADD TABLE "gsm_country"
  AREA "Schema Area"
  DESCRIPTION "Supported countries, e.g. USA = United States of America, SA = South Africa, UK = United Kingdom"
  DUMP-NAME "gsmcy"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmcytrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmcytrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmcyreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmcyrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmcyreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmcytrigw.p" CRC "?" 

ADD FIELD "country_obj" OF "gsm_country" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Country obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Country obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "country_code" OF "gsm_country" AS character 
  DESCRIPTION "The code of the country, as per the ISO3166 standard, e.g. 
UK = United Kingdom
SA = South Africa
"
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Country code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Country code"
  ORDER 20

ADD FIELD "country_name" OF "gsm_country" AS character 
  DESCRIPTION "The full name for the country"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Country name"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Country name"
  ORDER 30

ADD FIELD "min_postcode_lookup_chars" OF "gsm_country" AS integer 
  DESCRIPTION "The minimum number of characters in the postcode field of the address to be matched against the g_postcode file.

If this is set to 0, then postcode validation will be turned off.

In the UK, this may be set to 4 if only post town and county validation is in effect.

In South Africa, it would be set to 4 because that is the full length of the postcode and partial postcodes are not supported."
  FORMAT "->9"
  INITIAL "0"
  LABEL "Min postcode lookup chars"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "n_integer_2"
  HELP "Min postcode lookup chars"
  ORDER 40

ADD FIELD "address_format_procedure_obj" OF "gsm_country" AS decimal 
  DESCRIPTION "This contains an internal procedure name specific to the address / postcode formatting required. All address formatting procedures will exist in a single persistently run program.
Refer to the ""Generic Table Usage"" document for a detailed description."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Address format procedure obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Address format procedure obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "properform_address" OF "gsm_country" AS logical 
  DESCRIPTION "Convert the address to proper form true alphanumeric format"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Properform address"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Properform address"
  ORDER 60

ADD FIELD "upcase_town" OF "gsm_country" AS logical 
  DESCRIPTION "Force the town or suburb into uppercase. It's use is dependant on the type of address."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Upcase town"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Upcase town"
  ORDER 70

ADD FIELD "force_valid_address" OF "gsm_country" AS logical 
  DESCRIPTION "If set to YES, then the entry of valid address lines with a valid postcode will be used, possibly utilising clavis data for the validation."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Force valid address"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Force valid address"
  ORDER 80

ADD FIELD "address_line1_label" OF "gsm_country" AS character 
  DESCRIPTION "The screen label to use for the 1st line of the address, e.g. No. / Name"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Address line1 label"
  POSITION 10
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Address line1 label"
  ORDER 90

ADD FIELD "address_line2_label" OF "gsm_country" AS character 
  DESCRIPTION "The screen label to use for the 2nd line of the address, e.g. Street"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Address line2 label"
  POSITION 11
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Address line2 label"
  ORDER 100

ADD FIELD "address_line3_label" OF "gsm_country" AS character 
  DESCRIPTION "The screen label to use for the 3rdline of the address, e.g. City"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Address line3 label"
  POSITION 12
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Address line3 label"
  ORDER 110

ADD FIELD "address_line4_label" OF "gsm_country" AS character 
  DESCRIPTION "The screen label to use for the 4th line of the address, e.g. PO Box"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Address line4 label"
  POSITION 13
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Address line4 label"
  ORDER 120

ADD FIELD "address_line5_label" OF "gsm_country" AS character 
  DESCRIPTION "The screen label to use for the 5th line of the address, e.g. Firm"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Address line5 label"
  POSITION 14
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Address line5 label"
  ORDER 130

ADD FIELD "postcode_label" OF "gsm_country" AS character 
  DESCRIPTION "The screen label for the postcode of an address, e.g. Postcode or ZIP Code."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Postcode label"
  POSITION 15
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Postcode label"
  ORDER 140

ADD INDEX "XPKgsm_country" ON "gsm_country" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "country_obj" ASCENDING 

ADD INDEX "XAK1gsm_country" ON "gsm_country" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "country_code" ASCENDING 

ADD INDEX "XIE1gsm_country" ON "gsm_country" 
  AREA "Schema Area"
  INDEX-FIELD "country_name" ASCENDING 

ADD TABLE "gsm_currency"
  AREA "Schema Area"
  DESCRIPTION "This table contains all the currency codes and their symbol references that are available to the system"
  DUMP-NAME "gsmcr"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmcrtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmcrtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmcrreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmcrrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmcrreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmcrtrigw.p" CRC "?" 

ADD FIELD "currency_obj" OF "gsm_currency" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Currency obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Currency obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "currency_code" OF "gsm_currency" AS character 
  DESCRIPTION "A unique code that identifies the currency"
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Currency code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Currency code"
  ORDER 20

ADD FIELD "currency_description" OF "gsm_currency" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Currency description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Currency description"
  ORDER 30

ADD FIELD "currency_symbol" OF "gsm_currency" AS character 
  DESCRIPTION "The commonly used symbol to identify this currency code"
  FORMAT "X(5)"
  INITIAL ""
  LABEL "Currency symbol"
  POSITION 5
  MAX-WIDTH 10
  VALMSG "s_string_5"
  HELP "Currency symbol"
  ORDER 40

ADD FIELD "symbol_format_mask" OF "gsm_currency" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Symbol format mask"
  POSITION 6
  MAX-WIDTH 70
  VALMSG "s_format_string"
  HELP "Symbol format mask"
  ORDER 50

ADD FIELD "number_of_decimals" OF "gsm_currency" AS integer 
  DESCRIPTION "The number of decimals to store for the currency, necessary for rounding conversions."
  FORMAT "->9"
  INITIAL "0"
  LABEL "Number of decimals"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_integer_2"
  HELP "Number of decimals"
  ORDER 60

ADD INDEX "XPKgsm_currency" ON "gsm_currency" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "currency_obj" ASCENDING 

ADD INDEX "XAK1gsm_currency" ON "gsm_currency" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "currency_code" ASCENDING 

ADD INDEX "XIE1gsm_currency" ON "gsm_currency" 
  AREA "Schema Area"
  INDEX-FIELD "currency_description" ASCENDING 

ADD TABLE "gsm_default_report_format"
  AREA "Schema Area"
  DESCRIPTION "This table provides an override mechanism for default report layouts. For example, specific organisations or people can specify a different default report format for a specific document type.

This would typically be used for login company organisations, where for each of the different login companies, a different statement print layout or cheque layout , etc. could be used by default."
  DUMP-NAME "gsmdr"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmdrtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmdrtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmdrreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmdrrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmdrreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmdrtrigw.p" CRC "?" 

ADD FIELD "default_report_format_obj" OF "gsm_default_report_format" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default report format obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default report format obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "report_definition_obj" OF "gsm_default_report_format" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Report definition obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Report definition obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "owning_entity_mnemonic" OF "gsm_default_report_format" AS character 
  DESCRIPTION "The hard coded entity mnemonics allocated to every table in the application.
The hard coded list of entity mnemonics is documented in the ""Key to Entity Mnemonics"" document."
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 4
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 30

ADD FIELD "owning_obj" OF "gsm_default_report_format" AS decimal 
  DESCRIPTION "This is the object number of the record in the table refered to by the owning_obj_entity"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "document_type_obj" OF "gsm_default_report_format" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Document type obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Document type obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "report_format_obj" OF "gsm_default_report_format" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Report format obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Report format obj"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKgsm_default_report_format" ON "gsm_default_report_format" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "default_report_format_obj" ASCENDING 

ADD INDEX "XAK1gsm_default_report_format" ON "gsm_default_report_format" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 
  INDEX-FIELD "document_type_obj" ASCENDING 

ADD TABLE "gsm_entity_field"
  AREA "Schema Area"
  DESCRIPTION "This table facilitates securing any application specific or generic data against any entity.

For example, if there is a requirement to secure access to specific companies, then the company entity, with the company code field could be set-up in this table. The valid values could then be setup in the entity field values table, and users allocated access to the specific values."
  DUMP-NAME "gsmef"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmeftrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmeftrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmeftrigw.p" CRC "?" 

ADD FIELD "entity_field_obj" OF "gsm_entity_field" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Entity field obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Entity field obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "owning_entity_mnemonic" OF "gsm_entity_field" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 20

ADD FIELD "entity_field_name" OF "gsm_entity_field" AS character 
  DESCRIPTION "The fieldname within the entity that this value is associated with (no tablename prefix required)."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Entity field name"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Entity field name"
  ORDER 30

ADD FIELD "entity_field_description" OF "gsm_entity_field" AS character 
  DESCRIPTION "A description of the fieldname"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Entity field description"
  POSITION 5
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Entity field description"
  ORDER 40

ADD INDEX "XPKgsm_entity_field" ON "gsm_entity_field" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "entity_field_obj" ASCENDING 

ADD INDEX "XAK1gsm_entity_field" ON "gsm_entity_field" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "entity_field_name" ASCENDING 

ADD TABLE "gsm_entity_field_value"
  AREA "Schema Area"
  DESCRIPTION "The valid values for the entity field, e.g. company codes."
  DUMP-NAME "gsmev"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmevtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmevtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmevtrigw.p" CRC "?" 

ADD FIELD "entity_field_value_obj" OF "gsm_entity_field_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Entity field value obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Entity field value obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "entity_field_obj" OF "gsm_entity_field_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Entity field obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Entity field obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "entity_field_contents" OF "gsm_entity_field_value" AS character 
  DESCRIPTION "The value assigned to the field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Entity field contents"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Entity field contents"
  ORDER 30

ADD INDEX "XPKgsm_entity_field_value" ON "gsm_entity_field_value" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "entity_field_value_obj" ASCENDING 

ADD INDEX "XIE1gsm_entity_field_value" ON "gsm_entity_field_value" 
  AREA "Schema Area"
  INDEX-FIELD "entity_field_obj" ASCENDING 
  INDEX-FIELD "entity_field_contents" ASCENDING 

ADD TABLE "gsm_external_xref"
  AREA "Schema Area"
  DESCRIPTION "This table defines generic cross reference information to details in external tables.

For example, an organisation whose accounts are held in this database, may have other account codes in an external database where these account codes originated from. This table could be used to define which internal accounts point to which external accounts for xref and reporting purposes. In this example, the fields would be setup as follows:
related entity = The gsm_organisation table in this database
related object = Specific organisations
Internal entity = The gsm_account table in this database
internal object = specific account codes

If an external table is available, then the external entity and object can be defined, otherwise the external details can be keyed directly into this table.
"
  DUMP-NAME "gsmex"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmextrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmextrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmextrigw.p" CRC "?" 

ADD FIELD "related_entity_mnemonic" OF "gsm_external_xref" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Related entity"
  POSITION 2
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Related entity"
  ORDER 10

ADD FIELD "related_owning_obj" OF "gsm_external_xref" AS decimal 
  DESCRIPTION "The entity this xref is for. This will probably be an organisation or a person."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Related owning obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Related owning obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "internal_entity_mnemonic" OF "gsm_external_xref" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Internal entity"
  POSITION 4
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Internal entity"
  ORDER 30

ADD FIELD "internal_owning_obj" OF "gsm_external_xref" AS decimal 
  DESCRIPTION "The interal entity the xref is for, e.g. an account"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Internal owning obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Internal owning obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "external_xref_obj" OF "gsm_external_xref" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "External xref obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "External xref obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "external_entity_mnemonic" OF "gsm_external_xref" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "External entity"
  POSITION 7
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "External entity"
  ORDER 60

ADD FIELD "external_owning_obj" OF "gsm_external_xref" AS decimal 
  DESCRIPTION "The external entity the xref is for, e.g. an account in another database. This is optional as the external details can be keyed directly into this table."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "External owning obj"
  POSITION 8
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "External owning obj"
  DECIMALS 9
  ORDER 70

ADD FIELD "external_code" OF "gsm_external_xref" AS character 
  DESCRIPTION "The external reference from the external table that relates to the internal details pointed at by the internal owning obj."
  FORMAT "X(20)"
  INITIAL ""
  LABEL "External code"
  POSITION 9
  MAX-WIDTH 40
  VALMSG "s_string_20"
  HELP "External code"
  ORDER 80

ADD FIELD "external_description" OF "gsm_external_xref" AS character 
  DESCRIPTION "The external description from the external table that relates to the internal details pointed at by the internal owning obj."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "External description"
  POSITION 10
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "External description"
  ORDER 90

ADD FIELD "external_details" OF "gsm_external_xref" AS character 
  DESCRIPTION "Other external details from the external table that relates to the internal details pointed at by the internal owning obj.

This is an additional field for application specific purposes. It could contain a delimited list of many other field values if required."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "External details"
  POSITION 11
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "External details"
  ORDER 100

ADD INDEX "XPKgsm_external_xref" ON "gsm_external_xref" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "related_entity_mnemonic" ASCENDING 
  INDEX-FIELD "related_owning_obj" ASCENDING 
  INDEX-FIELD "internal_entity_mnemonic" ASCENDING 
  INDEX-FIELD "internal_owning_obj" ASCENDING 
  INDEX-FIELD "external_xref_obj" ASCENDING 

ADD INDEX "XIE1gsm_external_xref" ON "gsm_external_xref" 
  AREA "Schema Area"
  INDEX-FIELD "related_entity_mnemonic" ASCENDING 
  INDEX-FIELD "related_owning_obj" ASCENDING 
  INDEX-FIELD "internal_entity_mnemonic" ASCENDING 
  INDEX-FIELD "external_owning_obj" ASCENDING 

ADD INDEX "XIE2gsm_external_xref" ON "gsm_external_xref" 
  AREA "Schema Area"
  INDEX-FIELD "related_entity_mnemonic" ASCENDING 
  INDEX-FIELD "related_owning_obj" ASCENDING 
  INDEX-FIELD "internal_entity_mnemonic" ASCENDING 
  INDEX-FIELD "external_code" ASCENDING 

ADD INDEX "XIE3gsm_external_xref" ON "gsm_external_xref" 
  AREA "Schema Area"
  INDEX-FIELD "related_entity_mnemonic" ASCENDING 
  INDEX-FIELD "related_owning_obj" ASCENDING 
  INDEX-FIELD "internal_entity_mnemonic" ASCENDING 
  INDEX-FIELD "external_description" ASCENDING 

ADD INDEX "XIE4gsm_external_xref" ON "gsm_external_xref" 
  AREA "Schema Area"
  INDEX-FIELD "related_entity_mnemonic" ASCENDING 
  INDEX-FIELD "related_owning_obj" ASCENDING 
  INDEX-FIELD "internal_entity_mnemonic" ASCENDING 
  INDEX-FIELD "external_details" ASCENDING 

ADD INDEX "XIE5gsm_external_xref" ON "gsm_external_xref" 
  AREA "Schema Area"
  INDEX-FIELD "external_entity_mnemonic" ASCENDING 
  INDEX-FIELD "external_owning_obj" ASCENDING 

ADD INDEX "XIE6gsm_external_xref" ON "gsm_external_xref" 
  AREA "Schema Area"
  INDEX-FIELD "external_code" ASCENDING 

ADD INDEX "XIE7gsm_external_xref" ON "gsm_external_xref" 
  AREA "Schema Area"
  INDEX-FIELD "external_xref_obj" ASCENDING 

ADD TABLE "gsm_field"
  AREA "Schema Area"
  DESCRIPTION "Fields that require secured access in the software. Not many fields required security, but those that do should be defined in this table. Users can only be given restricted access to fields specified in this table.

If a user is given restricted access to a field specified in this table, then the access granted to the user may be view only, hidden, or update.

For field security to be activated, entries must be created in the security structure table, as it is this table that is allocated to users, and allows the field security to be restricted or different in various parts of the application.

Usually developers will create appropriate fields, and users may then assign them to certain parts of the application via the security structure table.
"
  DUMP-NAME "gsmff"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmfftrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmfftrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmfftrigw.p" CRC "?" 

ADD FIELD "field_obj" OF "gsm_field" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Field obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Field obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "field_name" OF "gsm_field" AS character 
  DESCRIPTION "The actual schema fieldname, specified as tablename.fieldname."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Field name"
  POSITION 3
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Field name"
  ORDER 20

ADD FIELD "field_description" OF "gsm_field" AS character 
  DESCRIPTION "A description of the field."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Field description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Field description"
  ORDER 30

ADD FIELD "disabled" OF "gsm_field" AS logical 
  DESCRIPTION "If set to YES, then this field will not be checked, and full access will be granted."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Disabled"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Disabled"
  ORDER 40

ADD FIELD "system_owned" OF "gsm_field" AS logical 
  DESCRIPTION "If set to YES, this field is required for the system to operate and cannot be amended or deleted by users."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 50

ADD INDEX "XPKgsm_field" ON "gsm_field" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "field_obj" ASCENDING 

ADD INDEX "XAK1gsm_field" ON "gsm_field" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "field_name" ASCENDING 

ADD INDEX "XIE1gsm_field" ON "gsm_field" 
  AREA "Schema Area"
  INDEX-FIELD "field_description" ASCENDING 

ADD TABLE "gsm_filter_data"
  AREA "Schema Area"
  DESCRIPTION "This table defines the filters that are applicable to a filter set, and a filter set can have many filters that apply. 

By default, the include flag will be set to NO, indicating the specified criteria must be excluded from the result set. If the include flag is set to YES, then this will be treated as an override condition to re-include specific data. This will work by building up a bracketed where clause for all the exclusions, using the AND operator, and then outside this bracket, performing an OR operator for any data that must be re-included - allowing overrides for specific data. Clearly this must be used sparingly to avoid potential performance problems.
The table can be read as meaning to exclude all specified data except the data that is specifically included back in. For example, exclude all objects in all repository modules, except for objects where the template flag is true or the object type is a toolbar.

If a specific record is to be specified, then the owning_reference field will point at the object id for that table. For example, if the owning_entity_mnemonic is GSCPM for gsc_product_module, then the owning_reference will point to a specific product module product_module_obj.

Alternatively a more generic expression can be specified, by supplying a fieldname, e.g. object_filename, an operator, e.g. BEGINS, and a value, e.g. ""standardtoolbar"".

It is not possible to specify a generic expression and a specific record, one or the other must be specified in a single filter data record.

This table provides significant flexibility in the specification of what data to filter. It will be possible for example to specify a list of product modules to exclude, but to re-include specific objects from some of the excluded product modules.
"
  DUMP-NAME "gsmfd"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmfdtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmfdtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmfdreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmfdrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmfdreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmfdtrigw.p" CRC "?" 

ADD FIELD "filter_data_obj" OF "gsm_filter_data" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Filter data obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Filter data obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "filter_set_obj" OF "gsm_filter_data" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Filter set obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Filter set obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "owning_entity_mnemonic" OF "gsm_filter_data" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 4
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 30

ADD FIELD "owning_reference" OF "gsm_filter_data" AS character 
  DESCRIPTION "If a specific record is to be specified, then this field will point at the object id for that table. For example, if the owning_entity_mnemonic is GSCPM for gsc_product_module, then the owning_reference will point to a specific product module product_module_obj.

This field contains the key field values of a record from the table as identified by the owning entity mnemonic, e.g. a product_module_obj or a object_type_obj.

If the related table has a object number, this field will contain the string value of the object number, otherwise it will contain a CHR(3) seperated string list of the values for the fields in gsc_entity_mnemonic.entity_key_field.
"
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Owning reference"
  POSITION 5
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Owning reference"
  ORDER 40

ADD FIELD "expression_field_name" OF "gsm_filter_data" AS character 
  DESCRIPTION "Rather than using the owning_entity_mnemonic and owning_reference, alternatively a more generic expression can be specified, by supplying an expression fieldname, e.g. object_filename, an operator, e.g. BEGINS, and a value, e.g. ""standardtoolbar"".
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Expression field name"
  POSITION 6
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Expression field name"
  ORDER 50

ADD FIELD "expression_operator" OF "gsm_filter_data" AS character 
  DESCRIPTION "Rather than using the owning_entity_mnemonic and owning_reference, alternatively a more generic expression can be specified, by supplying an expression fieldname, e.g. object_filename, an operator, e.g. BEGINS, and a value, e.g. ""standardtoolbar"".
"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Expression operator"
  POSITION 7
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Expression operator"
  ORDER 60

ADD FIELD "expression_value" OF "gsm_filter_data" AS character 
  DESCRIPTION "Rather than using the owning_entity_mnemonic and owning_reference, alternatively a more generic expression can be specified, by supplying an expression fieldname, e.g. object_filename, an operator, e.g. BEGINS, and a value, e.g. ""standardtoolbar"".
"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Expression value"
  POSITION 8
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Expression value"
  ORDER 70

ADD FIELD "include_data" OF "gsm_filter_data" AS logical 
  DESCRIPTION "By default, the include flag will be set to NO, indicating the specified criteria must be excluded from the result set. If the include flag is set to YES, then this will be treated as an override condition to re-include specific data. This will work by building up a bracketed where clause for all the exclusions, using the AND operator, and then outside this bracket, performing an OR operator for any data that must be re-included - allowing overrides for specific data. Clearly this must be used sparingly to avoid potential performance problems"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Include data"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Include data"
  ORDER 80

ADD INDEX "XPKgsm_filter_data" ON "gsm_filter_data" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "filter_data_obj" ASCENDING 

ADD INDEX "XIE1gsm_filter_data" ON "gsm_filter_data" 
  AREA "Schema Area"
  INDEX-FIELD "filter_set_obj" ASCENDING 

ADD INDEX "XIE2gsm_filter_data" ON "gsm_filter_data" 
  AREA "Schema Area"
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 

ADD INDEX "XIE3gsm_filter_data" ON "gsm_filter_data" 
  AREA "Schema Area"
  INDEX-FIELD "owning_reference" ASCENDING 

ADD INDEX "XIE4gsm_filter_data" ON "gsm_filter_data" 
  AREA "Schema Area"
  INDEX-FIELD "expression_field_name" ASCENDING 

ADD TABLE "gsm_filter_set"
  AREA "Schema Area"
  DESCRIPTION "This table is a grouping mechanism for numerous filter settings that make up a single filter definition. A standard filter set will be defined called ""Repository"" that contains all the filter records required to be able to filter out repository data. Filter sets can then be modified and extended to filter out additional data or include data that was previously excluded.

We use user profile codes to assign a filter set to a user, rather than setting the flag, display repository data yes or no. If no filter set is allocated to a user, then no filters apply. Only a single filter set may be applied at any one time. 
"
  DUMP-NAME "gsmfi"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmfitrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmfitrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmfireplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmfirepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmfireplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmfitrigw.p" CRC "?" 

ADD FIELD "filter_set_obj" OF "gsm_filter_set" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Filter set obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Filter set obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "filter_set_code" OF "gsm_filter_set" AS character 
  DESCRIPTION "A unique code to identify the filter set"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Filter set code"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Filter set code"
  ORDER 20

ADD FIELD "filter_set_description" OF "gsm_filter_set" AS character 
  DESCRIPTION "A free text description of the filter set"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Filter set description"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Filter set description"
  ORDER 30

ADD INDEX "XPKgsm_filter_set" ON "gsm_filter_set" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "filter_set_obj" ASCENDING 

ADD INDEX "XAK1gsm_filter_set" ON "gsm_filter_set" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "filter_set_code" ASCENDING 

ADD INDEX "XIE1gsm_filter_set" ON "gsm_filter_set" 
  AREA "Schema Area"
  INDEX-FIELD "filter_set_description" ASCENDING 

ADD TABLE "gsm_flow"
  AREA "Schema Area"
  DESCRIPTION "A flow is a set of steps that have to be performed in a certain order to result in certain desired behavior. 

This table groups the steps that have to be performed.

af/sup2/afrun2.i takes a parameter (&FLOW) which maps to one of these flows and then executes the steps that make up the flow.

A flow must ultimately map to a single transaction and therefore must be executed on a single physical partition or service.

Example flows may be shipOrder, completeOrder, postTransaction, etc.
"
  DUMP-NAME "gsmfw"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmfwtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmfwtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmfwreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmfwrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmfwreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmfwtrigw.p" CRC "?" 

ADD FIELD "flow_obj" OF "gsm_flow" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Flow obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Flow obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "flow_name" OF "gsm_flow" AS character 
  DESCRIPTION "A unique name via which to reference the flow. This flow name will be referenced in code and so may never be changed once it has been used anywhere.
This flow name will be passed as an insertion code into afrun2.i which is used to launch business logic."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Flow name"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Flow name"
  ORDER 20

ADD FIELD "flow_description" OF "gsm_flow" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Flow description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Flow description"
  ORDER 30

ADD FIELD "product_module_obj" OF "gsm_flow" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Product module obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Product module obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "system_owned" OF "gsm_flow" AS logical 
  DESCRIPTION "If set to YES this record may only be maintained by users who are permitted to maintain system data - as identified by a flag on the user record. This is to prevent accidental deletion of data required for the framework to work correctly."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 50

ADD FIELD "flow_narration" OF "gsm_flow" AS character 
  DESCRIPTION "This is a free text description of the flow describing the purpose of the flow and the API required to use the flow."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Flow narration"
  POSITION 7
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Flow narration"
  ORDER 60

ADD INDEX "XPKgsm_flow" ON "gsm_flow" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "flow_obj" ASCENDING 

ADD INDEX "XAK1gsm_flow" ON "gsm_flow" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "flow_name" ASCENDING 

ADD INDEX "XAK2gsm_flow" ON "gsm_flow" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "product_module_obj" ASCENDING 
  INDEX-FIELD "flow_name" ASCENDING 

ADD INDEX "XIE1gsm_flow" ON "gsm_flow" 
  AREA "Schema Area"
  INDEX-FIELD "flow_description" ASCENDING 

ADD TABLE "gsm_flow_step"
  AREA "Schema Area"
  DESCRIPTION "This table contains the steps that have to be followed to complete a flow.

Each step may involve the running of an object, the running of an internal procedure within an object, or the execution of another complete flow.

The flow steps may be customised for specific login organisations so that entire steps may be replaced with custom specific code. 

The standard flow steps will be specified with a 0 login company. Within a single flow the login company can either be 0 or a specific company. When running each step it will first check for a customisation for the login company and if not found will just run the standard step. 

If a customisation is found, this may either be an additional step in which case the custom step will be run first, or else it will be a complete replacement of the standard step.

It is also possible to add custom steps that do not have any standard code at all, i.e. no step with a 0 login company exists. This facilitates adding customisations after the standard behaviour.





 and so setting up company specific steps would involve copying the default flow steps to a specific login company in full and then customising the specific steps as required. If the standard flow is modified, customised steps would also need to be manually modified as appropriate.
"
  DUMP-NAME "gsmfs"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmfstrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmfstrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmfsreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmfsrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmfsreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmfstrigw.p" CRC "?" 

ADD FIELD "flow_step_obj" OF "gsm_flow_step" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Flow step obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Flow step obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "flow_obj" OF "gsm_flow_step" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Flow obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Flow obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "flow_step_order" OF "gsm_flow_step" AS integer 
  DESCRIPTION "This is the order that the steps within a flow must be executed.
"
  FORMAT "->>>9"
  INITIAL "0"
  LABEL "Flow step order"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_integer_4"
  HELP "Flow step order"
  ORDER 30

ADD FIELD "login_company_obj" OF "gsm_flow_step" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Login company obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Login company obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "replace_standard_step" OF "gsm_flow_step" AS logical 
  DESCRIPTION "This flag is only applicable if the login company is not 0. It indicates whether the custom specific step is in addition to the standard step or replaces completely the standard step.

Therefore, if set to YES, the custom setp would replace the standard step idenitified by a login company of 0.

When the step is an additional step, the custom step will always run first."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Replace standard step"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Replace standard step"
  ORDER 50

ADD FIELD "object_obj" OF "gsm_flow_step" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object obj"
  DECIMALS 9
  ORDER 60

ADD FIELD "internal_procedure" OF "gsm_flow_step" AS character 
  DESCRIPTION "This is the internal procedure to run within the object specified. It is only applicable if the flow step is running an object persistently. 
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Internal procedure"
  POSITION 8
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Internal procedure"
  ORDER 70

ADD FIELD "flow_step_flow_obj" OF "gsm_flow_step" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Flow step flow obj"
  POSITION 9
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Flow step flow obj"
  DECIMALS 9
  ORDER 80

ADD INDEX "XPKgsm_flow_step" ON "gsm_flow_step" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "flow_step_obj" ASCENDING 

ADD INDEX "XAK1gsm_flow_step" ON "gsm_flow_step" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "flow_obj" ASCENDING 
  INDEX-FIELD "flow_step_order" ASCENDING 
  INDEX-FIELD "login_company_obj" ASCENDING 

ADD INDEX "XAK2gsm_flow_step" ON "gsm_flow_step" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "login_company_obj" ASCENDING 
  INDEX-FIELD "flow_obj" ASCENDING 
  INDEX-FIELD "flow_step_order" ASCENDING 

ADD INDEX "XIE1gsm_flow_step" ON "gsm_flow_step" 
  AREA "Schema Area"
  INDEX-FIELD "object_obj" ASCENDING 

ADD INDEX "XIE2gsm_flow_step" ON "gsm_flow_step" 
  AREA "Schema Area"
  INDEX-FIELD "flow_step_flow_obj" ASCENDING 

ADD TABLE "gsm_group_allocation"
  AREA "Schema Area"
  DESCRIPTION "This table defines which groups a user belongs to - for security purposes. It is also possible to set up groups that belong to groups. If the login company is specified, this indicates that security for this group only applies when logged into the specified company.

"
  DUMP-NAME "gsmga"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmgatrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmgatrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmgareplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmgarepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmgareplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmgatrigw.p" CRC "?" 

ADD FIELD "group_allocation_obj" OF "gsm_group_allocation" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Group allocation obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Group allocation obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "group_user_obj" OF "gsm_group_allocation" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Group user obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Group user obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "user_obj" OF "gsm_group_allocation" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "login_company_obj" OF "gsm_group_allocation" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Login company obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Login company obj"
  DECIMALS 9
  ORDER 40

ADD INDEX "XPKgsm_group_allocation" ON "gsm_group_allocation" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "group_allocation_obj" ASCENDING 

ADD INDEX "XAK1gsm_group_allocation" ON "gsm_group_allocation" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "group_user_obj" ASCENDING 
  INDEX-FIELD "user_obj" ASCENDING 
  INDEX-FIELD "login_company_obj" ASCENDING 

ADD INDEX "XIE1gsm_group_allocation" ON "gsm_group_allocation" 
  AREA "Schema Area"
  INDEX-FIELD "user_obj" ASCENDING 

ADD INDEX "XIE2gsm_group_allocation" ON "gsm_group_allocation" 
  AREA "Schema Area"
  INDEX-FIELD "login_company_obj" ASCENDING 

ADD TABLE "gsm_help"
  AREA "Schema Area"
  DESCRIPTION "This table defines help contexts for containers, objects on containers, and fields on obejcts if required.

When context sensitive help is requested, the context and help file will be retrieved from this file if available.

Help may be specified in multiple languages if required.

An entry in this table for a specific language but no container, object or field specified will override the standard help file used systemwide for the specified language from gsc_security_control."
  DUMP-NAME "gsmhe"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmhetrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmhetrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmhereplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmherepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmhereplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmhetrigw.p" CRC "?" 

ADD FIELD "help_obj" OF "gsm_help" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Help obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Help obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "help_filename" OF "gsm_help" AS character 
  DESCRIPTION "If specified, this will override the default help file used by the system for this specific help context. If empty, the default will be used as per the system control record.

"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Help filename"
  POSITION 3
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Help filename"
  ORDER 20

ADD FIELD "help_container_filename" OF "gsm_help" AS character 
  DESCRIPTION "The container filename this help context is for. Specify an extension e.g. .w, but do not specify a path"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Help container filename"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Help container filename"
  ORDER 30

ADD FIELD "help_object_filename" OF "gsm_help" AS character 
  DESCRIPTION "The optional object filename this help context is for. Specify an extension e.g. .w, but do not specify a path"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Help object filename"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Help object filename"
  ORDER 40

ADD FIELD "help_fieldname" OF "gsm_help" AS character 
  DESCRIPTION "The optional fieldname this help context is for. 
If specified, the fieldname must be entered as tablename.fieldname.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Help fieldname"
  POSITION 6
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Help fieldname"
  ORDER 50

ADD FIELD "language_obj" OF "gsm_help" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Language obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Language obj"
  DECIMALS 9
  ORDER 60

ADD FIELD "help_context" OF "gsm_help" AS character 
  DESCRIPTION "The help context which is the index into the specified help file. If text is specified, then this is used as a partial-key, else it is assumed to be a context number."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Help context"
  POSITION 8
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Help context"
  ORDER 70

ADD INDEX "XPKgsm_help" ON "gsm_help" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "help_obj" ASCENDING 

ADD INDEX "XAK1gsm_help" ON "gsm_help" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "help_container_filename" ASCENDING 
  INDEX-FIELD "help_object_filename" ASCENDING 
  INDEX-FIELD "help_fieldname" ASCENDING 
  INDEX-FIELD "language_obj" ASCENDING 

ADD INDEX "XIE1gsm_help" ON "gsm_help" 
  AREA "Schema Area"
  INDEX-FIELD "language_obj" ASCENDING 
  INDEX-FIELD "help_container_filename" ASCENDING 
  INDEX-FIELD "help_object_filename" ASCENDING 
  INDEX-FIELD "help_fieldname" ASCENDING 

ADD INDEX "XIE2gsm_help" ON "gsm_help" 
  AREA "Schema Area"
  INDEX-FIELD "help_context" ASCENDING 

ADD TABLE "gsm_login_company"
  AREA "Schema Area"
  DESCRIPTION "This framework table defines login companies (organisations) and is used to provide a list of valid companies the user may log into at runtime.

It is intended that this table will link into an external application database where additional details will be stored for the login company, e.g. address and contact information. The code or the object field could be used as the xref into the external application database.

The table is required in the framework to facilitate the generic set-up of framework data specific to login companies, e.g. security allocations, automatic reference numbers, etc.

The existence of a login company in the framework supports the concept of holding multiple company application data in a single database as apposed to having separate databases for each company. Application databases would further have to link to this table or a corresponding table in their database design to filter appropriate data for each login company.

We only hold on this table the minimum details as required by the framework. Applications that also have an organisation table will need to replicate modifications from their full organisation table into this table in order to simplify and syncrhonise maintenance of this data.
"
  DUMP-NAME "gsmlg"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmlgtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmlgtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmlgtrigw.p" CRC "?" 

ADD FIELD "login_company_obj" OF "gsm_login_company" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Login company obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Login company obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "login_company_code" OF "gsm_login_company" AS character 
  DESCRIPTION "A unique code to identify the login company. This may be used as an xref into an external application database where the full login company details are stored."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Login company code"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Login company code"
  ORDER 20

ADD FIELD "login_company_short_name" OF "gsm_login_company" AS character 
  DESCRIPTION "A short description of the login company used for lookup purposes."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Login company short name"
  POSITION 4
  MAX-WIDTH 30
  VALMSG "s_short_name"
  HELP "Login company short name"
  ORDER 30

ADD FIELD "login_company_name" OF "gsm_login_company" AS character 
  DESCRIPTION "The full name of the login company used when displaying the login company name on reports, status bars, etc."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Login company name"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Login company name"
  ORDER 40

ADD FIELD "login_company_email" OF "gsm_login_company" AS character 
  DESCRIPTION "The email address for the login company used for automatic notification messages, etc."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Login company email"
  POSITION 6
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Login company email"
  ORDER 50

ADD FIELD "login_company_disabled" OF "gsm_login_company" AS logical 
  DESCRIPTION "If set to YES, further use of this login company will be disabled and logins into this login company will be prevented."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Login company disabled"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Login company disabled"
  ORDER 60

ADD INDEX "XPKgsm_login_company" ON "gsm_login_company" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "login_company_obj" ASCENDING 

ADD INDEX "XAK1gsm_login_company" ON "gsm_login_company" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "login_company_code" ASCENDING 

ADD INDEX "XIE1gsm_login_company" ON "gsm_login_company" 
  AREA "Schema Area"
  INDEX-FIELD "login_company_short_name" ASCENDING 

ADD INDEX "XIE2gsm_login_company" ON "gsm_login_company" 
  AREA "Schema Area"
  INDEX-FIELD "login_company_name" ASCENDING 

ADD TABLE "gsm_menu_item"
  AREA "Schema Area"
  DESCRIPTION "This table defines the dynamic menu items that may belong to either a menu structure or a toolbar.  An 'item' can be visualized as a menu item in a menubar (or submenu, ruler) , or a control (button, combo box) in a toolbar. A menu item may launch an actual program, publish an event to an object, or set a property.
"
  DUMP-NAME "gsmmi"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmmitrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmmitrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmmireplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmmirepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmmireplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmmitrigw.p" CRC "?" 

ADD FIELD "menu_item_obj" OF "gsm_menu_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Menu item obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Menu item obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "product_module_obj" OF "gsm_menu_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Product module obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Product module obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "object_obj" OF "gsm_menu_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "instance_attribute_obj" OF "gsm_menu_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Instance attribute obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Instance attribute obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "item_category_obj" OF "gsm_menu_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Item category obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Item category obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "menu_item_label" OF "gsm_menu_item" AS character 
  DESCRIPTION "The label to show on the menu. The label may be auto generated or manually entered.

Include an ampersand for the accelerator key where appropriate - the Progress default if not sepcified is to use the 1st character."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Menu item label"
  POSITION 7
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Menu item label"
  ORDER 60

ADD FIELD "menu_item_description" OF "gsm_menu_item" AS character 
  DESCRIPTION "A full description of the menu item"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Menu item description"
  POSITION 8
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Menu item description"
  ORDER 70

ADD FIELD "toggle_menu_item" OF "gsm_menu_item" AS logical 
  DESCRIPTION "If set to YES, this menu item is a toggle option that can either be YES or NO."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Toggle menu item"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Toggle menu item"
  ORDER 80

ADD FIELD "tooltip_text" OF "gsm_menu_item" AS character 
  DESCRIPTION "The tooltip text to display when this menu item is placed on a dynamic toolbar."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Tooltip text"
  POSITION 10
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Tooltip text"
  ORDER 90

ADD FIELD "shortcut_key" OF "gsm_menu_item" AS character 
  DESCRIPTION "The shortcut key to associate with this menu item, e.g. CTRL-A
"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Shortcut key"
  POSITION 11
  MAX-WIDTH 30
  VALMSG "s_short_name"
  HELP "Shortcut key"
  ORDER 100

ADD FIELD "hide_if_disabled" OF "gsm_menu_item" AS logical 
  DESCRIPTION "If this menu option is disabled for security reasons, then with this option set to YES, the menu item will be hidden rather than just greyed out. The default is to grey the option out.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Hide if disabled"
  POSITION 12
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Hide if disabled"
  ORDER 110

ADD FIELD "disabled" OF "gsm_menu_item" AS logical 
  DESCRIPTION "I set to YES, this menu item will be disabled. If this is a sub menu item, then all menu items belonging to the sub menu will also therefore be disabled."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Disabled"
  POSITION 13
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Disabled"
  ORDER 120

ADD FIELD "system_owned" OF "gsm_menu_item" AS logical 
  DESCRIPTION "I a menu item is system owned, it may not be amended or deleted by users not permitted to maintain system owned data.
"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "System owned"
  POSITION 14
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "System owned"
  ORDER 130

ADD FIELD "under_development" OF "gsm_menu_item" AS logical 
  DESCRIPTION "If set to YES, the program run by this menu option is still under development. This menu option will be hidden from users not flagged as developers."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Under development"
  POSITION 15
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Under development"
  ORDER 140

ADD FIELD "menu_item_reference" OF "gsm_menu_item" AS character 
  DESCRIPTION "This is the unique identifier used in all code that references this table. Used in super-procedure and repository APIs as well as in Instance Properties. 

May also be automatically generated for some menu items - used when releasing menu items to site to be able to update existing menu items, rather than deleting and recreating."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Menu item reference"
  POSITION 16
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Menu item reference"
  ORDER 150

ADD FIELD "propagate_links" OF "gsm_menu_item" AS character 
  DESCRIPTION "This contains a comma seperated list of links to propagate. The links must be specified with the -source or -target suffix to indicate the direction of the link being propagated.

For this to work, a menu toolbar must exist with an instance attribute of menu. It does not need to be visualised but must exist. The reason is that it would be too dangerous to just propagate links direct from a container.

Selecting the menu item will propogate any specified links to/from the menu toolbar through to the program being run, thereby bypassing the menu toolbar. The link could also be further directed by the program to an object in the program if an additional link existed between the container and the object with the same link name.

For example, we could have a link from a browserA to a menu toolbar called link1-target. The toolbar runs a new program B. If link1-target is in the list of propogate links, then a link will be created between  browserA and programB. If programB has a subsequent link1-target link from its container to another object called viewerC, then the link will actually be routed from browserA to viewerC.

This in effect is a generic pass through link mechanism.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Propagate links"
  POSITION 17
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Propagate links"
  ORDER 160

ADD FIELD "security_token" OF "gsm_menu_item" AS character 
  DESCRIPTION "This will default to the item  label, without the ampersand (&) but may be different if required. The security token is used to automatically enable and disable toolbar action according to user security permissions (via tokens)."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Security token"
  POSITION 18
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Security token"
  ORDER 170

ADD FIELD "item_toolbar_label" OF "gsm_menu_item" AS character 
  DESCRIPTION "This is a short label for the button that would appear on the button as the button label in the event that the button has no image or if the item_control_style field specifies 'text only' 

If the item_control_type field  specifies 'Label', this label would appear as text in the toolbar band.

It should contain ampersand (&) to act as the shortcut character.
When translating the label, the ampersand will be removed."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Item toolbar label"
  POSITION 19
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Item toolbar label"
  ORDER 180

ADD FIELD "image1_up_filename" OF "gsm_menu_item" AS character 
  DESCRIPTION "The filename of the normal image to display when the button is sensitive and not depressed. For flat buttons this is usally the only state that is required.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image1 up filename"
  POSITION 20
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image1 up filename"
  ORDER 190

ADD FIELD "image1_down_filename" OF "gsm_menu_item" AS character 
  DESCRIPTION "The filename of the normal image to display when the button is sensitive and pressed.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image1 down filename"
  POSITION 21
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image1 down filename"
  ORDER 200

ADD FIELD "image1_insensitive_filename" OF "gsm_menu_item" AS character 
  DESCRIPTION "The filename of the  image to display when the button is insensitive.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image1 insensitive filename"
  POSITION 22
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image1 insensitive filename"
  ORDER 210

ADD FIELD "image2_up_filename" OF "gsm_menu_item" AS character 
  DESCRIPTION "The filename of the secondary image to display when the button is sensitive and not depressed.
For flat buttons this is usally the only state that is required.

A secondary image is useful when the button has 2 main states, i.e. for a filter button it may be  ticked if a filter is active, or have no tick when there is no active filter.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image2 up filename"
  POSITION 23
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image2 up filename"
  ORDER 220

ADD FIELD "image2_down_filename" OF "gsm_menu_item" AS character 
  DESCRIPTION "The filename of the secondary image to display when the button is sensitive and pressed.

A secondary image is useful when the button has 2 main states, i.e. for a filter button it may be  ticked if a filter is active, or have no tick when there is no active filter.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image2 down filename"
  POSITION 24
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image2 down filename"
  ORDER 230

ADD FIELD "image2_insensitive_filename" OF "gsm_menu_item" AS character 
  DESCRIPTION "The filename of the secondary image to display when the button is insensitive (greyed out).

A secondary image is useful when the button has 2 main states, i.e. for a filter button it may be  ticked if a filter is active, or have no tick when there is no active filter.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image2 insensitive filename"
  POSITION 25
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image2 insensitive filename"
  ORDER 240

ADD FIELD "item_select_type" OF "gsm_menu_item" AS character 
  DESCRIPTION "This is the type of action and determines the behaviour when the action is selected.

The type can have a value of PUBLISH, RUN, PROPERTY, LAUNCH or nothing.
PUBLISH means that a named event should be published when the item is selected. The event name is specified in the item_select_action field.
RUN means that an internal procedure should be run when the item is selected. The procedure name is specified in the item_select_action field.
PROPERTY means that the action should be realized as a state button and a menu item toggle, representing an ADM property of datatype logical. The name of the is stored in the item_select_action field. Get and Set functions for the property will be used  to display and modify its value.
LAUNCH means launch the object (container) specified in the object_obj foreign key field and pass in the optional instance attribute if specified."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Item select type"
  POSITION 26
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Item select type"
  ORDER 250

ADD FIELD "item_select_action" OF "gsm_menu_item" AS character 
  DESCRIPTION "If the item_select_type is PUBLISH, then this is the event name to publish on choose of the action.
If the  item_select_type is RUN, then this is the internal procedure name to run on choose of the action.
If the  item_select_type  is PROPERTY, then this is the property name to set (toggle) on choose of the action.
If the  item_select_type  is LAUNCH then this is not relevant as the program to launch is specified by the object_obj foreign key.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Item select action"
  POSITION 27
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Item select action"
  ORDER 260

ADD FIELD "item_link" OF "gsm_menu_item" AS character 
  DESCRIPTION "This is the link across which to perform the specified item_select_action for the action type.
If the item_select_type is RUN or PROPERTY then the procedure or property function is executed IN the handle of the object at the other end of the link.
If the item_select_type is PUBLISH then the event is published IN the handle of the object at the other end of the link.
If no link is specified, the container is assumed. An example link may be tableio-target - note the full link name must be specified.

If multiple links are required, then they will be comma delimited.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Item link"
  POSITION 28
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Item link"
  ORDER 270

ADD FIELD "item_select_parameter" OF "gsm_menu_item" AS character 
  DESCRIPTION "This is an optional parameter to pass to the procedure that subscribes to the event being published, or the internal procedure being run, depending on the action type. For PROPERTY select types this is not relevant.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Item select parameter"
  POSITION 29
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Item select parameter"
  ORDER 280

ADD FIELD "item_menu_drop" OF "gsm_menu_item" AS character 
  DESCRIPTION "This field defines a function that is called on menu drop of the action."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Item menu drop"
  POSITION 30
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Item menu drop"
  ORDER 290

ADD FIELD "on_create_publish_event" OF "gsm_menu_item" AS character 
  DESCRIPTION "This attribute allows the developer to postpone the definition of certain actions until runtime. If specified, when this action is first defined the event name specified will be published in either the container or link specified.

The event procedure used must take a single input parameter which will be passed in as the band name and action name, seperated by a comma.

An example would be an action that would run an event during initialisation of the container that should build dynamic menus for any menu items linked to the container - meaning that each instance of a toolbar has its own specific dynamic menu items built when the toolbar is initialised. It can get information at runtime about the target-procedure and behave differently according to the instance of its use.

The on choose action could be defined at this level, or defined individually when cretaing the dynamic menu options if required (by the procedure run).
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "On create publish event"
  POSITION 31
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "On create publish event"
  ORDER 300

ADD FIELD "enable_rule" OF "gsm_menu_item" AS character 
  DESCRIPTION "Rules are used to either enable/disable, hide/view items, or swap images in toolbar buttons.  A rule contains a delimited list of either function references or properties that specify a logical result (either Yes or No).  
        
Syntax:  [ property | function ] = list [ AND | OR ] ...

property:  	The name of a property (without the get) that is executed across the specified Item link

function:  	A function that is executed across the specified Item link

list:     	A comma delimited list of values that is compared to the property or function result. 
An 'OR' comparison is performed'

Example:  QueryPosition=LastRecord,NotFirstOrlast and canNavigate()

Enable  Rule 	These rules define whether the item is enabled

Hide  Rule	These rules define whether the item will be hidden  or viewed. A logical YES result will hide the image. A No result will view the image.
"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Enable rule"
  POSITION 32
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Enable rule"
  ORDER 310

ADD FIELD "disable_rule" OF "gsm_menu_item" AS character 
  DESCRIPTION "Rules are used to either enable/disable, hide/view items, or swap images in toolbar buttons.  A rule contains a delimited list of either function references or properties that specify a logical result (either Yes or No).  
        
Syntax:  [ property | function ] = list [ AND | OR ] ...

property:  	The name of a property (without the get) that is executed across the specified Item link

function:  	A function that is executed across the specified Item link

list:     	A comma delimited list of values that is compared to the property or function result. 
An 'OR' comparison is performed'

Example:  QueryPosition=LastRecord,NotFirstOrlast and canNavigate()

Enable  Rule 	These rules define whether the item is enabled

Hide  Rule	These rules define whether the item will be hidden  or viewed. A logical YES result will hide the image. A No result will view the image.
"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Disable rule"
  POSITION 33
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Disable rule"
  ORDER 320

ADD FIELD "image_alternate_rule" OF "gsm_menu_item" AS character 
  DESCRIPTION "If there is an alternate image defined (Image 2), this defines criteria to show either Image1 or Image 2.  A YES result will swap the image with Image 2. A NO result will swap the image with Image 1."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Image alternate rule"
  POSITION 34
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Image alternate rule"
  ORDER 330

ADD FIELD "hide_rule" OF "gsm_menu_item" AS character 
  DESCRIPTION "Rules are used to either enable/disable, hide/view items, or swap images in toolbar buttons.  A rule contains a delimited list of either function references or properties that specify a logical result (either Yes or No).  
        
Syntax:  [ property | function ] = list [ AND | OR ] ...

property:  	The name of a property (without the get) that is executed across the specified Item link

function:  	A function that is executed across the specified Item link

list:     	A comma delimited list of values that is compared to the property or function result. 
An 'OR' comparison is performed'

Example:  QueryPosition=LastRecord,NotFirstOrlast and canNavigate()

Enable  Rule 	These rules define whether the item is enabled

Hide  Rule	These rules define whether the item will be hidden  or viewed. A logical YES result will hide the image. A No result will view the image.
"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Hide rule"
  POSITION 35
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Hide rule"
  ORDER 340

ADD FIELD "item_control_type" OF "gsm_menu_item" AS character 
  DESCRIPTION "Indicates the visual representation of the item on the toolbar or menubar. Possible values are:
Action, Separator, Label, EditField, ComboBox or Dynamic

Action:  Specifies that this is a user action that  appears on a menu or toolbar. The field  item_select_action specifies what kind of action this is.  When on a toolbar, the item is visualized as a button. When on a menu, item is visualized as a menu item. 

If this item has a child item and it is used in a menu structure, the menu item will become a submenu. It the item has a child item and it is used in a toolbar, the button will appear as a DropDown button. (A button containing an arrow next to it.) Upon selecting the arrow button, the sub menu band is displayed.

Separator:    Can be specified when action is on a toolbar or menu. Both cause a line separator to appear.

Label:   Used for toolbars or menus. When used in a menu, it displays text in the toolbar band. When used in a menu, can be used as a submenu item.

EditField:  Used for toolbars only. Displays an edit field in the toolbar band. 

ComboBox:  Used for toolbars only. Displays a combobox in the toolbar. (on_create_publish_event field will be used to store event name for building combo list, passing the combo-box handle to the event)

Dynamic:   Used for both toolbars or menus. This action is used as a placeholder for dynamic menus or toolbar bands. Menu bands or toolbar bands associated with objects will be inserted at the specified dynamic action."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Item control type"
  POSITION 36
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Item control type"
  ORDER 350

ADD FIELD "item_control_style" OF "gsm_menu_item" AS character 
  DESCRIPTION "Used for toolbar items only.  Specifies whether  buttons will be displayed with text only, icon only or text and icon. Options are: 'IconOnly' (Default) ,'TextOnly', 'Text&Icon', (Text & icon to be supported for future use when button supports both image and text)
"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Item control style"
  POSITION 37
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Item control style"
  ORDER 360

ADD FIELD "substitute_text_property" OF "gsm_menu_item" AS character 
  DESCRIPTION "Specify a property of the linked object. The value of this property will be retrieved from the linked object, and substituted with {&1} in both the menu_item_label and the tooltip_text fields.

"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Substitute text property"
  POSITION 38
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Substitute text property"
  ORDER 370

ADD FIELD "item_narration" OF "gsm_menu_item" AS character 
  DESCRIPTION "Detailed description of item"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Item narration"
  POSITION 39
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_string_500"
  HELP "Item narration"
  ORDER 380

ADD FIELD "source_language_obj" OF "gsm_menu_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Source language obj"
  POSITION 40
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Source language obj"
  DECIMALS 9
  ORDER 390

ADD INDEX "XPKgsm_menu_item" ON "gsm_menu_item" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "menu_item_obj" ASCENDING 

ADD INDEX "XAK1gsm_menu_item" ON "gsm_menu_item" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "menu_item_reference" ASCENDING 

ADD INDEX "XIE1gsm_menu_item" ON "gsm_menu_item" 
  AREA "Schema Area"
  INDEX-FIELD "product_module_obj" ASCENDING 

ADD INDEX "XIE2gsm_menu_item" ON "gsm_menu_item" 
  AREA "Schema Area"
  INDEX-FIELD "object_obj" ASCENDING 

ADD INDEX "XIE3gsm_menu_item" ON "gsm_menu_item" 
  AREA "Schema Area"
  INDEX-FIELD "instance_attribute_obj" ASCENDING 

ADD INDEX "XIE4gsm_menu_item" ON "gsm_menu_item" 
  AREA "Schema Area"
  INDEX-FIELD "item_category_obj" ASCENDING 

ADD INDEX "XIE5gsm_menu_item" ON "gsm_menu_item" 
  AREA "Schema Area"
  INDEX-FIELD "menu_item_label" ASCENDING 

ADD INDEX "XIE6gsm_menu_item" ON "gsm_menu_item" 
  AREA "Schema Area"
  INDEX-FIELD "menu_item_description" ASCENDING 

ADD INDEX "XIE7gsm_menu_item" ON "gsm_menu_item" 
  AREA "Schema Area"
  INDEX-FIELD "security_token" ASCENDING 

ADD INDEX "XIE8gsm_menu_item" ON "gsm_menu_item" 
  AREA "Schema Area"
  INDEX-FIELD "item_toolbar_label" ASCENDING 

ADD INDEX "XIE9gsm_menu_item" ON "gsm_menu_item" 
  AREA "Schema Area"
  INDEX-FIELD "source_language_obj" ASCENDING 

ADD TABLE "gsm_menu_structure"
  AREA "Schema Area"
  DESCRIPTION "This table defines the dynamic menu structues available. A menu structure must belong to a product, and can optionally also be associated with a product module if required - for sorting purposes.

The menu structure code will be referenced in source code to build any dynamic menu items associated with the menu structure."
  DUMP-NAME "gsmms"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmmstrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmmstrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmmsreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmmsrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmmsreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmmstrigw.p" CRC "?" 

ADD FIELD "menu_structure_obj" OF "gsm_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Menu structure obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Menu structure obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "product_module_obj" OF "gsm_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Product module obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Product module obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "product_obj" OF "gsm_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Product obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Product obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "menu_structure_code" OF "gsm_menu_structure" AS character 
  DESCRIPTION "A unique code, within product and product module to identify this menu structure. 

Making it only unique  within product and product module facilitates a single program pulling in different menu options depending on where it is used."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Menu structure code"
  POSITION 5
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Menu structure code"
  ORDER 40

ADD FIELD "menu_structure_description" OF "gsm_menu_structure" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Menu structure description"
  POSITION 6
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Menu structure description"
  ORDER 50

ADD FIELD "disabled" OF "gsm_menu_structure" AS logical 
  DESCRIPTION "I set to YES, the use of this menu structure will be disabled."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Disabled"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Disabled"
  ORDER 60

ADD FIELD "system_owned" OF "gsm_menu_structure" AS logical 
  DESCRIPTION "I a menu structure is system owned, it may not be amended or deleted by users not permitted to maintain system owned data.
"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "System owned"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "System owned"
  ORDER 70

ADD FIELD "under_development" OF "gsm_menu_structure" AS logical 
  DESCRIPTION "If set to YES, the programs run from this menu structure are still under development. This menu structure will be hidden from users not flagged as developers."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Under development"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Under development"
  ORDER 80

ADD FIELD "menu_item_obj" OF "gsm_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Menu item obj"
  POSITION 10
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Menu item obj"
  DECIMALS 9
  ORDER 90

ADD FIELD "menu_structure_type" OF "gsm_menu_structure" AS character 
  DESCRIPTION "Specifies the type of the menu or toolbar structure. Possible options are:
'MenuBar', 'Toolbar'  'SubMenu' or 'Menu&Toolbar' .

"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Menu structure type"
  POSITION 11
  MAX-WIDTH 30
  VALMSG "s_string_15"
  HELP "Menu structure type"
  ORDER 100

ADD FIELD "menu_structure_hidden" OF "gsm_menu_structure" AS logical 
  DESCRIPTION "If YES, band will be hidden."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Menu structure hidden"
  POSITION 12
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Menu structure hidden"
  ORDER 110

ADD FIELD "control_spacing" OF "gsm_menu_structure" AS integer 
  DESCRIPTION "If menu_structure is a toolbar band, this specifies the spacing between tools in pixels."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Control spacing"
  POSITION 13
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Control spacing"
  ORDER 120

ADD FIELD "control_padding" OF "gsm_menu_structure" AS integer 
  DESCRIPTION "If the menu_structure is a toolbar band, this specifies the number of pixels between the image (16x16) and the edge of the buton.

This can be used to make large buttons."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Control padding"
  POSITION 14
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Control padding"
  ORDER 130

ADD FIELD "menu_structure_narrative" OF "gsm_menu_structure" AS character 
  DESCRIPTION "A detailed description of the item"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Menu structure narrative"
  POSITION 15
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_string_500"
  HELP "Menu structure narrative"
  ORDER 140

ADD INDEX "XPKgsm_menu_structure" ON "gsm_menu_structure" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "menu_structure_obj" ASCENDING 

ADD INDEX "XAK1gsm_menu_structure" ON "gsm_menu_structure" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "menu_structure_code" ASCENDING 

ADD INDEX "XAK2gsm_menu_structure" ON "gsm_menu_structure" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "product_module_obj" ASCENDING 
  INDEX-FIELD "menu_structure_code" ASCENDING 

ADD INDEX "XIE2gsm_menu_structure" ON "gsm_menu_structure" 
  AREA "Schema Area"
  INDEX-FIELD "menu_structure_description" ASCENDING 

ADD INDEX "XIE3gsm_menu_structure" ON "gsm_menu_structure" 
  AREA "Schema Area"
  INDEX-FIELD "menu_structure_type" ASCENDING 

ADD INDEX "XIE4gsm_menu_structure" ON "gsm_menu_structure" 
  AREA "Schema Area"
  INDEX-FIELD "menu_item_obj" ASCENDING 

ADD TABLE "gsm_menu_structure_item"
  AREA "Schema Area"
  DESCRIPTION "This table associates menu items with menu structures. A menu structure may contain many menu items and a menu item can be used by many menu structures.

This tables also defines the sequence that menu items appear within a menu structure.
"
  DUMP-NAME "gsmit"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmittrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmittrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmitreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmitrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmitreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmittrigw.p" CRC "?" 

ADD FIELD "menu_structure_obj" OF "gsm_menu_structure_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Menu structure obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Menu structure obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "menu_item_sequence" OF "gsm_menu_structure_item" AS integer 
  DESCRIPTION "The sequence of the menu items within a menu structure."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Menu item sequence"
  POSITION 3
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Menu item sequence"
  ORDER 20

ADD FIELD "menu_item_obj" OF "gsm_menu_structure_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Menu item obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Menu item obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "child_menu_structure_obj" OF "gsm_menu_structure_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Child menu structure obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Child menu structure obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "menu_structure_item_obj" OF "gsm_menu_structure_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Menu structure item obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Menu structure item obj"
  DECIMALS 9
  ORDER 50

ADD INDEX "XPKgsm_menu_structure_item" ON "gsm_menu_structure_item" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "menu_structure_obj" ASCENDING 
  INDEX-FIELD "menu_item_sequence" ASCENDING 

ADD INDEX "XAK1gsm_menu_structure_item" ON "gsm_menu_structure_item" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "menu_structure_item_obj" ASCENDING 

ADD INDEX "XIE1gsm_menu_structure_item" ON "gsm_menu_structure_item" 
  AREA "Schema Area"
  INDEX-FIELD "child_menu_structure_obj" ASCENDING 

ADD INDEX "XIE2gsm_menu_structure_item" ON "gsm_menu_structure_item" 
  AREA "Schema Area"
  INDEX-FIELD "menu_item_obj" ASCENDING 

ADD TABLE "gsm_multi_media"
  AREA "Schema Area"
  DESCRIPTION "Generic multi media file linked to any entity."
  DUMP-NAME "gsmmm"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmmmtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmmmtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmmmreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmmmrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmmmreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmmmtrigw.p" CRC "?" 

ADD FIELD "multi_media_obj" OF "gsm_multi_media" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Multi media obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Multi media obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "category_obj" OF "gsm_multi_media" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Category obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Category obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "owning_obj" OF "gsm_multi_media" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "multi_media_type_obj" OF "gsm_multi_media" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Multi media type obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Multi media type obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "physical_file_name" OF "gsm_multi_media" AS character 
  DESCRIPTION "The physical filename including the relative path and file extension."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Physical file name"
  POSITION 6
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Physical file name"
  ORDER 50

ADD FIELD "multi_media_description" OF "gsm_multi_media" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Multi media description"
  POSITION 7
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Multi media description"
  ORDER 60

ADD FIELD "creation_date" OF "gsm_multi_media" AS date 
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Creation date"
  POSITION 8
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Creation date"
  ORDER 70

ADD INDEX "XPKgsm_multi_media" ON "gsm_multi_media" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "multi_media_obj" ASCENDING 

ADD INDEX "XIE1gsm_multi_media" ON "gsm_multi_media" 
  AREA "Schema Area"
  INDEX-FIELD "category_obj" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 
  INDEX-FIELD "multi_media_type_obj" ASCENDING 
  INDEX-FIELD "creation_date" ASCENDING 

ADD INDEX "XIE2gsm_multi_media" ON "gsm_multi_media" 
  AREA "Schema Area"
  INDEX-FIELD "physical_file_name" ASCENDING 

ADD INDEX "XIE3gsm_multi_media" ON "gsm_multi_media" 
  AREA "Schema Area"
  INDEX-FIELD "multi_media_description" ASCENDING 

ADD INDEX "XIE4gsm_multi_media" ON "gsm_multi_media" 
  AREA "Schema Area"
  INDEX-FIELD "owning_obj" ASCENDING 

ADD TABLE "gsm_node"
  AREA "Schema Area"
  DESCRIPTION "This table contains a parent-child relationship of node behaviour for the TreeView controller.

This table includes support for structured nodes. A structured node is a node where each new level is created infinitely from the same SDO, thus meaning that a node can be expanded infinite times and these nodes does not have to be set up for each level in node control.

An example of the structured node field values for setting up a structured node treeview on this table would be;

structured_node - YES
parent_node_filter - parent_node_obj = 0
parent_field - parent_node_obj
child_field -  node_obj
datatype - DECIMAL
"
  DUMP-NAME "gsmnd"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmndtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmndtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmndreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmndrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmndreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmndtrigw.p" CRC "?" 

ADD FIELD "node_obj" OF "gsm_node" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Node obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Node obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "node_code" OF "gsm_node" AS character 
  DESCRIPTION "Unique reference to the node. This node code will be referenced from another table (rym_wizard_tree) as the Root Node."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Node code"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Node code"
  ORDER 20

ADD FIELD "node_description" OF "gsm_node" AS character 
  DESCRIPTION "Brief description of what the function of this node is."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Node description"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Node description"
  ORDER 30

ADD FIELD "parent_node_obj" OF "gsm_node" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Parent node obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Parent node obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "node_label" OF "gsm_node" AS character 
  DESCRIPTION "A short description that describes the detail shown for this specific node. This description should always be the singular. E.g. Account and will be used too display details of the number of records in the information status bar found on the Dynamic Container Window e.g. '25 Account records listed'."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Node label"
  POSITION 6
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Node label"
  ORDER 50

ADD FIELD "node_checked" OF "gsm_node" AS logical 
  DESCRIPTION "Indicates whether the node's check-box is checked or not. Only relevant if the ShowCheckBoxes property of the SmartTreeView is set to true."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Node checked"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Node checked"
  ORDER 60

ADD FIELD "data_source_type" OF "gsm_node" AS character 
  DESCRIPTION "A code identifying the certain type of data source being used to populate this node level. This would be a pre-populated combo box containing the following options:
PRG - Program;
TXT - Text;
SDO - SDO/SBO;
MNU - Menu Structure."
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Data source type"
  POSITION 8
  MAX-WIDTH 6
  VALMSG "s_tla"
  HELP "Data source type"
  ORDER 70

ADD FIELD "data_source" OF "gsm_node" AS character 
  DESCRIPTION "Depending on the value of the data_source_type field, this field will contain one of the following:

PRG - The name of a program to run that will extract data to be used to populate the nodes. The code for extracting the data should always be in the MAIN-BLOCK of the procedure. This option is discussed in section 4.5 of this document.

TXT - Any plain text e.g. 'Orders not Allowed'
SDO - Any existing SDO/SBO name that must be relatively pathed  e.g. ry/obj/rymwtfullo.w
MNU - An existing menu structure code as found in gsm_menu_structure e.g. 'ACT UIB'"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Data source"
  POSITION 9
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Data source"
  ORDER 80

ADD FIELD "primary_sdo" OF "gsm_node" AS character 
  DESCRIPTION "The name of the primary SDO/SBO to be used when populating a node. 

This field would always be the same as the data_source if it is of type SDO.

The field is mostly used to determine the SDO/SBO to be used when the data source is something other than an SDO/SBO."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Primary data dbject"
  POSITION 10
  MAX-WIDTH 70
  COLUMN-LABEL "Primary data object"
  VALMSG "s_name"
  HELP "Primary data object"
  ORDER 90

ADD FIELD "logical_object" OF "gsm_node" AS character 
  DESCRIPTION "Name of a logical object that must be launched when a data node is selected. This is usually a Dynamic folder window created using the Folder Window Wizard, but this may also be an object container window."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Logical object"
  POSITION 11
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Logical object"
  ORDER 100

ADD FIELD "run_attribute" OF "gsm_node" AS character 
  DESCRIPTION "A run attribute that should be passed to the data source being run. This would be a free text field and will not be linking to the gsm_instance_attribute table."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Run attribute"
  POSITION 12
  MAX-WIDTH 70
  VALMSG "s_format_string"
  HELP "Run attribute"
  ORDER 110

ADD FIELD "fields_to_store" OF "gsm_node" AS character 
  DESCRIPTION "This field will contain a comma-separated list of field names found in a SDO/SBO or program that will extract node data. This is only valid when the data_source_type is of type SDO or PRG. This is mainly used to return values of fields required in subsequent child nodes.e.g. 'CustNum,Name'This field is not used in the Dynamic TreeView, but provision was made for other objects that might use the SmartTreeView object."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Fields to store"
  POSITION 13
  MAX-WIDTH 140
  VIEW-AS "VIEW-AS EDITOR SIZE 36 BY 2 SCROLLBAR-VERTICAL MAX-CHARS 70"
  VALMSG "s_tla_list"
  HELP "Fields to store"
  ORDER 120

ADD FIELD "node_text_label_expression" OF "gsm_node" AS character 
  DESCRIPTION "This will only ever contain an expression if the data_source_type is of type SDO or PRG. This expression will be substituted by the values of the fields specified in label_text_substitution_fields. E.g. &1 (&2) where &1 and &2 will be substituted by the values of the fields specified in label_text_substituion_fields."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Node text label expression"
  POSITION 14
  MAX-WIDTH 140
  VIEW-AS "VIEW-AS EDITOR SIZE 36 BY 2 SCROLLBAR-VERTICAL MAX-CHARS 70"
  VALMSG "s_big_description"
  HELP "Node text label expression"
  ORDER 130

ADD FIELD "label_text_substitution_fields" OF "gsm_node" AS character 
  DESCRIPTION "A comma-separated list of fields available in a SDO or temp table, sent from a program for substitution in the node_text_label_expression."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Label text substitution fields"
  POSITION 15
  MAX-WIDTH 140
  VIEW-AS "VIEW-AS EDITOR SIZE 36 BY 2 SCROLLBAR-VERTICAL MAX-CHARS 70"
  VALMSG "s_big_description"
  HELP "Label text substitution fields"
  ORDER 140

ADD FIELD "foreign_fields" OF "gsm_node" AS character 
  DESCRIPTION "A comma-separated list identifying the foreign fields to be used when initializing a new SDO or extracting data from a program. This fields will contain field pairs where the first field in a pair is a <table>.<field> found in the program or SDO specified in data_source and the second field in the pair is a field found in the Parent node (data source). The field should contain values that represents the following standard. <table>.<field>,<field>,<table>.<field>,<field>A sample of where this would be used is when a child node is orders for a customer and we would only want to see the orders for the parent (customer). The foreign fields in this scenario would be something like this: Order.CustNum,CustNum"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Foreign fields"
  POSITION 16
  MAX-WIDTH 140
  VIEW-AS "VIEW-AS EDITOR SIZE 36 BY 2 SCROLLBAR-VERTICAL MAX-CHARS 70"
  VALMSG "s_big_description"
  HELP "Foreign fields"
  ORDER 150

ADD FIELD "image_file_name" OF "gsm_node" AS character 
  DESCRIPTION "A physical file name of an image on disk that will be used in the SmartTreeView when displaying a node when unselected. This file name will be a file specified in the gsm_multi_media table that is available for selection as a node image. A multi media type of TVIMG (Tree View Images) will be used to group these types of images."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image file name"
  POSITION 17
  MAX-WIDTH 140
  VIEW-AS "VIEW-AS EDITOR SIZE 36 BY 2 SCROLLBAR-VERTICAL MAX-CHARS 70"
  VALMSG "s_file_name"
  HELP "Image file name"
  ORDER 160

ADD FIELD "selected_image_file_name" OF "gsm_node" AS character 
  DESCRIPTION "A physical file name of an image on disk that will be used in the SmartTreeView when displaying a node when it is selected. This file name will be a file specified in the gsm_multi_media table that is available for selection as a node image. A multi media type of TVIMG (Tree View Images) will be used to group these types of images."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Selected image file name"
  POSITION 18
  MAX-WIDTH 140
  VIEW-AS "VIEW-AS EDITOR SIZE 36 BY 2 SCROLLBAR-VERTICAL MAX-CHARS 70"
  VALMSG "s_file_name"
  HELP "Selected image file name"
  ORDER 170

ADD FIELD "structured_node" OF "gsm_node" AS logical 
  DESCRIPTION "This field indicates if this node should be a structured node, default is no.

Only if this field is set to YES are the next 4 fields applicable; parent_node_filter, parent_field, child_field, data_type.

"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Structured node"
  POSITION 19
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Structured node"
  ORDER 180

ADD FIELD "parent_node_filter" OF "gsm_node" AS character 
  DESCRIPTION "This field contains the filter to be applied to the root node of the structured node
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Parent node filter"
  POSITION 20
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Parent node filter"
  ORDER 190

ADD FIELD "parent_field" OF "gsm_node" AS character 
  DESCRIPTION "This field contains the name of the parent field of the structured table
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Parent field"
  POSITION 21
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Parent field"
  ORDER 200

ADD FIELD "child_field" OF "gsm_node" AS character 
  DESCRIPTION "This field contains the name of the child field relating to a parent field in the same structured table."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Child field"
  POSITION 22
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Child field"
  ORDER 210

ADD FIELD "data_type" OF "gsm_node" AS character 
  DESCRIPTION "This field will contain the data type of the parent and child field.
The PROGRESS data types include as follows:
CHR = CHARACTER
INT =  INTEGER
DEC = DECIMAL
DAT = DATE
"
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Data type"
  POSITION 23
  MAX-WIDTH 20
  VALMSG "s_data_type"
  HELP "Data type"
  ORDER 220

ADD INDEX "XPKgsm_node" ON "gsm_node" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "node_obj" ASCENDING 

ADD INDEX "XAK1gsm_node" ON "gsm_node" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "node_code" ASCENDING 

ADD INDEX "XIE1gsm_node" ON "gsm_node" 
  AREA "Schema Area"
  INDEX-FIELD "parent_node_obj" ASCENDING 

ADD TABLE "gsm_object_menu_structure"
  AREA "Schema Area"
  DESCRIPTION "This table defines the dynamic menu structures used by the object - if applicable. Only container objects may have dynamic menu structures.

If an instance attribute is specified, then the menu structure will only be dynamically built if the instance attribute is passed in from the previous menu option.

This facilitates pulling in different dynamic menu options for a specific object based on its use, e.g. creditors, debtors, etc. having different options.

"
  DUMP-NAME "gsmom"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmomtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmomtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmomreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmomrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmomreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmomtrigw.p" CRC "?" 

ADD FIELD "object_obj" OF "gsm_object_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "menu_structure_obj" OF "gsm_object_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Menu structure obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Menu structure obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "instance_attribute_obj" OF "gsm_object_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Instance attribute obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Instance attribute obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "object_menu_structure_obj" OF "gsm_object_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object menu structure obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object menu structure obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "menu_item_obj" OF "gsm_object_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Menu item obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Menu item obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "insert_submenu" OF "gsm_object_menu_structure" AS logical 
  DESCRIPTION "If YES, the dynamic menu item is replaced with a submenu using the label of the menu item.

if NO, all the menu items of the band are inserted  in place of the dynamic field."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Insert submenu"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Insert submenu"
  ORDER 60

ADD FIELD "menu_structure_sequence" OF "gsm_object_menu_structure" AS integer 
  DESCRIPTION "If more than one menu structure is specified for the same dynamic item, this indicates the order to place the menu structure."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Menu structure sequence"
  POSITION 8
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Menu structure sequence"
  ORDER 70

ADD INDEX "XPKgsm_object_menu_structure" ON "gsm_object_menu_structure" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "object_obj" ASCENDING 
  INDEX-FIELD "menu_structure_obj" ASCENDING 
  INDEX-FIELD "instance_attribute_obj" ASCENDING 

ADD INDEX "XAK1gsm_object_menu_structure" ON "gsm_object_menu_structure" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "menu_structure_obj" ASCENDING 
  INDEX-FIELD "object_obj" ASCENDING 
  INDEX-FIELD "instance_attribute_obj" ASCENDING 

ADD INDEX "XAK2gsm_object_menu_structure" ON "gsm_object_menu_structure" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "object_menu_structure_obj" ASCENDING 

ADD INDEX "XIE1gsm_object_menu_structure" ON "gsm_object_menu_structure" 
  AREA "Schema Area"
  INDEX-FIELD "instance_attribute_obj" ASCENDING 

ADD INDEX "XIE2gsm_object_menu_structure" ON "gsm_object_menu_structure" 
  AREA "Schema Area"
  INDEX-FIELD "menu_item_obj" ASCENDING 
  INDEX-FIELD "object_obj" ASCENDING 
  INDEX-FIELD "instance_attribute_obj" ASCENDING 

ADD TABLE "gsm_physical_service"
  AREA "Schema Area"
  DESCRIPTION "A physical service provides the specific connection parameters that are required to connect a physical service to a session.

The physical service is connected to a logical service and session type via the session service.

The maintenance object on the service type defines the datafield object used to maintain the physical connection parameters attribute. For example, if this is a service type for database connections, then the datafield may allow the specifiction of -S -N and -H prompts independantly and then put the result as 1 field into the connection parameters.

The management object on the service type is the api procedure that is responsible for making the physical connections to the service.
"
  DUMP-NAME "gsmpy"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmpytrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmpytrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmpyreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmpyrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmpyreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmpytrigw.p" CRC "?" 

ADD FIELD "physical_service_obj" OF "gsm_physical_service" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Physical service obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Physical service obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "physical_service_code" OF "gsm_physical_service" AS character 
  DESCRIPTION "A unique code to identify the physical service."
  FORMAT "X(20)"
  INITIAL ""
  LABEL "Physical service code"
  POSITION 3
  MAX-WIDTH 40
  VALMSG "s_string_20"
  HELP "Physical service code"
  ORDER 20

ADD FIELD "physical_service_description" OF "gsm_physical_service" AS character 
  DESCRIPTION "A free text description of the physical service"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Physical service description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Physical service description"
  ORDER 30

ADD FIELD "service_type_obj" OF "gsm_physical_service" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Service type obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Service type obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "connection_parameters" OF "gsm_physical_service" AS character 
  DESCRIPTION "This field contains the parameters required to make the physical connection to a service.

Where the connection parameter string contain multiple values, the values are delimited by CHR(1).

In the case of webservices there are many connection parameters, some of which are only known at runtime. To support this, the connection_parameters field supports substitution lists. The substitution list contains token value lists delimited by CHR(1), the token and value are delimited by CHR(3).

The tokens are %parametername or a special token %DynUserID that is replaced by the Dynamics user id of the current user.  For example, tokens can be defined for parameters as follows:
WSDL UserId = %WSDLUserId
WSDL Password = %WSDLPassword
SOAPEndpoint UserId = %DynUserID
SOAPEndpoint Password = %SOAPEndpointPassword
MaxConnections = MaxmaxConnections

This field is maintained by the maintenance object as identified in the service type table.
"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Connection parameters"
  POSITION 6
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Connection parameters"
  ORDER 50

ADD INDEX "XPKgsm_physical_service" ON "gsm_physical_service" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "physical_service_obj" ASCENDING 

ADD INDEX "XAK1gsm_physical_service" ON "gsm_physical_service" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "physical_service_code" ASCENDING 

ADD INDEX "XIE1gsm_physical_service" ON "gsm_physical_service" 
  AREA "Schema Area"
  INDEX-FIELD "physical_service_description" ASCENDING 

ADD INDEX "XIE2gsm_physical_service" ON "gsm_physical_service" 
  AREA "Schema Area"
  INDEX-FIELD "service_type_obj" ASCENDING 

ADD TABLE "gsm_profile"
  AREA "Schema Area"
  DESCRIPTION "Generic profiles that can be attached to any entity or may stand alone to be used as control information or lookup lists. Profiles could be utilised for user defined fields e.g. smoking and drinking habits of members.

For other systems, the modification of a profile and it's related tables must be inhibited where it exists in any s_contribution_type.rule_code_profile_objs with existing s_contribution_rules records."
  DUMP-NAME "gsmpr"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmprtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmprtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmprtrigw.p" CRC "?" 

ADD FIELD "profile_obj" OF "gsm_profile" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "category_obj" OF "gsm_profile" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Category obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Category obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "profile_tla" OF "gsm_profile" AS character 
  DESCRIPTION "A unique 3 character profile code within the profile category."
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Profile TLA"
  POSITION 4
  MAX-WIDTH 6
  VALMSG "s_tla"
  HELP "Profile three letter acronym"
  ORDER 30

ADD FIELD "profile_short_desc" OF "gsm_profile" AS character 
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Profile short desc."
  POSITION 5
  MAX-WIDTH 30
  VALMSG "s_short_desc"
  HELP "Profile short description"
  ORDER 40

ADD FIELD "profile_description" OF "gsm_profile" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Profile description"
  POSITION 6
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Profile description"
  ORDER 50

ADD FIELD "data_type" OF "gsm_profile" AS character 
  DESCRIPTION "The PROGRESS data type of this profile code as follows:
CHR = CHARACTER
INT =  INTEGER
DEC = DECIMAL
DAT = DATE"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Data type"
  POSITION 7
  MAX-WIDTH 6
  VALMSG "s_type"
  HELP "Data type"
  ORDER 60

ADD FIELD "value_is_range" OF "gsm_profile" AS logical 
  DESCRIPTION "Is this profile value a single value, or does it permit the entry of a range of values."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Value is range"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Value is range"
  ORDER 70

ADD FIELD "valid_value_list" OF "gsm_profile" AS logical 
  DESCRIPTION "Is the profile value free input, or must it be selected from a list of valid values"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Valid value list"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Valid value list"
  ORDER 80

ADD FIELD "retain_profile_history" OF "gsm_profile" AS logical 
  DESCRIPTION "Must we keep a full history of all profile value changes, or just retain the most recent values to use."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Retain profile history"
  POSITION 10
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Retain profile history"
  ORDER 90

ADD FIELD "profile_mandatory" OF "gsm_profile" AS logical 
  DESCRIPTION "Is entry of this profile value mandatory. If the category is mandatory, then all profile codes within the category must be mandatory. If the category is optional, then this field facilitates making only some of the profile codes within the category mandatory."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Profile mandatory"
  POSITION 11
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Profile mandatory"
  ORDER 100

ADD FIELD "modifications_allowed" OF "gsm_profile" AS logical 
  DESCRIPTION "If set to no, this profile and its associated entities may not be modified. The default is yes. The management and use of this flag will be controlled within your specific application.

For Medstar, in the event that this profile is included in any s_contribution_type.rule_code_profile_objs and s_contribution_rule records exist, this will be set to no. This field is intended to avoid the need to read and check each s_contribution_type before allowing a profile to be modified. The setting / clearing of this status will be managed by the s_contribution_rule schema triggers.
"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Modifications allowed"
  POSITION 12
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Modifications allowed"
  ORDER 110

ADD INDEX "XPKgsm_profile" ON "gsm_profile" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "profile_obj" ASCENDING 

ADD INDEX "XAK1gsm_profile" ON "gsm_profile" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "category_obj" ASCENDING 
  INDEX-FIELD "profile_tla" ASCENDING 

ADD INDEX "XIE1gsm_profile" ON "gsm_profile" 
  AREA "Schema Area"
  INDEX-FIELD "profile_short_desc" ASCENDING 

ADD INDEX "XIE2gsm_profile" ON "gsm_profile" 
  AREA "Schema Area"
  INDEX-FIELD "profile_description" ASCENDING 

ADD TABLE "gsm_profile_alpha_options"
  AREA "Schema Area"
  DESCRIPTION "Alpha specific details for a profile"
  DUMP-NAME "gsmpa"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmpatrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmpatrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmpatrigw.p" CRC "?" 

ADD FIELD "profile_obj" OF "gsm_profile_alpha_options" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "min_characters" OF "gsm_profile_alpha_options" AS integer 
  DESCRIPTION "If any characters are entered, the minimum number of characters that may be entered for this profile, thus enforcing sensible data."
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Min. characters"
  POSITION 3
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Minimum characters"
  ORDER 20

ADD FIELD "max_characters" OF "gsm_profile_alpha_options" AS integer 
  DESCRIPTION "The maximum characters to enter for this profile, i.e. the field size"
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Max. characters"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Maximum characters"
  ORDER 30

ADD FIELD "force_uppercase" OF "gsm_profile_alpha_options" AS logical 
  DESCRIPTION "Should the value of this profile be forced into uppercase characters."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Force uppercase"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Force uppercase"
  ORDER 40

ADD FIELD "properform" OF "gsm_profile_alpha_options" AS logical 
  DESCRIPTION "Should the value of this profile be properformed, i.e. automatically tidy up the case of the value into correct upper and lower case."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Properform"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Properform"
  ORDER 50

ADD FIELD "profile_alpha_options_obj" OF "gsm_profile_alpha_options" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile alpha options obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile alpha options obj"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKgsm_profile_alpha_options" ON "gsm_profile_alpha_options" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "profile_obj" ASCENDING 

ADD INDEX "XAK1gsm_profile_alpha_options" ON "gsm_profile_alpha_options" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_alpha_options_obj" ASCENDING 

ADD TABLE "gsm_profile_alpha_value"
  AREA "Schema Area"
  DESCRIPTION "List of valid values / ranges for an alpha profile"
  DUMP-NAME "gsmav"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmavtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmavtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmavtrigw.p" CRC "?" 

ADD FIELD "profile_obj" OF "gsm_profile_alpha_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "profile_sequence" OF "gsm_profile_alpha_value" AS integer 
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Profile sequence"
  POSITION 3
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Profile sequence"
  ORDER 20

ADD FIELD "description" OF "gsm_profile_alpha_value" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Description"
  ORDER 30

ADD FIELD "alpha_value_from" OF "gsm_profile_alpha_value" AS character 
  DESCRIPTION "This field is only used in the event that the valid value list is a list of ranges rather than single values."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Alpha value from"
  POSITION 5
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Alpha value from"
  ORDER 40

ADD FIELD "alpha_value_to" OF "gsm_profile_alpha_value" AS character 
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Alpha value to"
  POSITION 6
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Alpha value to"
  ORDER 50

ADD FIELD "profile_alpha_value_obj" OF "gsm_profile_alpha_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile alpha value obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile alpha value obj"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKgsm_profile_alpha_value" ON "gsm_profile_alpha_value" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "profile_obj" ASCENDING 
  INDEX-FIELD "profile_sequence" ASCENDING 

ADD INDEX "XAK1gsm_profile_alpha_value" ON "gsm_profile_alpha_value" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_obj" ASCENDING 
  INDEX-FIELD "alpha_value_to" ASCENDING 

ADD INDEX "XAK2gsm_profile_alpha_value" ON "gsm_profile_alpha_value" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_alpha_value_obj" ASCENDING 

ADD TABLE "gsm_profile_data"
  AREA "Schema Area"
  DESCRIPTION "This table is used to store profile information for specific users, e.g. browser filter settings, window positions and sizes, report filtter settings, etc.

The nature of the data key and data value fields is determined by the profile type and code.

Data can be stored permannently, or only for the current session, depending on the context_id field."
  DUMP-NAME "gsmpf"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmpftrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmpftrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmpftrigw.p" CRC "?" 

ADD FIELD "user_obj" OF "gsm_profile_data" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "profile_type_obj" OF "gsm_profile_data" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile type obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile type obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "profile_code_obj" OF "gsm_profile_data" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile code obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile code obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "profile_data_key" OF "gsm_profile_data" AS character 
  DESCRIPTION "This is the key to identify the profile data for the user for this profile type and code. The structure of the key is dependant on the profile code.

For example, if the profile code was relating to browser filter from settings, then the key would indicate.the container and browser that these filter settings were for."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Profile data key"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Profile data key"
  ORDER 40

ADD FIELD "context_id" OF "gsm_profile_data" AS character 
  DESCRIPTION "A unique id to identify the session. If on the server, this would be the session connection id and if on the client will be allocated from a session progress sequence that wraps.

This is used so that profile data can be stored for the current session only. If this field is blank, then the profile data is stored permanently.

Session specific profile data will be deleted from the file when the session ends.

This field is part of the primary key to facilitate a single user having multiple concurrent sessions with different temporary profile data.
"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Context id"
  POSITION 6
  MAX-WIDTH 56
  VALMSG "s_string_28"
  HELP "Context id"
  ORDER 50

ADD FIELD "profile_data_value" OF "gsm_profile_data" AS character 
  DESCRIPTION "This is the actual value of the profile for the user / profile type / profile code / profile key value.

The structure of the value is dependant on the profile code.

For example, if the profile code was relating to browser filter from settings, then the key would indicate.the container and browser that these filter settings were for, and the value would indicate the actual filter from values for each of the filtered fields.
"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Profile data value"
  POSITION 7
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Profile data value"
  ORDER 60

ADD FIELD "profile_data_obj" OF "gsm_profile_data" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile data obj"
  POSITION 8
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile data obj"
  DECIMALS 9
  ORDER 70

ADD INDEX "XPKgsm_profile_data" ON "gsm_profile_data" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "user_obj" ASCENDING 
  INDEX-FIELD "profile_type_obj" ASCENDING 
  INDEX-FIELD "profile_code_obj" ASCENDING 
  INDEX-FIELD "profile_data_key" ASCENDING 
  INDEX-FIELD "context_id" ASCENDING 

ADD INDEX "XAK1gsm_profile_data" ON "gsm_profile_data" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_type_obj" ASCENDING 
  INDEX-FIELD "profile_code_obj" ASCENDING 
  INDEX-FIELD "profile_data_key" ASCENDING 
  INDEX-FIELD "context_id" ASCENDING 
  INDEX-FIELD "user_obj" ASCENDING 

ADD INDEX "XAK2gsm_profile_data" ON "gsm_profile_data" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_data_obj" ASCENDING 

ADD INDEX "XIE1gsm_profile_data" ON "gsm_profile_data" 
  AREA "Schema Area"
  INDEX-FIELD "context_id" ASCENDING 

ADD TABLE "gsm_profile_date_value"
  AREA "Schema Area"
  DESCRIPTION "List of valid dates / date ranges for a profile"
  DUMP-NAME "gsmpd"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmpdtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmpdtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmpdtrigw.p" CRC "?" 

ADD FIELD "profile_obj" OF "gsm_profile_date_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "profile_sequence" OF "gsm_profile_date_value" AS integer 
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Profile sequence"
  POSITION 3
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Profile sequence"
  ORDER 20

ADD FIELD "description" OF "gsm_profile_date_value" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Description"
  ORDER 30

ADD FIELD "date_value_from" OF "gsm_profile_date_value" AS date 
  DESCRIPTION "This field is only used in the event that the valid value list is a list of ranges rather than single values."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Date value from"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Date value from"
  ORDER 40

ADD FIELD "date_value_to" OF "gsm_profile_date_value" AS date 
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Date value to"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Date value to"
  ORDER 50

ADD FIELD "profile_date_value_obj" OF "gsm_profile_date_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile date value obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile date value obj"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKgsm_profile_date_value" ON "gsm_profile_date_value" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "profile_obj" ASCENDING 
  INDEX-FIELD "profile_sequence" ASCENDING 

ADD INDEX "XAK1gsm_profile_date_value" ON "gsm_profile_date_value" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_obj" ASCENDING 
  INDEX-FIELD "date_value_to" ASCENDING 

ADD INDEX "XAK2gsm_profile_date_value" ON "gsm_profile_date_value" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_date_value_obj" ASCENDING 

ADD TABLE "gsm_profile_history"
  AREA "Schema Area"
  DESCRIPTION "History of profiles relating to an object from the effective date onwards.

In other systems, in the case where a profile is related to contribution rule value determination, the value fields are not applicable."
  DUMP-NAME "gsmph"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmphtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmphtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmphtrigw.p" CRC "?" 

ADD FIELD "profile_obj" OF "gsm_profile_history" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "owning_obj" OF "gsm_profile_history" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "effective_date" OF "gsm_profile_history" AS date 
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Effective date"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "d_start_date"
  HELP "Effective date"
  ORDER 30

ADD FIELD "alpha_value" OF "gsm_profile_history" AS character 
  DESCRIPTION "The value for the profile in the case where the profile has a data type of character. This field is also used for logical data types to hold the string of the logical value."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Alpha value"
  POSITION 5
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Alpha value"
  ORDER 40

ADD FIELD "date_value" OF "gsm_profile_history" AS date 
  DESCRIPTION "The value for the profile in the case where the profile has a data type of date."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Date value"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Date value"
  ORDER 50

ADD FIELD "numeric_value" OF "gsm_profile_history" AS decimal 
  DESCRIPTION "The value for the profile in the case where the profile has a data type of integer or decimal."
  FORMAT "->>>,>>>,>>>,>>9.999"
  INITIAL "0"
  LABEL "Numeric value"
  POSITION 7
  MAX-WIDTH 18
  VALMSG "n_decimal_3dp_large"
  HELP "Numeric value"
  DECIMALS 3
  ORDER 60

ADD FIELD "alpha_value_to" OF "gsm_profile_history" AS character 
  DESCRIPTION "This field is only used in the event that the profile is a range of values rather than a single value. It is the value to where the profile is a character data type. A logical data type does not support ranges !
"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Alpha value to"
  POSITION 8
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Alpha value to"
  ORDER 70

ADD FIELD "date_value_to" OF "gsm_profile_history" AS date 
  DESCRIPTION "This field is only used in the event that the profile is a range of values rather than a single value. It is the value to where the profile is an date data type.
"
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Date value to"
  POSITION 9
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Date value to"
  ORDER 80

ADD FIELD "numeric_value_to" OF "gsm_profile_history" AS decimal 
  DESCRIPTION "This field is only used in the event that the profile is a range of values rather than a single value. It is the value to where the profile is a integer or decimal data type.
"
  FORMAT "->>>,>>>,>>>,>>9.999"
  INITIAL "0"
  LABEL "Numeric value to"
  POSITION 10
  MAX-WIDTH 18
  VALMSG "n_decimal_3dp_large"
  HELP "Numeric value to"
  DECIMALS 3
  ORDER 90

ADD FIELD "profile_history_obj" OF "gsm_profile_history" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile history obj"
  POSITION 11
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile history obj"
  DECIMALS 9
  ORDER 100

ADD INDEX "XPKgsm_profile_history" ON "gsm_profile_history" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "profile_obj" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 
  INDEX-FIELD "effective_date" ASCENDING 

ADD INDEX "XAK1gsm_profile_history" ON "gsm_profile_history" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_history_obj" ASCENDING 

ADD TABLE "gsm_profile_numeric_options"
  AREA "Schema Area"
  DESCRIPTION "Numeric specific options for a profile."
  DUMP-NAME "gsmpn"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmpntrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmpntrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmpntrigw.p" CRC "?" 

ADD FIELD "profile_obj" OF "gsm_profile_numeric_options" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "decimal_places" OF "gsm_profile_numeric_options" AS integer 
  DESCRIPTION "For a data type of decimal, how many decimal places to use."
  FORMAT "->9"
  INITIAL "0"
  LABEL "Decimal places"
  POSITION 3
  MAX-WIDTH 4
  VALMSG "n_integer_2"
  HELP "Decimal places"
  ORDER 20

ADD FIELD "min_value" OF "gsm_profile_numeric_options" AS decimal 
  DESCRIPTION "The minimum permitted value for this profile"
  FORMAT "->>>,>>>,>>>,>>9.999"
  INITIAL "0"
  LABEL "Min. value"
  POSITION 4
  MAX-WIDTH 18
  VALMSG "n_decimal_3dp_large"
  HELP "Minimum value"
  DECIMALS 3
  ORDER 30

ADD FIELD "max_value" OF "gsm_profile_numeric_options" AS decimal 
  DESCRIPTION "The maximum permitted value for this profile"
  FORMAT "->>>,>>>,>>>,>>9.999"
  INITIAL "0"
  LABEL "Max. value"
  POSITION 5
  MAX-WIDTH 18
  VALMSG "n_decimal_3dp_large"
  HELP "Maximum value"
  DECIMALS 3
  ORDER 40

ADD FIELD "field_mask" OF "gsm_profile_numeric_options" AS character 
  DESCRIPTION "The PROGRESS field mask to use when entering or displaying this profile"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Field mask"
  POSITION 6
  MAX-WIDTH 70
  VALMSG "s_format_string"
  HELP "Field mask"
  ORDER 50

ADD FIELD "profile_numeric_options_obj" OF "gsm_profile_numeric_options" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile numeric options obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile numeric options obj"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKgsm_profile_numeric_options" ON "gsm_profile_numeric_options" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "profile_obj" ASCENDING 

ADD INDEX "XAK1gsm_profile_numeric_option" ON "gsm_profile_numeric_options" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_numeric_options_obj" ASCENDING 

ADD TABLE "gsm_profile_numeric_value"
  AREA "Schema Area"
  DESCRIPTION "List of valid numeric values / ranges for a profile.

For other systems, this table is also used for determining contribution rule values e.g. for age or income ranges in conjunction with a hard coded category. The rule value used would be the numeric_value_to.
"
  DUMP-NAME "gsmnv"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmnvtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmnvtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmnvtrigw.p" CRC "?" 

ADD FIELD "profile_obj" OF "gsm_profile_numeric_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "profile_sequence" OF "gsm_profile_numeric_value" AS integer 
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Profile sequence"
  POSITION 3
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Profile sequence"
  ORDER 20

ADD FIELD "description" OF "gsm_profile_numeric_value" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Description"
  ORDER 30

ADD FIELD "numeric_value_from" OF "gsm_profile_numeric_value" AS decimal 
  DESCRIPTION "This field is only used in the event that the valid value list is a list of ranges rather than single values."
  FORMAT "->>>,>>>,>>>,>>9.999"
  INITIAL "0"
  LABEL "Numeric value from"
  POSITION 5
  MAX-WIDTH 18
  VALMSG "n_decimal_3dp_large"
  HELP "Numeric value from"
  DECIMALS 3
  ORDER 40

ADD FIELD "numeric_value_to" OF "gsm_profile_numeric_value" AS decimal 
  FORMAT "->>>,>>>,>>>,>>9.999"
  INITIAL "0"
  LABEL "Numeric value to"
  POSITION 6
  MAX-WIDTH 18
  VALMSG "n_decimal_3dp_large"
  HELP "Numeric value to"
  DECIMALS 3
  ORDER 50

ADD FIELD "profile_numeric_value_obj" OF "gsm_profile_numeric_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Profile numeric value obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Profile numeric value obj"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKgsm_profile_numeric_value" ON "gsm_profile_numeric_value" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "profile_obj" ASCENDING 
  INDEX-FIELD "profile_sequence" ASCENDING 

ADD INDEX "XAK1gsm_profile_numeric_value" ON "gsm_profile_numeric_value" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_obj" ASCENDING 
  INDEX-FIELD "numeric_value_to" ASCENDING 

ADD INDEX "XAK2gsm_profile_numeric_value" ON "gsm_profile_numeric_value" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "profile_numeric_value_obj" ASCENDING 

ADD TABLE "gsm_range"
  AREA "Schema Area"
  DESCRIPTION "These are range structures that control what data a user may view. When allocated to a user, the ranges of permitted data will be specified.

Sample range structures could include ""Nominal Codes"", ""Cost Centres"", or ""Member Codes"", etc.

The appropriate data will be hidden from the user.

For range security to be activated, entries must be created in the security structure table, as it is this table that is allocated to users, and allows the range security to be restricted or different in various parts of the application.

Usually developers will create appropriate ranges, and users may then assign them to certain parts of the application via the security structure table.
"
  DUMP-NAME "gsmra"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmratrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmratrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmratrigw.p" CRC "?" 

ADD FIELD "range_obj" OF "gsm_range" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Range obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Range obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "range_code" OF "gsm_range" AS character 
  DESCRIPTION "The unique code allocated to this range."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Range code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Range code"
  ORDER 20

ADD FIELD "range_description" OF "gsm_range" AS character 
  DESCRIPTION "A full description of the purpose of the range."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Range description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Range description"
  ORDER 30

ADD FIELD "disabled" OF "gsm_range" AS logical 
  DESCRIPTION "If set to YES, then this range will not be checked, and full access will be granted."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Disabled"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Disabled"
  ORDER 40

ADD FIELD "system_owned" OF "gsm_range" AS logical 
  DESCRIPTION "If set to YES, this range is required for the system to operate and cannot be amended or deleted by users."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 50

ADD INDEX "XPKgsm_range" ON "gsm_range" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "range_obj" ASCENDING 

ADD INDEX "XAK1gsm_range" ON "gsm_range" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "range_code" ASCENDING 

ADD INDEX "XIE1gsm_range" ON "gsm_range" 
  AREA "Schema Area"
  INDEX-FIELD "range_description" ASCENDING 

ADD TABLE "gsm_release"
  AREA "Schema Area"
  DESCRIPTION "This table provides a mechanism to record what versions of an object belong to a release, when used in conjunction with the child table, gst_release_version.

This table identifies an actual release, giving the release a specific reference, summary and detailed notes of the reason for the release, and details of when the release was created and by whom.

The release number will usually be an auto generated reference, using the gsc_sequence table to control the generation. The release number should contain the site number as part of the reference to indicate which site the release originated from and to avoid conflicts.

When creating the release, a gst_release_version record must be created for every gst_record_version, marking the current version number of all data as of this release.

This can then be used to determine what data needs to be deployed between releases, i.e. what data has been modified between the releases by checking for matching version numbers in the gst_release_version table.
"
  DUMP-NAME "gsmrl"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmrltrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmrltrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmrlreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmrlrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmrlreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmrltrigw.p" CRC "?" 

ADD FIELD "release_obj" OF "gsm_release" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Release obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Release obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "release_number" OF "gsm_release" AS character 
  DESCRIPTION "The release number will usually be an auto generated reference, using the gsc_sequence table to control the generation. The release number should contain the site number as part of the reference to indicate which site the release originated from and to avoid conflicts.
"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Release number"
  POSITION 3
  MAX-WIDTH 56
  VALMSG "s_string_28"
  HELP "Release number"
  ORDER 20

ADD FIELD "release_summary" OF "gsm_release" AS character 
  DESCRIPTION "This is a summary description for the release"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Release summary"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Release summary"
  ORDER 30

ADD FIELD "release_notes" OF "gsm_release" AS character 
  DESCRIPTION "These are detailed notes pertaining to the release"
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Release notes"
  POSITION 5
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_big_text_block"
  HELP "Release notes"
  ORDER 40

ADD FIELD "release_date" OF "gsm_release" AS date 
  DESCRIPTION "The date this release was created."
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Release date"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Release date"
  ORDER 50

ADD FIELD "release_time" OF "gsm_release" AS integer 
  DESCRIPTION "The time this release was created."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Release time"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Release time"
  ORDER 60

ADD FIELD "release_user" OF "gsm_release" AS character 
  DESCRIPTION "This field indicates which user created this release if known. This user may not exist in the current repository in the event that the data was imported from some external source.
"
  FORMAT "X(20)"
  INITIAL ""
  LABEL "Release user"
  POSITION 8
  MAX-WIDTH 40
  VALMSG "s_string_20"
  HELP "Release user"
  ORDER 70

ADD INDEX "XPKgsm_release" ON "gsm_release" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "release_obj" ASCENDING 

ADD INDEX "XAK1gsm_release" ON "gsm_release" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "release_number" ASCENDING 

ADD INDEX "XIE1gsm_release" ON "gsm_release" 
  AREA "Schema Area"
  INDEX-FIELD "release_summary" ASCENDING 

ADD INDEX "XIE2gsm_release" ON "gsm_release" 
  AREA "Schema Area"
  INDEX-FIELD "release_notes" ASCENDING 

ADD INDEX "XIE3gsm_release" ON "gsm_release" 
  AREA "Schema Area"
  INDEX-FIELD "release_date" ASCENDING 
  INDEX-FIELD "release_time" ASCENDING 

ADD TABLE "gsm_reporting_tool"
  AREA "Schema Area"
  DESCRIPTION "This table contains information about the reporting tools available to the system. These would be:
Progress
Results
Crystal reports
Actuate
etc."
  DUMP-NAME "gsmre"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmretrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmretrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmrereplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmrerepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmrereplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmretrigw.p" CRC "?" 

ADD FIELD "reporting_tool_obj" OF "gsm_reporting_tool" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Reporting tool obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Reporting tool obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "reporting_tool_code" OF "gsm_reporting_tool" AS character 
  DESCRIPTION "A code to uniquely identify the reporting tool."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Reporting tool code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Reporting tool code"
  ORDER 20

ADD FIELD "reporting_tool_description" OF "gsm_reporting_tool" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Reporting tool description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Reporting tool description"
  ORDER 30

ADD FIELD "launch_command" OF "gsm_reporting_tool" AS character 
  DESCRIPTION "The command to launch the reporting tool. This would include a set of parameters that would be substituted by the system when the report is initiated and would include:
&repformat = Report formatting procedure
&datafile = Data file name
&copies = Copies to print
&formname = Stationery form name
&retention = Retention days
&priority = Priority
&destination = Destination printer
etc."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Launch command"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_string_70"
  HELP "Launch command"
  ORDER 40

ADD INDEX "XPKgsm_reporting_tool" ON "gsm_reporting_tool" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "reporting_tool_obj" ASCENDING 

ADD INDEX "XAK1gsm_reporting_tool" ON "gsm_reporting_tool" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "reporting_tool_code" ASCENDING 

ADD TABLE "gsm_report_definition"
  AREA "Schema Area"
  DESCRIPTION "This table contains control and default  information about all the reports produced by the system.

Note that all reports will be created by initially extracting a delimited data file which could then be printed using any reporting tool.

This table actually defines the report extract procedure and default report options. The extract can the be printed in various formats as defined by the gsm_report_format table.

The name of the extract file(s) produced will be hard coded in the extract procedure, but will be derived from the extract procedure name. The extension will be .rpd suffixed with the date and time down to seconds for multi-user support. The actual names used will be recorded in the gst_extract_log."
  DUMP-NAME "gsmrd"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmrdtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmrdtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmrdreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmrdrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmrdreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmrdtrigw.p" CRC "?" 

ADD FIELD "report_definition_obj" OF "gsm_report_definition" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Report definition obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Report definition obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "report_procedure_name" OF "gsm_report_definition" AS character 
  DESCRIPTION "The name of the procedure that does the data extract. This also is a unique identifying field for this table. The procedure name must be an external procedure (.p) that will be physically run to perform the extract. This in turn may call other internal procedures in plips. The procedure must contain no UI so that it can be run on the application server."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Report procedure name"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_program_name"
  HELP "Report procedure name"
  ORDER 20

ADD FIELD "report_short_desc" OF "gsm_report_definition" AS character 
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Report short desc."
  POSITION 4
  MAX-WIDTH 30
  VALMSG "s_short_desc"
  HELP "Report short description"
  ORDER 30

ADD FIELD "report_description" OF "gsm_report_definition" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Report description"
  POSITION 5
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Report description"
  ORDER 40

ADD FIELD "next_extract_sequence" OF "gsm_report_definition" AS integer 
  DESCRIPTION "A sequence number to which 1 is added each time the report has been run, unless it has a value of 0 in which case sequencing is not neccessary

This should be printed on the report so that it can be recognised that a report is missing.
"
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Next extract sequence"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "n_sequence"
  HELP "Next extract sequence"
  ORDER 50

ADD FIELD "allow_server_printing" OF "gsm_report_definition" AS logical 
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Allow server printing"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Allow server printing"
  ORDER 60

ADD FIELD "allow_client_printing" OF "gsm_report_definition" AS logical 
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Allow client printing"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Allow client printing"
  ORDER 70

ADD FIELD "default_destination" OF "gsm_report_definition" AS character 
  DESCRIPTION "If this is left blank, the report will print on the default printer, or in a UNIX environment, on the first printer with the correct stationery that is available.

Otherwise this can contain the name of the printer to be used."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Default destination"
  POSITION 9
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Default destination"
  ORDER 80

ADD FIELD "allow_destination_override" OF "gsm_report_definition" AS logical 
  DESCRIPTION "If set to YES, the user will be alllowed to specify the destination of this report at runtime."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Allow destination override"
  POSITION 10
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Allow destination override"
  ORDER 90

ADD FIELD "default_form_type" OF "gsm_report_definition" AS character 
  DESCRIPTION "Default form to load when printing reports from this data."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Default form type"
  POSITION 11
  MAX-WIDTH 20
  VALMSG "s_string_10"
  HELP "Default form type"
  ORDER 100

ADD FIELD "allow_form_type_override" OF "gsm_report_definition" AS logical 
  DESCRIPTION "If set to YES, the user will be alllowed to specify the form type of this report at runtime."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Allow form type override"
  POSITION 12
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Allow form type override"
  ORDER 110

ADD FIELD "default_priority" OF "gsm_report_definition" AS integer 
  DESCRIPTION "The default priority to give the report when adding it to the spool queue (the gst_extract_log)."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Default priority"
  POSITION 13
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Default priority"
  ORDER 120

ADD FIELD "allow_priority_override" OF "gsm_report_definition" AS logical 
  DESCRIPTION "If set to YES, the user may override the default priority for this report if required for a specific instance of the report."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Allow priority override"
  POSITION 14
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Allow priority override"
  ORDER 130

ADD FIELD "default_copies_to_print" OF "gsm_report_definition" AS integer 
  DESCRIPTION "The defaullt number of report copies to print."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Default copies to print"
  POSITION 15
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Default copies to print"
  ORDER 140

ADD FIELD "default_days_to_retain" OF "gsm_report_definition" AS integer 
  DESCRIPTION "The default number of days to retain the extracted data files for an instance of this report, pointed to by the extract log. After these days expire, the extracted data files will be automatically deleted via a daemon."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Default days to retain"
  POSITION 16
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Default days to retain"
  ORDER 150

ADD FIELD "filter_database_list" OF "gsm_report_definition" AS character 
  DESCRIPTION "Comma seperated list of databases, corresponding to field list for fields used as filters for the report, i.e. fields where a range could be entered to filter the report extract. The results of the filter information will be stored in the generic user parameter file gsc_parameter."
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Filter database list"
  POSITION 17
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Filter database list"
  ORDER 160

ADD FIELD "filter_table_list" OF "gsm_report_definition" AS character 
  DESCRIPTION "Comma seperated list of tables, corresponding to field list for fields used as filters for the report, i.e. fields where a range could be entered to filter the report extract. The results of the filter information will be stored in the generic user parameter file gsc_parameter."
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Filter table list"
  POSITION 18
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Filter table list"
  ORDER 170

ADD FIELD "filter_field_list" OF "gsm_report_definition" AS character 
  DESCRIPTION "Comma seperated list of fields used as filters for the report, i.e. fields where a range could be entered to filter the report extract. The results of the filter information will be stored in the generic user parameter file gsc_parameter."
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Filter field list"
  POSITION 19
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Filter field list"
  ORDER 180

ADD FIELD "filter_label_list" OF "gsm_report_definition" AS character 
  DESCRIPTION "Comma seperated list of field labels, corresponding to field list for fields used as filters for the report, i.e. fields where a range could be entered to filter the report extract. The results of the filter information will be stored in the generic user parameter file gsc_parameter.

The labels are the labels to use when prompting for the filter fields. The default will be automatically read from the metaschema."
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Filter label list"
  POSITION 20
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Filter label list"
  ORDER 190

ADD FIELD "filter_datatype_list" OF "gsm_report_definition" AS character 
  DESCRIPTION "Comma seperated list of field data types, corresponding to field list for fields used as filters for the report, i.e. fields where a range could be entered to filter the report extract. The results of the filter information will be stored in the generic user parameter file gsc_parameter."
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Filter datatype list"
  POSITION 21
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Filter datatype list"
  ORDER 200

ADD FIELD "sort_by_field_list" OF "gsm_report_definition" AS character 
  DESCRIPTION "List of fields (tablename.fieldname) via which to sort report by default."
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Sort by field list"
  POSITION 22
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Sort by field list"
  ORDER 210

ADD FIELD "report_distribution_list" OF "gsm_report_definition" AS character 
  DESCRIPTION "A free text description of where the report should be distributed. To be printed on the report footer page."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Report distribution list"
  POSITION 23
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Report distribution list"
  ORDER 220

ADD FIELD "document_type_obj" OF "gsm_report_definition" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Document type obj"
  POSITION 24
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Document type obj"
  DECIMALS 9
  ORDER 230

ADD FIELD "launch_window_name" OF "gsm_report_definition" AS character 
  DESCRIPTION "The name of the window (.w)  that launches the extract, allows selection of printer, copies, etc. and requests / stores filter information for the report.

The default generic launch window is af/cod/afprtfiltw.w
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Launch window name"
  POSITION 25
  MAX-WIDTH 70
  VALMSG "s_program_name"
  HELP "Launch window name"
  ORDER 240

ADD FIELD "default_password" OF "gsm_report_definition" AS character 
  DESCRIPTION "This field provides an option for storing an encoded password on extract logs produced for this report definition.The first time the report is printed from the extract log, the password will not be required. Subsequent reprints will not be permitted until the correct password is entered.
This prevents the unauthorised reprinting of reports from previously extracted data.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Default password"
  POSITION 26
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Default password"
  ORDER 250

ADD FIELD "password_required" OF "gsm_report_definition" AS logical 
  DESCRIPTION "If set to NO, the entry of an extract log password will not be requested. If set to YES, the entry of an extract log password will be forced."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Password required"
  POSITION 27
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Password required"
  ORDER 260

ADD FIELD "allow_password_override" OF "gsm_report_definition" AS logical 
  DESCRIPTION "If set to YES, the user will be alllowed to specify a different extract log password at runtime."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Allow password override"
  POSITION 28
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Allow password override"
  ORDER 270

ADD FIELD "encrypt_data_file" OF "gsm_report_definition" AS logical 
  DESCRIPTION "If set to YES, the data files containing the xtracted data will be encrypted to prevent unauthorised viewing. The will be decrypted just prior to being passed to the reporting tool, e.g. Crystal Reports, then encrypted again if not being deleted."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Encrypt data file"
  POSITION 29
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Encrypt data file"
  ORDER 280

ADD FIELD "allow_encrypt_override" OF "gsm_report_definition" AS logical 
  DESCRIPTION "If set to YES, the decision of whether the data files should be encrypted or not may be made at runtime."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Allow encrypt override"
  POSITION 30
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Allow encrypt override"
  ORDER 290

ADD FIELD "auto_delete_data_file" OF "gsm_report_definition" AS logical 
  DESCRIPTION "If set to YES, the data files containg the extracted data, together with the extract log record will be deleted immediately the initial print has been completed. This override the retain duration settings and is primarily for secure data that must not be left lying around."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Auto delete data file"
  POSITION 31
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Auto delete data file"
  ORDER 300

ADD FIELD "allow_auto_delete_override" OF "gsm_report_definition" AS logical 
  DESCRIPTION "If set to YES, the decision of whether the data files should be automatically deleted or not may be made at runtime."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Allow auto delete override"
  POSITION 32
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Allow auto delete override"
  ORDER 310

ADD FIELD "under_development" OF "gsm_report_definition" AS logical 
  DESCRIPTION "If set to YES, this report is still under development and may not be launched by users who are no developers."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Under development"
  POSITION 33
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Under development"
  ORDER 320

ADD FIELD "report_definition_reference" OF "gsm_report_definition" AS character 
  DESCRIPTION "A unique and automatically generated reference for a report definition - used to uniquely identify the report rather than the report procedure name - to allow the procedure name to be changed easily without causing problems when releasing system owned data."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Report definition reference"
  POSITION 34
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Report definition reference"
  ORDER 330

ADD INDEX "XPKgsm_report_definition" ON "gsm_report_definition" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "report_definition_obj" ASCENDING 

ADD INDEX "XAK1gsm_report_definition" ON "gsm_report_definition" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "report_definition_reference" ASCENDING 

ADD INDEX "XIE1gsm_report_definition" ON "gsm_report_definition" 
  AREA "Schema Area"
  INDEX-FIELD "report_short_desc" ASCENDING 

ADD INDEX "XIE2gsm_report_definition" ON "gsm_report_definition" 
  AREA "Schema Area"
  INDEX-FIELD "report_description" ASCENDING 

ADD INDEX "XIE3gsm_report_definition" ON "gsm_report_definition" 
  AREA "Schema Area"
  INDEX-FIELD "document_type_obj" ASCENDING 

ADD INDEX "XIE4gsm_report_definition" ON "gsm_report_definition" 
  AREA "Schema Area"
  INDEX-FIELD "launch_window_name" ASCENDING 

ADD INDEX "XIE5gsm_report_definition" ON "gsm_report_definition" 
  AREA "Schema Area"
  INDEX-FIELD "report_procedure_name" ASCENDING 

ADD TABLE "gsm_report_format"
  AREA "Schema Area"
  DESCRIPTION "Once data for a report has been extracted, it may be printed in different formats using different reporting tools.

This table defines the report procedures that may be used to format the extracted data. If printing to Crystal, the report fromat procedure is the name of the Crystal Report definition file.

The extract files to send as data to the report will be hard coded in the report extract procedure."
  DUMP-NAME "gsmrf"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmrftrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmrftrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmrfreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmrfrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmrfreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmrftrigw.p" CRC "?" 

ADD FIELD "report_definition_obj" OF "gsm_report_format" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Report definition obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Report definition obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "report_format_obj" OF "gsm_report_format" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Report format obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Report format obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "report_format_description" OF "gsm_report_format" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Report format description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Report format description"
  ORDER 30

ADD FIELD "reporting_tool_obj" OF "gsm_report_format" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Reporting tool obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Reporting tool obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "report_formatting_procedure" OF "gsm_report_format" AS character 
  DESCRIPTION "The formatting procedure to be passed to the reporting tool. For example:
In Crystal reports this would be the report name.
In Progress, this would be the print procedure name."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Report formatting procedure"
  POSITION 6
  MAX-WIDTH 70
  VALMSG "s_program_procedure"
  HELP "Report formatting procedure"
  ORDER 50

ADD FIELD "is_this_the_default" OF "gsm_report_format" AS logical 
  DESCRIPTION "If a report format has not been selected by a user before, this would be the default.
"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Is this the default"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Is this the default"
  ORDER 60

ADD FIELD "landscape_report" OF "gsm_report_format" AS logical 
  DESCRIPTION "If set to YES, then this report will default to print in landscape mode at width 132 columns. It will only really make a difference when printing to a laser printer."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Landscape report"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Landscape report"
  ORDER 70

ADD FIELD "laser_report_only" OF "gsm_report_format" AS logical 
  DESCRIPTION "If set to YES, this report can only be printed on a laser printer, due to the fact it contains complex graphics, etc."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Laser report only"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Laser report only"
  ORDER 80

ADD FIELD "report_format_reference" OF "gsm_report_format" AS character 
  DESCRIPTION "A unique and automatically generated reference for a menu item - used when releasing menu items to site to be able to update existing menu items, rather than deleting and recreating."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Report format reference"
  POSITION 10
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Report format reference"
  ORDER 90

ADD FIELD "form_type" OF "gsm_report_format" AS character 
  DESCRIPTION "form to load when printing reports from this data."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Form type"
  POSITION 11
  MAX-WIDTH 20
  VALMSG "s_string_10"
  HELP "Form type"
  ORDER 100

ADD FIELD "page_length" OF "gsm_report_format" AS integer 
  DESCRIPTION "Number of lines on a page for this report, e.g. 72 for A4 printing."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Page length"
  POSITION 12
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Page length"
  ORDER 110

ADD FIELD "paper_bin" OF "gsm_report_format" AS character 
  DESCRIPTION "Default bin, e.g. top, bottom, manual, auto"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Paper bin"
  POSITION 13
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Paper bin"
  ORDER 120

ADD FIELD "paper_type" OF "gsm_report_format" AS character 
  DESCRIPTION "Paper type, e.g. A4, Letter, Legal, etc."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Paper type"
  POSITION 14
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Paper type"
  ORDER 130

ADD FIELD "default_font" OF "gsm_report_format" AS character 
  DESCRIPTION "Default font - must be from a standard registry font, e.g. Times New Roman, 10pt"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Default font"
  POSITION 15
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Default font"
  ORDER 140

ADD INDEX "XPKgsm_report_format" ON "gsm_report_format" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "report_definition_obj" ASCENDING 
  INDEX-FIELD "report_format_obj" ASCENDING 

ADD INDEX "XAK1gsm_report_format" ON "gsm_report_format" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "report_format_reference" ASCENDING 

ADD INDEX "XAK2gsm_report_format" ON "gsm_report_format" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "report_format_obj" ASCENDING 

ADD INDEX "XIE1gsm_report_format" ON "gsm_report_format" 
  AREA "Schema Area"
  INDEX-FIELD "report_definition_obj" ASCENDING 
  INDEX-FIELD "report_format_description" ASCENDING 

ADD INDEX "XIE2gsm_report_format" ON "gsm_report_format" 
  AREA "Schema Area"
  INDEX-FIELD "report_definition_obj" ASCENDING 
  INDEX-FIELD "is_this_the_default" ASCENDING 

ADD INDEX "XIE3gsm_report_format" ON "gsm_report_format" 
  AREA "Schema Area"
  INDEX-FIELD "report_formatting_procedure" ASCENDING 

ADD TABLE "gsm_required_manager"
  AREA "Schema Area"
  DESCRIPTION "This table contains a list of the manager types that are required to be started during the startup of the session and the order in which they must be started. Any manager types which need to be written to the config file must always be started first. 

The write_to_config attribute of the manager will cause this procedure name to be written to the config.xml file so that it can be started up before the session makes a connection to the runtime repository.

The framework supports a standard set of manager types that are required but specific applications may require the startup of additional manager types for performance reasons, e.g. a financial system may require a frequently referenced financial manager api to be pre-started."
  DUMP-NAME "gsmrm"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmrmtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmrmtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmrmreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmrmrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmrmreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmrmtrigw.p" CRC "?" 

ADD FIELD "required_manager_obj" OF "gsm_required_manager" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Required manager obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Required manager obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "session_type_obj" OF "gsm_required_manager" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session type obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session type obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "startup_order" OF "gsm_required_manager" AS integer 
  DESCRIPTION "This field indicates the order in which the manager of this type should be started."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Startup order"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Startup order"
  ORDER 30

ADD FIELD "manager_type_obj" OF "gsm_required_manager" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Manager type obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Manager type obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "system_owned" OF "gsm_required_manager" AS logical 
  DESCRIPTION "If set to YES this record may only be maintained by users who are permitted to maintain system data - as identified by a flag on the user record. This is to prevent accidental deletion of data required for the framework to work correctly."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 50

ADD INDEX "XPKgsm_required_manager" ON "gsm_required_manager" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "required_manager_obj" ASCENDING 

ADD INDEX "XAK1gsm_required_manager" ON "gsm_required_manager" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "session_type_obj" ASCENDING 
  INDEX-FIELD "startup_order" ASCENDING 

ADD INDEX "XAK2gsm_required_manager" ON "gsm_required_manager" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "manager_type_obj" ASCENDING 
  INDEX-FIELD "session_type_obj" ASCENDING 

ADD TABLE "gsm_scm_xref"
  AREA "Schema Area"
  DESCRIPTION "This table defines the mapping between data in the Dynamics repository and an external SCM tool, with mapping being defined per SCM tool in use.

Examples of the types of data that is mapped includes object types and product modules. This facilitates the external SCM tool using different codes than those used in Dynamics. It also allows mutiple codes in Dynamics to share a common code in the external SCM tool, e.g. many product modules and object types in Dynamics could point at common modules and subtypes in an SCM tool such as Roundtable.

The scm foreign key field is the field in the external SCM tool. This is a character field for maximum portability. API's should be used to provide lookup lists for values in the external SCM tool.

Data must be set up in this table for SCM integration to function, so that it is clear what data is mapped to what. If it is a one to one mapping, then tools can be used to synchronize the data and set it up automatically.
"
  DUMP-NAME "gsmsx"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsxtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsxtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsxreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsxrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsxreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsxtrigw.p" CRC "?" 

ADD FIELD "scm_xref_obj" OF "gsm_scm_xref" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "SCM xref obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "SCM xref obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "scm_tool_obj" OF "gsm_scm_xref" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "SCM tool obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "SCM tool obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "owning_entity_mnemonic" OF "gsm_scm_xref" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 4
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 30

ADD FIELD "owning_reference" OF "gsm_scm_xref" AS character 
  DESCRIPTION "This field contains the key field values of a record from the table as identified by the owning entity mnemonic, e.g. a product_module_obj or a object_type_obj.

If the related table has a object number, this field will contain the string value of the object number, otherwise it will contain a CHR(3) seperated string list of the values for the fields in gsc_entity_mnemonic.entity_key_field.
"
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Owning reference"
  POSITION 5
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Owning reference"
  ORDER 40

ADD FIELD "owning_obj" OF "gsm_scm_xref" AS decimal 
  DESCRIPTION "This field contains the object id of a record from the table as identified by the owning entity mnemonic, e.g. a product_module_obj or a object_type_obj.

If the table referenced by the owning_entity_mnemonic does not contain an object id field, then the owning_reference field can be used to do the join instead.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "scm_foreign_key" OF "gsm_scm_xref" AS character 
  DESCRIPTION "The scm foreign key field is the field in the external SCM tool to map the owning_obj field to. This is a character field for maximum portability. API's should be used to provide lookup lists for values in the external SCM tool.

The data it is linked to is determined by the owning_entity_mnemonic and will need to be hard coded into an API for the specific SCM tool, e.g. for product modules, it will be modules and for object types it will be code subtypes for Roundtable.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "SCM foreign key"
  POSITION 7
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "SCM foreign key"
  ORDER 60

ADD INDEX "XPKgsm_scm_xref" ON "gsm_scm_xref" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "scm_xref_obj" ASCENDING 

ADD INDEX "XAK1gsm_scm_xref" ON "gsm_scm_xref" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "scm_tool_obj" ASCENDING 
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_reference" ASCENDING 

ADD INDEX "XIE1gsm_scm_xref" ON "gsm_scm_xref" 
  AREA "Schema Area"
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 

ADD INDEX "XIE2gsm_scm_xref" ON "gsm_scm_xref" 
  AREA "Schema Area"
  INDEX-FIELD "owning_obj" ASCENDING 

ADD INDEX "XIE3gsm_scm_xref" ON "gsm_scm_xref" 
  AREA "Schema Area"
  INDEX-FIELD "scm_foreign_key" ASCENDING 

ADD INDEX "XIE4gsm_scm_xref" ON "gsm_scm_xref" 
  AREA "Schema Area"
  INDEX-FIELD "owning_reference" ASCENDING 

ADD TABLE "gsm_security_structure"
  AREA "Schema Area"
  DESCRIPTION "The parts of the application where security restrictions are applicable to. Currently access tokens, fields, and ranges are supported. The owning_obj will refer either to a gsm_token record, a gsm_field record, or a gsm_range record.

One table is used rather than a usage table for each of the above as the fields are identical, and if another type is introduced, no major rewrites will be required as this table will automatically support it.

The security restriction may be assigned globally, in which case the product module, object and instance attribute will be 0.

Alternatively the restriction may be allocated to a product module, a specific program object, or even an insance attribute for a program.

A restriction must be assigned to this table for it to be active at all. It is entries in this table that are allocated to users.
"
  DUMP-NAME "gsmss"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsstrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsstrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsstrigw.p" CRC "?" 

ADD FIELD "security_structure_obj" OF "gsm_security_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Security structure obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Security structure obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "owning_entity_mnemonic" OF "gsm_security_structure" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 20

ADD FIELD "owning_obj" OF "gsm_security_structure" AS decimal 
  DESCRIPTION "This will either point to a gsm_token.token_obj, a gsm_field.field_obj, or a gsm_range.range_obj depending on the owning_obj_entity field.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "product_module_obj" OF "gsm_security_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Product module obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Product module obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "object_obj" OF "gsm_security_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "instance_attribute_obj" OF "gsm_security_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Instance attribute obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Instance attribute obj"
  DECIMALS 9
  ORDER 60

ADD FIELD "disabled" OF "gsm_security_structure" AS logical 
  DESCRIPTION "If set to YES, then this restriction will not be checked, and full access will be granted."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Disabled"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Disabled"
  ORDER 70

ADD INDEX "XPKgsm_security_structure" ON "gsm_security_structure" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "security_structure_obj" ASCENDING 

ADD INDEX "XAK1gsm_security_structure" ON "gsm_security_structure" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 
  INDEX-FIELD "product_module_obj" ASCENDING 
  INDEX-FIELD "object_obj" ASCENDING 
  INDEX-FIELD "instance_attribute_obj" ASCENDING 

ADD INDEX "XAK2gsm_security_structure" ON "gsm_security_structure" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "product_module_obj" ASCENDING 
  INDEX-FIELD "object_obj" ASCENDING 
  INDEX-FIELD "instance_attribute_obj" ASCENDING 
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 

ADD TABLE "gsm_server_context"
  AREA "Schema Area"
  DESCRIPTION "This table is a generic table to stored context information between stateless appserver connections.

The type of information that is required includes user information, security information, possibly SCM workspace and task information, web page field values, etc.

This is a child table of the context scope, gst_context_scope and could be context data scope to a session, or to a user."
  DUMP-NAME "gsmsc"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsctrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsctrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsctrigw.p" CRC "?" 

ADD FIELD "server_context_obj" OF "gsm_server_context" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Server context obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Server context obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "context_scope_obj" OF "gsm_server_context" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Context scope obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Context scope obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "context_id_date" OF "gsm_server_context" AS date 
  DESCRIPTION "The date the session was created."
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Context id date"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Context id date"
  ORDER 30

ADD FIELD "context_id_time" OF "gsm_server_context" AS integer 
  DESCRIPTION "The time the session was created."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Context id time"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Context id time"
  ORDER 40

ADD FIELD "context_name" OF "gsm_server_context" AS character 
  DESCRIPTION "the name of the data required, e.g. username."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Context name"
  POSITION 6
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Context name"
  ORDER 50

ADD FIELD "context_value" OF "gsm_server_context" AS character 
  DESCRIPTION "the value of the data, e.g. Fred Bloggs."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Context value"
  POSITION 7
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Context value"
  ORDER 60

ADD INDEX "XPKgsm_server_context" ON "gsm_server_context" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "server_context_obj" ASCENDING 

ADD INDEX "XAK1gsm_server_context" ON "gsm_server_context" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "context_scope_obj" ASCENDING 
  INDEX-FIELD "context_name" ASCENDING 

ADD INDEX "XIE1gsm_server_context" ON "gsm_server_context" 
  AREA "Schema Area"
  INDEX-FIELD "context_id_date" ASCENDING 
  INDEX-FIELD "context_id_time" ASCENDING 
  INDEX-FIELD "context_scope_obj" ASCENDING 

ADD INDEX "XIE2gsm_server_context" ON "gsm_server_context" 
  AREA "Schema Area"
  INDEX-FIELD "context_name" ASCENDING 
  INDEX-FIELD "context_id_date" ASCENDING 
  INDEX-FIELD "context_id_time" ASCENDING 

ADD TABLE "gsm_session_service"
  AREA "Schema Area"
  DESCRIPTION "The session service table defines the different physical services for each session type in order to establish the logical service.

For example, an AppServer may require a shared memory connection to the repository database whereas a client session would require a network connection to the same databases. The physical connection parameters are different for each of these. Therefore the logical service identifies the database that needs to be connected and the physical service describes the mechanism for the connection dependant on the session type.

If no session service record exists then the logical service can only run locally.
"
  DUMP-NAME "gsmsv"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsvtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsvtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsvreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsvrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsvreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsvtrigw.p" CRC "?" 

ADD FIELD "session_service_obj" OF "gsm_session_service" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session service obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session service obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "session_type_obj" OF "gsm_session_service" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session type obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session type obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "logical_service_obj" OF "gsm_session_service" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Logical service obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Logical service obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "physical_service_obj" OF "gsm_session_service" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Physical service obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Physical service obj"
  DECIMALS 9
  ORDER 40

ADD INDEX "XPKgsm_session_service" ON "gsm_session_service" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "session_service_obj" ASCENDING 

ADD INDEX "XAK1gsm_session_service" ON "gsm_session_service" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "session_type_obj" ASCENDING 
  INDEX-FIELD "logical_service_obj" ASCENDING 

ADD INDEX "XAK2gsm_session_service" ON "gsm_session_service" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "logical_service_obj" ASCENDING 
  INDEX-FIELD "session_type_obj" ASCENDING 

ADD INDEX "XIE1gsm_session_service" ON "gsm_session_service" 
  AREA "Schema Area"
  INDEX-FIELD "physical_service_obj" ASCENDING 

ADD TABLE "gsm_session_type"
  AREA "Schema Area"
  DESCRIPTION "A session type is a namespace for grouping specific types of sessions together.

For example, a ""receipting workstation"" would be a specific session type while a ""salesman's web agent"" could be another.

Each session type is combined with a physical session type that maps to a list of known Progress 4GL run-time environments. 

Thus, ""receipting workstation"" may be mapped to a 4GL GUI client while ""salesman's web agent"" could be mapped to a WebSpeed Transaction Agent.

Thus you could create any number of session types mapping them to specific 4GL session types.

Where different managers, etc. need to be pre-started for different applications, then the different applications would be defined as new session types.

In order to run locally without appserver connections, etc. you would need to define a new session type that connects to appropriate databases and has no session service records for the appserver logical services thereby forcing them to not connect and rather simply use the session handle for code portability. Also, this new session type would define a different set of managers to run, i.e. run the server side managers locally.

We will provide a facility to change the session type on the fly (if possible).

We have a recursive join to the gsc_session_type table to support inheritance of settings across multiple session types. This will make the modification, re-use and creation of session types much simpler. The program that generates the icfconfig.xml file will simply read the extra details from the linked session types and write out an accumulated set of configuration details.

This table also holds parameter details for the session, such as whether to support failover and inactivity timeouts for sessions."
  DUMP-NAME "gsmse"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsetrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsetrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsereplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmserepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsereplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsetrigw.p" CRC "?" 

ADD FIELD "session_type_obj" OF "gsm_session_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "session_type_code" OF "gsm_session_type" AS character 
  DESCRIPTION "A unique code to identify the session type."
  FORMAT "X(20)"
  INITIAL ""
  LABEL "Session type code"
  POSITION 3
  MAX-WIDTH 40
  VALMSG "s_string_20"
  HELP "Session type code"
  ORDER 20

ADD FIELD "session_type_description" OF "gsm_session_type" AS character 
  DESCRIPTION "A description of the session type."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Session type description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Session type description"
  ORDER 30

ADD FIELD "physical_session_list" OF "gsm_session_type" AS character 
  DESCRIPTION "This field contains a list of valid physical session types that this session may run on. It is a comma delimited list of codes selected from the following valid values:

APP   = AppServer
WBC  = WebClient
GUI    = GUI Client
CUI    = Character Client
WBS  = WebSpeed
JOC    = Java Open Client
AOC   = ActiveX Open Client
BTC   = Batch Client"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Physical session list"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Physical session list"
  ORDER 40

ADD FIELD "valid_os_list" OF "gsm_session_type" AS character 
  DESCRIPTION "This field defines a list of operating systems that this session may be run on.

The list may either be blank, in which case the session may run on any operating system, or the list may contain one or more of the following values:

WIN32 = Win95,98,ME,NT or Win2000
UNIX    = Any Progress supported UNIX
OS400 = AS400


"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Valid os list"
  POSITION 6
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Valid os list"
  ORDER 50

ADD FIELD "inactivity_timeout_period" OF "gsm_session_type" AS decimal 
  DESCRIPTION "The inactivity period after which time the session will expire. This field is a decimal field, with 0 indicating the functionality is disabled. The field is structured as days.time with the integer portion being the number of days and the decimal portion being the time in seconds since midnight.
If a value is specified, then after the elapsed period of inactivity, the session record will be deleted making the session inactive and forcing a relogon.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Inactivity timeout period"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Inactivity timeout period"
  DECIMALS 9
  ORDER 60

ADD FIELD "automatic_reconnect" OF "gsm_session_type" AS logical 
  DESCRIPTION "This is a logical field, defaulting to YES and indicates whether to enable the functionality to automatically reconnect a dropped appserver connection and reestablish context. This functionality uses the information in the gst_session table to be able to do this."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Automatic reconnect"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Automatic reconnect"
  ORDER 70

ADD FIELD "extends_session_type_obj" OF "gsm_session_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Extends session type obj"
  POSITION 9
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Extends session type obj"
  DECIMALS 9
  ORDER 80

ADD INDEX "XPKgsm_session_type" ON "gsm_session_type" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "session_type_obj" ASCENDING 

ADD INDEX "XAK1gsm_session_type" ON "gsm_session_type" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "session_type_code" ASCENDING 

ADD INDEX "XIE1gsm_session_type" ON "gsm_session_type" 
  AREA "Schema Area"
  INDEX-FIELD "session_type_description" ASCENDING 

ADD INDEX "XIE2gsm_session_type" ON "gsm_session_type" 
  AREA "Schema Area"
  INDEX-FIELD "extends_session_type_obj" ASCENDING 

ADD TABLE "gsm_session_type_property"
  AREA "Schema Area"
  DESCRIPTION "This table resolves the many-to-many relationship between gsc_session_property and gsm_session_type.

If a record is found in this table for a property and a session type, the value specified in that record is written to the ICF configuration file for the parameter.

If no record exists for a given property and session type, the always_used flag on the gsc_session_property table is checked. If the flag is on, the default value in the default_property_value field on the gsc_session_property table is used."
  DUMP-NAME "gsmsy"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsytrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsytrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsyreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsyrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsyreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsytrigw.p" CRC "?" 

ADD FIELD "session_type_property_obj" OF "gsm_session_type_property" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session type property obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session type property obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "session_type_obj" OF "gsm_session_type_property" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session type obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session type obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "session_property_obj" OF "gsm_session_type_property" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session property obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session property obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "property_value" OF "gsm_session_type_property" AS character 
  DESCRIPTION "This field contains the value of the session-specific value of the property."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Property value"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_string_70"
  HELP "Property value"
  ORDER 40

ADD INDEX "XPKgsm_session_type_property" ON "gsm_session_type_property" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "session_type_property_obj" ASCENDING 

ADD INDEX "XAK1gsm_session_type_property" ON "gsm_session_type_property" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "session_property_obj" ASCENDING 
  INDEX-FIELD "session_type_obj" ASCENDING 

ADD INDEX "XIE1gsm_session_type_property" ON "gsm_session_type_property" 
  AREA "Schema Area"
  INDEX-FIELD "session_type_obj" ASCENDING 

ADD TABLE "gsm_startup_flow"
  AREA "Schema Area"
  DESCRIPTION "This table defines a list of flows that have to be run at startup of the session after the management procedures have been initialized, in order to perform any specific session setup, e.g. caching of various information."
  DUMP-NAME "gsmsf"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsftrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsftrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsfreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsfrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsfreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsftrigw.p" CRC "?" 

ADD FIELD "startup_flow_obj" OF "gsm_startup_flow" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Startup flow obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Startup flow obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "session_type_obj" OF "gsm_startup_flow" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session type obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session type obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "startup_order" OF "gsm_startup_flow" AS integer 
  DESCRIPTION "This is the order that the startup flows must be executed.
"
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Startup order"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Startup order"
  ORDER 30

ADD FIELD "flow_obj" OF "gsm_startup_flow" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Flow obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Flow obj"
  DECIMALS 9
  ORDER 40

ADD INDEX "XPKgsm_startup_flow" ON "gsm_startup_flow" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "startup_flow_obj" ASCENDING 

ADD INDEX "XAK1gsm_startup_flow" ON "gsm_startup_flow" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "session_type_obj" ASCENDING 
  INDEX-FIELD "startup_order" ASCENDING 

ADD INDEX "XAK2gsm_startup_flow" ON "gsm_startup_flow" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "flow_obj" ASCENDING 
  INDEX-FIELD "session_type_obj" ASCENDING 

ADD TABLE "gsm_status"
  AREA "Schema Area"
  DESCRIPTION "The actual valid status codes are set-up in the category table. For example:

related entity mnemonic = GSMST for gsm_status
category type = STS for Status
category group = HST for History
category subgroup = COD for Code

The category subgroup is the actual status in this case. The categories of status will always be system owned and mandatory. The category mandatory flag will be used to indicate whether an object at this status may be modified.

At least 1 record must exist in this table for every category subgroup that has a related entity mnemonic of status (GSMST). This record will be system owned, have a sequence of 0 and may not be deleted. It will always be the default status for this category subgroup.

This table allows users to modify the narrative of the status, and add extra status's within the same category subgroup to represent their internal business processes.

From a business logic point of view, when the status changes within the same category, we do not need to do anything and the user may do this manually via a combo box. The change of status from 1 category to the next within a category group will usually be done via a business logic process.

We will always need to join back to the category table to determine what status an object is at from a business logic point of view.

The status an object is at effective from a specific date is determined by an entry in the status history table, which means the status does not need to be added to every table it is used for. However, in some cases we have linked objects directly to the status table to show the current status for performance reasons."
  DUMP-NAME "gsmst"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmsttrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmsttrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmstreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmstrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmstreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmsttrigw.p" CRC "?" 

ADD FIELD "status_obj" OF "gsm_status" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Status obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Status obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "category_obj" OF "gsm_status" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Category obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Category obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "status_seq" OF "gsm_status" AS integer 
  DESCRIPTION "The order of migration from one status to the next within a category (subgroup).

If the system owned flag is set to YES, then the sequence will be 0 and cannot be modified."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Status seq"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Status seq"
  ORDER 30

ADD FIELD "status_tla" OF "gsm_status" AS character 
  DESCRIPTION "A 3 character mnemonic e.g. ""UNP"" = Unposted.

This may be changed, even if the status is system owned, as the category subgroup identifies the actual status from a business logic perspective.

"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Status TLA"
  POSITION 5
  MAX-WIDTH 6
  VALMSG "s_tla"
  HELP "Status three letter acronym"
  ORDER 40

ADD FIELD "status_short_desc" OF "gsm_status" AS character 
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Status short desc."
  POSITION 6
  MAX-WIDTH 30
  VALMSG "s_short_desc"
  HELP "Status short description"
  ORDER 50

ADD FIELD "status_description" OF "gsm_status" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Status description"
  POSITION 7
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Status description"
  ORDER 60

ADD FIELD "retain_status_history" OF "gsm_status" AS logical 
  DESCRIPTION "Do we want to retain a dated history of status code changes. If not, only the latest status will be kept and previous status's of the same category will be deleted from the gsm_status_history table.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Retain status history"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Retain status history"
  ORDER 70

ADD FIELD "system_owned" OF "gsm_status" AS logical 
  DESCRIPTION "System owned status codes cannot be deleted. In addition the status sequence will be 0 and also cannot be modified.

1 system owned status record must exist for every category subgroup related to a status, i.e. related entity mnemonic is GSMST.



"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 80

ADD FIELD "auto_display" OF "gsm_status" AS logical 
  DESCRIPTION "Should this status be automatically displayed and acknowledged in an alert dialog box whenever this status is active for an object (no end date if using status history)."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Auto display"
  POSITION 10
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Auto display"
  ORDER 90

ADD INDEX "XPKgsm_status" ON "gsm_status" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "status_obj" ASCENDING 

ADD INDEX "XAK1gsm_status" ON "gsm_status" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "category_obj" ASCENDING 
  INDEX-FIELD "status_seq" ASCENDING 

ADD INDEX "XAK2gsm_status" ON "gsm_status" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "category_obj" ASCENDING 
  INDEX-FIELD "status_tla" ASCENDING 

ADD INDEX "XIE1gsm_status" ON "gsm_status" 
  AREA "Schema Area"
  INDEX-FIELD "category_obj" ASCENDING 
  INDEX-FIELD "status_description" ASCENDING 

ADD INDEX "XIE2gsm_status" ON "gsm_status" 
  AREA "Schema Area"
  INDEX-FIELD "category_obj" ASCENDING 
  INDEX-FIELD "status_short_desc" ASCENDING 

ADD TABLE "gsm_status_history"
  AREA "Schema Area"
  DESCRIPTION "Actual status of an object as from the effective date"
  DUMP-NAME "gsmsh"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmshtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmshtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmshtrigw.p" CRC "?" 

ADD FIELD "owning_obj" OF "gsm_status_history" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "from_date" OF "gsm_status_history" AS date 
  DESCRIPTION "The date this status became effective for the object."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "From date"
  POSITION 3
  MAX-WIDTH 4
  VALMSG "d_start_date"
  HELP "From date"
  ORDER 20

ADD FIELD "status_obj" OF "gsm_status_history" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Status obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Status obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "to_date" OF "gsm_status_history" AS date 
  DESCRIPTION "The date this status was no longer applicable for the object."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "To date"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "d_end_date"
  HELP "To date"
  ORDER 40

ADD FIELD "status_history_obj" OF "gsm_status_history" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Status history obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Status history obj"
  DECIMALS 9
  ORDER 50

ADD INDEX "XPKgsm_status_history" ON "gsm_status_history" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "owning_obj" ASCENDING 
  INDEX-FIELD "from_date" ASCENDING 
  INDEX-FIELD "status_obj" ASCENDING 

ADD INDEX "XAK1gsm_status_history" ON "gsm_status_history" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "status_obj" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 
  INDEX-FIELD "from_date" ASCENDING 

ADD INDEX "XAK2gsm_status_history" ON "gsm_status_history" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "status_history_obj" ASCENDING 

ADD INDEX "XIE1gsm_status_history" ON "gsm_status_history" 
  AREA "Schema Area"
  INDEX-FIELD "owning_obj" ASCENDING 
  INDEX-FIELD "from_date" ASCENDING 

ADD TABLE "gsm_tagged_data"
  AREA "Schema Area"
  DESCRIPTION "This table associates data tags as defined in the gsc_data_tag table with specific items of data, e.g. specific object types to identify that the object types belong to the core Dynamics product.

See description against table gsc_data_tag for further details on how this is intended to work.

A specific item of data may contain any number of tags for various purposes, but a specific tag may only be allocated once to a specific item of data.

As tags are generically attached to data, the schema triggers for data that may have tags attached will need to ensure that the tags are deleted when the data is deleted - like the mechanism used for generic comments and auditing."
  DUMP-NAME "gsmtd"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmtdtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmtdtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmtdreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmtdrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmtdreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmtdtrigw.p" CRC "?" 

ADD FIELD "tagged_data_obj" OF "gsm_tagged_data" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Tagged data obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Tagged data obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "owning_entity_mnemonic" OF "gsm_tagged_data" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Entity"
  ORDER 20

ADD FIELD "owning_reference" OF "gsm_tagged_data" AS character 
  DESCRIPTION "This field contains the key field values of a record from the table as identified by the owning entity mnemonic, e.g. a object_type_obj.

If the related table has an object number, this field will contain the string value of the object number, otherwise it will contain a CHR(3) seperated string list of the values for the fields in gsc_entity_mnemonic.entity_key_field.
"
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Owning reference"
  POSITION 4
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Owning reference"
  ORDER 30

ADD FIELD "data_tag_obj" OF "gsm_tagged_data" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Data tag obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Data tag obj"
  DECIMALS 9
  ORDER 40

ADD INDEX "XPKgsm_tagged_data" ON "gsm_tagged_data" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "tagged_data_obj" ASCENDING 

ADD INDEX "XAK1gsm_tagged_data" ON "gsm_tagged_data" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "owning_reference" ASCENDING 
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "data_tag_obj" ASCENDING 

ADD INDEX "XIE1gsm_tagged_data" ON "gsm_tagged_data" 
  AREA "Schema Area"
  INDEX-FIELD "data_tag_obj" ASCENDING 

ADD TABLE "gsm_token"
  AREA "Schema Area"
  DESCRIPTION "Tokens are used in the application to control access to functions the user may perform within a program via tab folder page names and button names.

Tokens may be created for any tab page names or button labels, being careful to ignore any shortcut characters and ... suffixes. The tokens must then be added to the security structure table to become active. The security structure table facilitates the token being restricted for a specific object instance, specific object, specific product module, or generically for everything.

The software will only check security providing a valid enabled token exists for the button label or tab folder page.

If a user has no tokens allocated at all, then it is assumed they have full access (providing security contol is set to full access by default). Once a user is allocated tokens, then security comes into force and the user will only be granted access for folder pages and buttons they have been granted access to (an that have restricted access set up).

Example tokens would be add, delete, modify, view, copy, page 1, page 2, etc.
"
  DUMP-NAME "gsmto"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmtotrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmtotrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmtotrigw.p" CRC "?" 

ADD FIELD "token_obj" OF "gsm_token" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Token obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Token obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "token_code" OF "gsm_token" AS character 
  DESCRIPTION "The unique code allocated to this token."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Token code"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Token code"
  ORDER 20

ADD FIELD "token_description" OF "gsm_token" AS character 
  DESCRIPTION "A full description of the token purpose."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Token description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Token description"
  ORDER 30

ADD FIELD "disabled" OF "gsm_token" AS logical 
  DESCRIPTION "If set to YES, then this token will not be checked, and full access will be granted."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Disabled"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Disabled"
  ORDER 40

ADD FIELD "system_owned" OF "gsm_token" AS logical 
  DESCRIPTION "If set to YES, this token is required for the system to operate and cannot be amended or deleted by users."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 50

ADD INDEX "XPKgsm_token" ON "gsm_token" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "token_obj" ASCENDING 

ADD INDEX "XAK1gsm_token" ON "gsm_token" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "token_code" ASCENDING 

ADD INDEX "XIE1gsm_token" ON "gsm_token" 
  AREA "Schema Area"
  INDEX-FIELD "token_description" ASCENDING 

ADD TABLE "gsm_toolbar_menu_structure"
  AREA "Schema Area"
  DESCRIPTION "This table is used to group bands or menu structures into a complete toolbar and menubar structure."
  DUMP-NAME "gsmtm"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmtmtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmtmtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmtmreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmtmrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmtmreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmtmtrigw.p" CRC "?" 

ADD FIELD "object_obj" OF "gsm_toolbar_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "menu_structure_sequence" OF "gsm_toolbar_menu_structure" AS integer 
  DESCRIPTION "Identifies the order of the bands for either toolbar bands or menu bands
"
  FORMAT "->>>9"
  INITIAL "0"
  LABEL "Menu structure sequence"
  POSITION 3
  MAX-WIDTH 4
  VALMSG "n_integer_4"
  HELP "Menu structure sequence"
  ORDER 20

ADD FIELD "menu_structure_obj" OF "gsm_toolbar_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Menu structure obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Menu structure obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "toolbar_menu_structure_obj" OF "gsm_toolbar_menu_structure" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Toolbar menu structure obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Toolbar menu structure obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "menu_structure_spacing" OF "gsm_toolbar_menu_structure" AS integer 
  DESCRIPTION "Specifies the number of pixels between the previous band and this band. Only applies to toolbar bands. Default is zero."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Menu structure spacing"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Menu structure spacing"
  ORDER 50

ADD FIELD "menu_structure_alignment" OF "gsm_toolbar_menu_structure" AS character 
  DESCRIPTION "Only applies to toolbar bands. Possible options are:
LEFT    positions the band on the left side
RIGHT positions th band on the right side (If band_spacing is specified, it is spaced the specified amount from the previous band aligned from right.
CENTER  positions the band in the center (spacing is ignored).

Default is LEFT."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Menu structure alignment"
  POSITION 7
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Menu structure alignment"
  ORDER 60

ADD FIELD "menu_structure_row" OF "gsm_toolbar_menu_structure" AS character 
  DESCRIPTION "Used for building multi-band toolbars. Specifies the row to position the toolbar. Default is 'TOP'.

Possible values are: TOP,BOTTOM,1,2,3,4,5,6,7,8,9

There cannot be a row containing no bands. If a row is specified and there are no bands specified for a previous row, the row will default to the lowest previous row."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Menu structure row"
  POSITION 8
  MAX-WIDTH 20
  VALMSG "s_string_10"
  HELP "Menu structure row"
  ORDER 70

ADD FIELD "insert_rule" OF "gsm_toolbar_menu_structure" AS logical 
  DESCRIPTION "Inserts a rule before the band. Default is YES."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Insert rule"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Insert rule"
  ORDER 80

ADD INDEX "XPKgsm_toolbar_menu_structure" ON "gsm_toolbar_menu_structure" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "object_obj" ASCENDING 
  INDEX-FIELD "menu_structure_sequence" ASCENDING 
  INDEX-FIELD "menu_structure_obj" ASCENDING 

ADD INDEX "XAK1gsm_toolbar_menu_structure" ON "gsm_toolbar_menu_structure" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "toolbar_menu_structure_obj" ASCENDING 

ADD INDEX "XIE1gsm_toolbar_menu_structure" ON "gsm_toolbar_menu_structure" 
  AREA "Schema Area"
  INDEX-FIELD "menu_structure_obj" ASCENDING 

ADD TABLE "gsm_translated_menu_item"
  AREA "Schema Area"
  DESCRIPTION "This table stores menu item translations. Fields requiring translation are duplicated from the gsm_menu_item table and translations for them stored in this table by language.

This table is only required to be referenced if the users login language does not match the source language of the menu item, otherwise the standard fields on the gsm_menu_item can be used, i.e. this table is only required if a translation is required."
  DUMP-NAME "gsmti"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/GSMTItrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/GSMTItrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/GSMTItrigw.p" CRC "?" 

ADD FIELD "translated_menu_item_obj" OF "gsm_translated_menu_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Translated menu item obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Translated menu item obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "menu_item_obj" OF "gsm_translated_menu_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Menu item obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Menu item obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "source_language_obj" OF "gsm_translated_menu_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Source language obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Source language obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "language_obj" OF "gsm_translated_menu_item" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Language obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Language obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "menu_item_label" OF "gsm_translated_menu_item" AS character 
  DESCRIPTION "The translated label to show on the menu. The label may be auto generated or manually entered.

Include an ampersand for the accelerator key where appropriate - the Progress default if not sepcified is to use the 1st character."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Menu item label"
  POSITION 6
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Menu item label"
  ORDER 50

ADD FIELD "tooltip_text" OF "gsm_translated_menu_item" AS character 
  DESCRIPTION "The translated tooltip text to display when this menu item is placed on a dynamic toolbar."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Tooltip text"
  POSITION 7
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Tooltip text"
  ORDER 60

ADD FIELD "alternate_shortcut_key" OF "gsm_translated_menu_item" AS character 
  DESCRIPTION "The translated shortcut key to associate with this menu item, e.g. CTRL-A
"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Alternate shortcut key"
  POSITION 8
  MAX-WIDTH 30
  VALMSG "s_short_name"
  HELP "Alternate shortcut key"
  ORDER 70

ADD FIELD "item_toolbar_label" OF "gsm_translated_menu_item" AS character 
  DESCRIPTION "This is a translated short label for the button that would appear on the button as the button label in the event that the button has no image or if the item_control_style field specifies 'text only' 

If the item_control_type field  specifies 'Label', this label would appear as text in the toolbar band.

It should contain ampersand (&) to act as the shortcut character.
When translating the label, the ampersand will be removed."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Item toolbar label"
  POSITION 9
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Item toolbar label"
  ORDER 80

ADD FIELD "image1_up_filename" OF "gsm_translated_menu_item" AS character 
  DESCRIPTION "The filename of the normal translated image to display when the button is sensitive and not depressed. For flat buttons this is usally the only state that is required.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image1 up filename"
  POSITION 10
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image1 up filename"
  ORDER 90

ADD FIELD "image1_down_filename" OF "gsm_translated_menu_item" AS character 
  DESCRIPTION "The filename of the normal translated image to display when the button is sensitive and pressed.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image1 down filename"
  POSITION 11
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image1 down filename"
  ORDER 100

ADD FIELD "image1_insensitive_filename" OF "gsm_translated_menu_item" AS character 
  DESCRIPTION "The filename of the translated image to display when the button is insensitive.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image1 insensitive filename"
  POSITION 12
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image1 insensitive filename"
  ORDER 110

ADD FIELD "image2_up_filename" OF "gsm_translated_menu_item" AS character 
  DESCRIPTION "The filename of the secondary translated image to display when the button is sensitive and not depressed.
For flat buttons this is usally the only state that is required.

A secondary image is useful when the button has 2 main states, i.e. for a filter button it may be  ticked if a filter is active, or have no tick when there is no active filter.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image2 up filename"
  POSITION 13
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image2 up filename"
  ORDER 120

ADD FIELD "image2_down_filename" OF "gsm_translated_menu_item" AS character 
  DESCRIPTION "The filename of the secondary translated image to display when the button is sensitive and pressed.

A secondary image is useful when the button has 2 main states, i.e. for a filter button it may be  ticked if a filter is active, or have no tick when there is no active filter.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image2 down filename"
  POSITION 14
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image2 down filename"
  ORDER 130

ADD FIELD "image2_insensitive_filename" OF "gsm_translated_menu_item" AS character 
  DESCRIPTION "The filename of the secondary translated image to display when the button is insensitive (greyed out).

A secondary image is useful when the button has 2 main states, i.e. for a filter button it may be  ticked if a filter is active, or have no tick when there is no active filter.

Only the relative path name and filename should be specified in this field."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Image2 insensitive filename"
  POSITION 15
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Image2 insensitive filename"
  ORDER 140

ADD FIELD "item_narration" OF "gsm_translated_menu_item" AS character 
  DESCRIPTION "Detailed translated description of item"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Item narration"
  POSITION 16
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_string_500"
  HELP "Item narration"
  ORDER 150

ADD INDEX "XPKgsm_translated_menu_item" ON "gsm_translated_menu_item" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "translated_menu_item_obj" ASCENDING 

ADD INDEX "XAK1gsm_translated_menu_item" ON "gsm_translated_menu_item" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "menu_item_obj" ASCENDING 
  INDEX-FIELD "language_obj" ASCENDING 

ADD INDEX "XIE1gsm_translated_menu_item" ON "gsm_translated_menu_item" 
  AREA "Schema Area"
  INDEX-FIELD "source_language_obj" ASCENDING 

ADD INDEX "XIE2gsm_translated_menu_item" ON "gsm_translated_menu_item" 
  AREA "Schema Area"
  INDEX-FIELD "language_obj" ASCENDING 

ADD TABLE "gsm_translation"
  AREA "Schema Area"
  DESCRIPTION "This table containes user defined translations for the various languages for widget labels and tooltip text.

The setup of every program will first walk the widget tree and change the label / tooltip to the entry in this table according to the language selected by the user - if an entry exists.

Translations can be turned off globally using the gsc_security_control.translation_enabled flag.
"
  DUMP-NAME "gsmtl"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmtltrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmtltrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmtlreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmtlrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmtlreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmtltrigw.p" CRC "?" 

ADD FIELD "translation_obj" OF "gsm_translation" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Translation obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Translation obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "language_obj" OF "gsm_translation" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Language obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Language obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "object_filename" OF "gsm_translation" AS character 
  DESCRIPTION "The filename of the object the widget is contained on. The filename must be specified with an enxtension of .w but no path, as per gsc_object.

If the filename is blank, then the entry applies to all objects where the widget appears.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Object filename"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_program_name"
  HELP "Object filename"
  ORDER 30

ADD FIELD "widget_type" OF "gsm_translation" AS character 
  DESCRIPTION "The type of widget. The valid values are:

TITLE = window title
BROWSE = column name
FILL-IN
RADIO-SET
TEXT
BUTTON
TOGGLE-BOX
COMBO-BOX
SLIDER
EDITOR
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Widget type"
  POSITION 5
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Widget type"
  ORDER 40

ADD FIELD "widget_name" OF "gsm_translation" AS character 
  DESCRIPTION "The actual name of the widget. If it is a database connected widget, then this field will contain table.fieldname otherwise it will just contain the widget name.

The exception is ""title"" for a window title.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Widget name"
  POSITION 6
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Widget name"
  ORDER 50

ADD FIELD "widget_entry" OF "gsm_translation" AS integer 
  DESCRIPTION "If the widget has multiple values, as is the case with a radio-set, then this is the entry number within the value list for the widget that this translation applies to."
  FORMAT "->9"
  INITIAL "0"
  LABEL "Widget entry"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_integer_2"
  HELP "Widget entry"
  ORDER 60

ADD FIELD "original_label" OF "gsm_translation" AS character 
  DESCRIPTION "The original label text before modification"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Original label"
  POSITION 8
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Original label"
  ORDER 70

ADD FIELD "translation_label" OF "gsm_translation" AS character 
  DESCRIPTION "The new translated label text"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Translation label"
  POSITION 9
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Translation label"
  ORDER 80

ADD FIELD "original_tooltip" OF "gsm_translation" AS character 
  DESCRIPTION "The original tooltip as per the schema help."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Original tooltip"
  POSITION 10
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Original tooltip"
  ORDER 90

ADD FIELD "translation_tooltip" OF "gsm_translation" AS character 
  DESCRIPTION "The translated tooltip."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Translation tooltip"
  POSITION 11
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Translation tooltip"
  ORDER 100

ADD FIELD "source_language_obj" OF "gsm_translation" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Source language obj"
  POSITION 12
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Source language obj"
  DECIMALS 9
  ORDER 110

ADD INDEX "XPKgsm_translation" ON "gsm_translation" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "translation_obj" ASCENDING 

ADD INDEX "XAK1gsm_translation" ON "gsm_translation" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "object_filename" ASCENDING 
  INDEX-FIELD "widget_type" ASCENDING 
  INDEX-FIELD "widget_name" ASCENDING 
  INDEX-FIELD "widget_entry" ASCENDING 
  INDEX-FIELD "language_obj" ASCENDING 
  INDEX-FIELD "source_language_obj" ASCENDING 

ADD INDEX "XAK2gsm_translation" ON "gsm_translation" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "source_language_obj" ASCENDING 
  INDEX-FIELD "language_obj" ASCENDING 
  INDEX-FIELD "object_filename" ASCENDING 
  INDEX-FIELD "widget_type" ASCENDING 
  INDEX-FIELD "widget_name" ASCENDING 
  INDEX-FIELD "widget_entry" ASCENDING 

ADD INDEX "XIE1gsm_translation" ON "gsm_translation" 
  AREA "Schema Area"
  INDEX-FIELD "widget_name" ASCENDING 
  INDEX-FIELD "widget_entry" ASCENDING 
  INDEX-FIELD "object_filename" ASCENDING 
  INDEX-FIELD "source_language_obj" ASCENDING 
  INDEX-FIELD "language_obj" ASCENDING 
  INDEX-FIELD "widget_type" ASCENDING 

ADD INDEX "XIE2gsm_translation" ON "gsm_translation" 
  AREA "Schema Area"
  INDEX-FIELD "language_obj" ASCENDING 

ADD TABLE "gsm_user"
  AREA "Schema Area"
  DESCRIPTION "This table defines the users who may log into the system, i.e. the users of the system.

The main user details are contained in an external security system, e.g. openstart pointed at by the external_userid field. This table defines extra user information for this system, and allows a user to be optionally associated with a person to facilitate full name, address, etc. details to be entered for a user as well as comments.

There is a logged in flag on this user record to facilitate the identification of user availability (a user is available if they are logged into this application).

The existence of this specific user table in our database also facilitates automatic referential integrity.

"
  DUMP-NAME "gsmus"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmustrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmustrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmusreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmusrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmusreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmustrigw.p" CRC "?" 

ADD FIELD "user_obj" OF "gsm_user" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "user_category_obj" OF "gsm_user" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User category obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User category obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "user_full_name" OF "gsm_user" AS character 
  DESCRIPTION "The full name for the user"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "User full name"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "User full name"
  ORDER 30

ADD FIELD "user_login_name" OF "gsm_user" AS character 
  DESCRIPTION "The user login name. This should usually be the same as their login name on the server."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "User login name"
  POSITION 5
  MAX-WIDTH 30
  VALMSG "s_short_name"
  HELP "User login name"
  ORDER 40

ADD FIELD "user_creation_date" OF "gsm_user" AS date 
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "User creation date"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "User creation date"
  ORDER 50

ADD FIELD "user_creation_time" OF "gsm_user" AS integer 
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "User creation time"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "User creation time"
  ORDER 60

ADD FIELD "profile_user" OF "gsm_user" AS logical 
  DESCRIPTION "If set to YES, this is a profile user that may be copied. Profile users do not have to be real people, but all other users do."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Profile user"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Profile user"
  ORDER 70

ADD FIELD "created_from_profile_user_obj" OF "gsm_user" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Created from profile user obj"
  POSITION 9
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Created from profile user obj"
  DECIMALS 9
  ORDER 80

ADD FIELD "external_userid" OF "gsm_user" AS integer 
  DESCRIPTION "A link to an external security system"
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "External userid"
  POSITION 10
  MAX-WIDTH 4
  VALMSG "n_userid"
  HELP "External userid"
  ORDER 90

ADD FIELD "user_password" OF "gsm_user" AS character 
  DESCRIPTION "The current encrypted password. This may need to be unique depending on the setting in the security control table."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "User password"
  POSITION 11
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "User password"
  ORDER 100

ADD FIELD "password_minimum_length" OF "gsm_user" AS integer 
  DESCRIPTION "The minimum length of the user password"
  FORMAT "->9"
  INITIAL "0"
  LABEL "Password minimum length"
  POSITION 12
  MAX-WIDTH 4
  VALMSG "n_integer_2"
  HELP "Password minimum length"
  ORDER 110

ADD FIELD "password_preexpired" OF "gsm_user" AS logical 
  DESCRIPTION "If set to YES, the user must change their password the next time they log in."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Password preexpired"
  POSITION 13
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Password preexpired"
  ORDER 120

ADD FIELD "password_fail_count" OF "gsm_user" AS integer 
  DESCRIPTION "The number of times the user has got their password wrong since the last sucessful log in."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Password fail count"
  POSITION 14
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Password fail count"
  ORDER 130

ADD FIELD "password_fail_date" OF "gsm_user" AS date 
  DESCRIPTION "The date the user last got their password wrong."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Password fail date"
  POSITION 15
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Password fail date"
  ORDER 140

ADD FIELD "password_fail_time" OF "gsm_user" AS integer 
  DESCRIPTION "The time the user last got their password wrong."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Password fail time"
  POSITION 16
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Password fail time"
  ORDER 150

ADD FIELD "password_creation_date" OF "gsm_user" AS date 
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Password creation date"
  POSITION 17
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Password creation date"
  ORDER 160

ADD FIELD "password_creation_time" OF "gsm_user" AS integer 
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Password creation time"
  POSITION 18
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Password creation time"
  ORDER 170

ADD FIELD "password_expiry_date" OF "gsm_user" AS date 
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Password expiry date"
  POSITION 19
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Password expiry date"
  ORDER 180

ADD FIELD "password_expiry_time" OF "gsm_user" AS integer 
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Password expiry time"
  POSITION 20
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Password expiry time"
  ORDER 190

ADD FIELD "update_password_history" OF "gsm_user" AS logical 
  DESCRIPTION "If set to YES, a record will be written to the passwor history every time the user changes their password, recording old passwords."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Update password history"
  POSITION 21
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Update password history"
  ORDER 200

ADD FIELD "check_password_history" OF "gsm_user" AS logical 
  DESCRIPTION "If set to YES, the password history will be checked to ensure the same password is not reused within the specified time period."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Check password history"
  POSITION 22
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Check password history"
  ORDER 210

ADD FIELD "last_login_date" OF "gsm_user" AS date 
  DESCRIPTION "The date this user last logged into this application."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Last login date"
  POSITION 23
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Last login date"
  ORDER 220

ADD FIELD "last_login_time" OF "gsm_user" AS integer 
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Last login time"
  POSITION 24
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Last login time"
  ORDER 230

ADD FIELD "disabled" OF "gsm_user" AS logical 
  DESCRIPTION "If set to YES, this user account will be disabled and further log ins prevented."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Disabled"
  POSITION 25
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Disabled"
  ORDER 240

ADD FIELD "language_obj" OF "gsm_user" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Language obj"
  POSITION 26
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Language obj"
  DECIMALS 9
  ORDER 250

ADD FIELD "password_expiry_days" OF "gsm_user" AS integer 
  DESCRIPTION "The number of days to add to the expiry date when a password has expired, to obtain the new expiry date."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Password expiry days"
  POSITION 27
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Password expiry days"
  ORDER 260

ADD FIELD "maintain_system_data" OF "gsm_user" AS logical 
  DESCRIPTION "If set to YES, this user is allowed to maintain system owned data. If set to NO, the user may not add, delete, or modify any system owned data."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Maintain system data"
  POSITION 28
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Maintain system data"
  ORDER 270

ADD FIELD "default_login_company_obj" OF "gsm_user" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default login company obj"
  POSITION 29
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default login company obj"
  DECIMALS 9
  ORDER 280

ADD FIELD "user_email_address" OF "gsm_user" AS character 
  DESCRIPTION "Email address for user - used to automatically send notification messages to user when certain events have finished."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "User email address"
  POSITION 30
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "User email address"
  ORDER 290

ADD FIELD "development_user" OF "gsm_user" AS logical 
  DESCRIPTION "If set to YES, this user is a system developer and allowed to run menu items / reports that are still under development."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Development user"
  POSITION 31
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Development user"
  ORDER 300

ADD FIELD "security_group" OF "gsm_user" AS logical 
  DESCRIPTION "If set to YES, this is a security group record rather than a user record. If set to NO, this is a normal user record.

Is set to YES, only a subset of the fields in this table are valid.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Security group"
  POSITION 32
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Security group"
  ORDER 310

ADD FIELD "default_security_group" OF "gsm_user" AS logical 
  DESCRIPTION "If set to YES, this is the default security group to allocate to users when creating new users. This can only be set to YES for user that are security groups - i.e security_group = YES.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Default security group"
  POSITION 33
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Default security group"
  ORDER 320

ADD INDEX "XPKgsm_user" ON "gsm_user" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "user_obj" ASCENDING 

ADD INDEX "XAK2gsm_user" ON "gsm_user" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "user_login_name" ASCENDING 

ADD INDEX "XIE10gsm_user" ON "gsm_user" 
  AREA "Schema Area"
  INDEX-FIELD "security_group" ASCENDING 

ADD INDEX "XIE1gsm_user" ON "gsm_user" 
  AREA "Schema Area"
  INDEX-FIELD "user_full_name" ASCENDING 

ADD INDEX "XIE2gsm_user" ON "gsm_user" 
  AREA "Schema Area"
  INDEX-FIELD "profile_user" ASCENDING 
  INDEX-FIELD "user_full_name" ASCENDING 

ADD INDEX "XIE3gsm_user" ON "gsm_user" 
  AREA "Schema Area"
  INDEX-FIELD "external_userid" ASCENDING 

ADD INDEX "XIE4gsm_user" ON "gsm_user" 
  AREA "Schema Area"
  INDEX-FIELD "user_password" ASCENDING 

ADD INDEX "XIE6gsm_user" ON "gsm_user" 
  AREA "Schema Area"
  INDEX-FIELD "default_login_company_obj" ASCENDING 

ADD INDEX "XIE7gsm_user" ON "gsm_user" 
  AREA "Schema Area"
  INDEX-FIELD "user_category_obj" ASCENDING 

ADD INDEX "XIE8gsm_user" ON "gsm_user" 
  AREA "Schema Area"
  INDEX-FIELD "created_from_profile_user_obj" ASCENDING 

ADD INDEX "XIE9gsm_user" ON "gsm_user" 
  AREA "Schema Area"
  INDEX-FIELD "language_obj" ASCENDING 

ADD TABLE "gsm_user_allocation"
  AREA "Schema Area"
  DESCRIPTION "When a user logs into the system, they log in with a user id, and a select a company (organisation). This table defines the security options for the user when they log into a certian organisation. The user may have different security options when logged into different companies.

If the organisation_obj is 0, then the security allocation applies to all companies. Likewise, if the user_obj is 0, then the security allocation applies to all users logged into this company. User security will always override company security. In addition, and owning_obj of 0 always indicates no access to all the data for that entity mnemonic (not supported for security structures, or menus - only really for data).

This table generically assigns all security options for the user / company. The standard options that may be specified via the owning_entity_mnemonic and owning_obj are:

gsm_security_structure records for security relating to tokens, fields and ranges.
gsm_menu_items for securing access to menu items
gsm_menu_structure for securing access to menu structures
gsm_entity_field_value for securing access to generic entity field values e.g. companies.

Additionally, access to any entity data can be secured using this table. For example, to secure access to specific cost centre codes in a general ledger, the owning_entity_mnemonic could be the cost centre table, and the owning_obj used to allocate specific cost centres the user / company has access to.

The rules applied to this table for the entity in order are as follows:
0) If security is disabled, then user security is passed.
1) If a specific record exists for the user / company then security is passed
2) If a specific record is found for the user / company with an owning_obj of     0, security is failed
3) If not full access by default, and no entries exist for the user at all, including     all users and all companies, security is failed
4) If a record exists for all users or all companies with an owning_obj of 0,     then security is failed
5) If a record is found for all users, security is passed
6) If a record is found for all companies, security is passed
7) If full access by default and no records are found at all for the specific     user, all users, or all companies, then security is passed.

Some allocations require additional data, e.g. allocating a field restriction needs to determine what can be done with the field, e.g. View, Update, Hide, etc.

Entries must exist in this table for all security allocations. There is no option for inclusion or exclusion to make querying as fast as possible. The maintenance programs however should allow the specification by inclusion or exclusion for fast data entry - then create / delete all relevant entries in this table.
"
  DUMP-NAME "gsmul"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmultrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmultrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmultrigw.p" CRC "?" 

ADD FIELD "user_obj" OF "gsm_user_allocation" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "login_organisation_obj" OF "gsm_user_allocation" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Login organisation obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Login organisation obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "owning_entity_mnemonic" OF "gsm_user_allocation" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 4
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 30

ADD FIELD "owning_obj" OF "gsm_user_allocation" AS decimal 
  DESCRIPTION "If this is set to 0, it indicates that for the owning_entity_mnemonic, no data access is permitted at all."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "user_allocation_value1" OF "gsm_user_allocation" AS character 
  DESCRIPTION "The use of this field is dependant on the owning_entity_mnemonic.

If this is field security, it will contain the valid field option, e.g. view, update, or hide.

If this is range security, it will contain the range from value."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "User allocation value1"
  POSITION 6
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "User allocation value1"
  ORDER 50

ADD FIELD "user_allocation_value2" OF "gsm_user_allocation" AS character 
  DESCRIPTION "The use of this field is dependant on the owning_obj_entity.

If this is range security, it will contain the range to value."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "User allocation value2"
  POSITION 7
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "User allocation value2"
  ORDER 60

ADD FIELD "user_allocation_obj" OF "gsm_user_allocation" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User allocation obj"
  POSITION 8
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User allocation obj"
  DECIMALS 9
  ORDER 70

ADD INDEX "XPKgsm_user_allocation" ON "gsm_user_allocation" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "user_obj" ASCENDING 
  INDEX-FIELD "login_organisation_obj" ASCENDING 
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 

ADD INDEX "XAK1gsm_user_allocation" ON "gsm_user_allocation" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "user_allocation_obj" ASCENDING 

ADD INDEX "XIE1gsm_user_allocation" ON "gsm_user_allocation" 
  AREA "Schema Area"
  INDEX-FIELD "login_organisation_obj" ASCENDING 
  INDEX-FIELD "user_obj" ASCENDING 
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 

ADD INDEX "XIE2gsm_user_allocation" ON "gsm_user_allocation" 
  AREA "Schema Area"
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 
  INDEX-FIELD "user_obj" ASCENDING 
  INDEX-FIELD "login_organisation_obj" ASCENDING 

ADD INDEX "XIE3gsm_user_allocation" ON "gsm_user_allocation" 
  AREA "Schema Area"
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_obj" ASCENDING 
  INDEX-FIELD "login_organisation_obj" ASCENDING 
  INDEX-FIELD "user_obj" ASCENDING 

ADD INDEX "XIE4gsm_user_allocation" ON "gsm_user_allocation" 
  AREA "Schema Area"
  INDEX-FIELD "owning_obj" ASCENDING 

ADD TABLE "gsm_user_category"
  AREA "Schema Area"
  DESCRIPTION "This table defines categories of users. It could be used for job functions, etc. It's primary use is for filtering and reporting."
  DUMP-NAME "gsmuc"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmuctrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmuctrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmucreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmucrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmucreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmuctrigw.p" CRC "?" 

ADD FIELD "user_category_obj" OF "gsm_user_category" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User category obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User category obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "user_category_code" OF "gsm_user_category" AS character 
  DESCRIPTION "a unique code to identify the category."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "User category code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "User category code"
  ORDER 20

ADD FIELD "user_category_description" OF "gsm_user_category" AS character 
  FORMAT "X(35)"
  INITIAL ""
  LABEL "User category description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "User category description"
  ORDER 30

ADD FIELD "disabled" OF "gsm_user_category" AS logical 
  DESCRIPTION "If set to YES, any users in this category will be prevented access to everything."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Disabled"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Disabled"
  ORDER 40

ADD INDEX "XPKgsm_user_category" ON "gsm_user_category" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "user_category_obj" ASCENDING 

ADD INDEX "XAK1gsm_user_category" ON "gsm_user_category" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "user_category_code" ASCENDING 

ADD INDEX "XIE1gsm_user_category" ON "gsm_user_category" 
  AREA "Schema Area"
  INDEX-FIELD "user_category_description" ASCENDING 

ADD TABLE "gsm_valid_object_partition"
  AREA "Schema Area"
  DESCRIPTION "This table defines a list of valid partitions in which a procedure can be run.

A partition is a logical AppServer Partition.

The list only contains records when the object is restricted to certain partitions. When the object may be run on any partition, there are no records in this table.

The records in this table are only applicable to appserver session types."
  DUMP-NAME "gsmvp"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsmvptrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsmvptrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gsmvpreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gsmvprepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gsmvpreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsmvptrigw.p" CRC "?" 

ADD FIELD "valid_object_partition_obj" OF "gsm_valid_object_partition" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Valid object partition obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Valid object partition obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "logical_service_obj" OF "gsm_valid_object_partition" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Logical service obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Logical service obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "object_obj" OF "gsm_valid_object_partition" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object obj"
  DECIMALS 9
  ORDER 30

ADD INDEX "XPKgsm_valid_object_partition" ON "gsm_valid_object_partition" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "valid_object_partition_obj" ASCENDING 

ADD INDEX "XAK1gsm_valid_object_partition" ON "gsm_valid_object_partition" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "logical_service_obj" ASCENDING 
  INDEX-FIELD "object_obj" ASCENDING 

ADD INDEX "XAK2gsm_valid_object_partition" ON "gsm_valid_object_partition" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "object_obj" ASCENDING 
  INDEX-FIELD "logical_service_obj" ASCENDING 

ADD TABLE "gst_audit"
  AREA "Schema Area"
  DESCRIPTION "Global audit file to record modifications to data. The audit can be turned on by defining a category of audit for an entity type. It can be turned off again simply by resetting the active flag on the category.
The audit will hold basic details on the action (create, amend, or delete), the user, date & time, the program and procedure used to perform the action, and possibly a record of the data before the update.
The audit could easily be used to keep old values of fields by defining more categories, e.g. one for each field or group of fields on an entity."
  DUMP-NAME "gstad"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gstadtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gstadtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gstadtrigw.p" CRC "?" 

ADD FIELD "audit_obj" OF "gst_audit" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Audit obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Audit obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "owning_entity_mnemonic" OF "gst_audit" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 20

ADD FIELD "owning_reference" OF "gst_audit" AS character 
  DESCRIPTION "This field contains the reference values used with the owning_entity_mnemonic to link the audit record generically to other records. 

If the related table has a object number, this field will contain the string value of the object number, otherwise it will contain a CHR(3) seperated string list of the values for the fields in gsc_entity_mnemonic.entity_key_field."
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Owning reference"
  POSITION 4
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Owning reference"
  ORDER 30

ADD FIELD "owning_obj" OF "gst_audit" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "audit_date" OF "gst_audit" AS date 
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Audit date"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Audit date"
  ORDER 50

ADD FIELD "audit_time" OF "gst_audit" AS integer 
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Audit time"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Audit time"
  ORDER 60

ADD FIELD "audit_user_obj" OF "gst_audit" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Audit user obj"
  POSITION 8
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Audit user obj"
  DECIMALS 9
  ORDER 70

ADD FIELD "program_name" OF "gst_audit" AS character 
  DESCRIPTION "The name of the program that was used to perform the action"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Program name"
  POSITION 9
  MAX-WIDTH 70
  VALMSG "s_program_name"
  HELP "Program name"
  ORDER 80

ADD FIELD "program_procedure" OF "gst_audit" AS character 
  DESCRIPTION "The internal procedure within the above program used to perform the action."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Program procedure"
  POSITION 10
  MAX-WIDTH 70
  VALMSG "s_program_procedure"
  HELP "Program procedure"
  ORDER 90

ADD FIELD "audit_action" OF "gst_audit" AS character 
  DESCRIPTION "The action performed:
CRE = create,
AME = amend,
DEL = delete"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Audit action"
  POSITION 11
  MAX-WIDTH 6
  VALMSG "s_mnemonic"
  HELP "Audit action"
  ORDER 100

ADD FIELD "old_detail" OF "gst_audit" AS character 
  DESCRIPTION "Possible storage of relevant details in the record before the action took place."
  FORMAT "X(10000)"
  INITIAL ""
  LABEL "Old detail"
  POSITION 12
  MAX-WIDTH 20000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 10000"
  VALMSG "s_buffer"
  HELP "Old detail"
  ORDER 110

ADD INDEX "XPKgst_audit" ON "gst_audit" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "audit_obj" ASCENDING 

ADD INDEX "XIE1gst_audit" ON "gst_audit" 
  AREA "Schema Area"
  INDEX-FIELD "owning_entity_mnemonic" ASCENDING 
  INDEX-FIELD "owning_reference" ASCENDING 
  INDEX-FIELD "audit_date" ASCENDING 
  INDEX-FIELD "audit_time" ASCENDING 

ADD INDEX "XIE2gst_audit" ON "gst_audit" 
  AREA "Schema Area"
  INDEX-FIELD "owning_reference" ASCENDING 
  INDEX-FIELD "audit_date" ASCENDING 
  INDEX-FIELD "audit_time" ASCENDING 

ADD INDEX "XIE3gst_audit" ON "gst_audit" 
  AREA "Schema Area"
  INDEX-FIELD "audit_user_obj" ASCENDING 
  INDEX-FIELD "audit_date" ASCENDING 
  INDEX-FIELD "audit_time" ASCENDING 

ADD TABLE "gst_batch_job"
  AREA "Schema Area"
  DESCRIPTION "A job can be run immediately or at a user selected time in which case it is stored as a batch job. A daemon will monitor this table and initiate the jobs at the selected time.

The batch_job_procedure_name may be the same as a report_procedure_name, or it may be for a separate procedure that initiates a number of separate procedures. These may or may not be report_procedure_name's.

Parameters for the batch job will be stored as per those for the report definition."
  DUMP-NAME "gstbt"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gstbttrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gstbttrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gstbttrigw.p" CRC "?" 

ADD FIELD "batch_job_obj" OF "gst_batch_job" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Batch job obj"
  POSITION 2
  MAX-WIDTH 15
  VALMSG "o_obj"
  HELP "Batch job obj"
  ORDER 10

ADD FIELD "job_description" OF "gst_batch_job" AS character 
  DESCRIPTION "A full description of the batch job"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Job description"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Job description"
  ORDER 20

ADD FIELD "status_obj" OF "gst_batch_job" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Status obj"
  POSITION 4
  MAX-WIDTH 15
  VALMSG "o_obj"
  HELP "Status obj"
  ORDER 30

ADD FIELD "batch_job_procedure_name" OF "gst_batch_job" AS character 
  DESCRIPTION "The batch_job_procedure_name may be the same as a report_procedure_name, or it may be for a separate procedure that initiates a number of separate procedures. These may or may not be report_procedure_name's. The procedure name must be an external procedure (.p)
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Batch job procedure name"
  POSITION 5
  MAX-WIDTH 70
  VALMSG "s_program_procedure"
  HELP "Batch job procedure name"
  ORDER 40

ADD FIELD "priority" OF "gst_batch_job" AS integer 
  DESCRIPTION "The priority of the batch job"
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Priority"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Priority"
  ORDER 50

ADD FIELD "date_to_start" OF "gst_batch_job" AS date 
  DESCRIPTION "The date the batch job is due to start."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Date to start"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "d_start_date"
  HELP "Date to start"
  ORDER 60

ADD FIELD "time_to_start" OF "gst_batch_job" AS integer 
  DESCRIPTION "The time the batch job is due to start."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Time to start"
  POSITION 8
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Time to start"
  ORDER 70

ADD FIELD "date_started" OF "gst_batch_job" AS date 
  DESCRIPTION "The date the batch job started"
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Date started"
  POSITION 9
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Date started"
  ORDER 80

ADD FIELD "time_started" OF "gst_batch_job" AS integer 
  DESCRIPTION "The time the batch job started"
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Time started"
  POSITION 10
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Time started"
  ORDER 90

ADD FIELD "date_completed" OF "gst_batch_job" AS date 
  DESCRIPTION "The date the batch job completed"
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Date completed"
  POSITION 11
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Date completed"
  ORDER 100

ADD FIELD "time_completed" OF "gst_batch_job" AS integer 
  DESCRIPTION "The time the batch job completed"
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Time completed"
  POSITION 12
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Time completed"
  ORDER 110

ADD FIELD "days_to_retain" OF "gst_batch_job" AS integer 
  DESCRIPTION "The default days to retain extract log data in this batch"
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Days to retain"
  POSITION 13
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Days to retain"
  ORDER 120

ADD FIELD "user_obj" OF "gst_batch_job" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User obj"
  POSITION 14
  MAX-WIDTH 15
  VALMSG "o_obj"
  HELP "User obj"
  ORDER 130

ADD INDEX "XPKgst_batch_job" ON "gst_batch_job" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "batch_job_obj" ASCENDING 

ADD INDEX "XIE1gst_batch_job" ON "gst_batch_job" 
  AREA "Schema Area"
  INDEX-FIELD "date_started" ASCENDING 
  INDEX-FIELD "time_started" ASCENDING 
  INDEX-FIELD "date_to_start" ASCENDING 
  INDEX-FIELD "time_to_start" ASCENDING 

ADD TABLE "gst_context_scope"
  AREA "Schema Area"
  DESCRIPTION "This table defines the scope of the server context data, either by session or by user.

If the context scope is for a user, then the context data in gsm_server_context will persist across sessions and will remain valid for the user until it is deleted or expires (as determined by the flag on gsc_security_control indicating after what period user context data should expire). This facilitates storing context for a user that can be re-used in new sessions, e.g. shopping cart information that can persist between web sessions. For user context scope, the session_obj will be set to 0 and a valid user_obj must be specified.

If the context scope is for a session, then the context data in the gsm_server_context table will only be valid for the duration of a single session. In this case the session_obj will be specified and the user_obj will be 0.

A name is given to the scope record to identify the scope. This is mainly useful for context scoped to a user, and can be used via APIs to retrieve specific types of scope. Where the scope name is not required or specified, it will simply be automatically set to the string value of the context_scope_obj so that it has a unique number. The scope name is only unique for active context (transaction complete is no) and once context is complete, the scope name is irrelevant and can be duplicated. This unique validation must therefore be handled in code.

When dealing with transaction data, many context scope records could exist for a single session for a single transaction, and where this is the case, the parent scope object id identifies which scope records together form the complete transaction. The record with a parent of 0 is the top parent scope. An example of where this is necessary is on the WEB when dealing with parent and child data, e.g. order and order lines as a single transaction across multiple web pages. An order may contain many order lines, and each order line will have a common set of fields but with different values in each case, so the data stored in the gsm_server_context table needs to point at a different context scope record to handle the same data fields existing in context for different records. This allows us to gather up context data across multiple web pages for multiple records, and commit the entire set of data as a single transaction.

The transaction complete flag is only set for the top parent context scope where the object id is 0, and indicates that the transaction is finished and may be tidied up by the garbage collector. The session complete flag on gst_session can override this if that is set to YES and this is session scoped context data. Additionally, the scope name must be unique for context scope where the transaction complete flag is no.
"
  DUMP-NAME "gstcs"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gstcstrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gstcstrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gstcstrigw.p" CRC "?" 

ADD FIELD "context_scope_obj" OF "gst_context_scope" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Context scope obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Context scope obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "scope_name" OF "gst_context_scope" AS character 
  DESCRIPTION "A name is given to the scope record to identify the scope. This is mainly useful for context scoped to a user, and can be used via APIs to retrieve specific types of scope. Where the scope name is not required or specified, it will simply be automatically set to the string value of the context_scope_obj so that it has a unique number. The scope name is only unique for active context (transaction complete is no) and once context is complete, the scope name is irrelevant and can be duplicated. This unique validation must therefore be handled in code.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Scope name"
  POSITION 3
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Scope name"
  ORDER 20

ADD FIELD "session_obj" OF "gst_context_scope" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "user_obj" OF "gst_context_scope" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "transaction_complete" OF "gst_context_scope" AS logical 
  DESCRIPTION "This is a flag, default value is NO.

When dealing with transaction data, many context scope records could exist for a single session for a single transaction, and where this is the case, the parent scope object id identifies which scope records together form the complete transaction. The record with a parent of 0 is the top parent scope. An example of where this is necessary is on the WEB when dealing with parent and child data, e.g. order and order lines as a single transaction across multiple web pages. An order may contain many order lines, and each order line will have a common set of fields but with different values in each case, so the data stored in the gsm_server_context table needs to point at a different context scope record to handle the same data fields existing in context for different records. This allows us to gather up context data across multiple web pages for multiple records, and commit the entire set of data as a single transaction.

The transaction complete flag is only set for the top parent context scope where the object id is 0, and indicates that the transaction is finished and may be tidied up by the garbage collector. The session complete flag on gst_session can override this if that is set to YES and this is session scoped context data. Additionally, the scope name must be unique for context scope where the transaction complete flag is no.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Transaction complete"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Transaction complete"
  ORDER 50

ADD FIELD "scope_creation_date" OF "gst_context_scope" AS date 
  DESCRIPTION "The date the scope was created"
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Scope creation date"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Scope creation date"
  ORDER 60

ADD FIELD "scope_creation_time" OF "gst_context_scope" AS integer 
  DESCRIPTION "The time the scope was created"
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Scope creation time"
  POSITION 8
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Scope creation time"
  ORDER 70

ADD FIELD "last_access_date" OF "gst_context_scope" AS date 
  DESCRIPTION "The date the scope was last accessed. This field will be updated either via the request manager for the WEB or via the activate procedure for the Appserver. It is not supported for client/server."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Last access date"
  POSITION 9
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Last access date"
  ORDER 80

ADD FIELD "last_access_time" OF "gst_context_scope" AS integer 
  DESCRIPTION "The time the scope was last accessed. This field will be updated either via the request manager for the WEB or via the activate procedure for the Appserver. It is not supported for client/server."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Last access time"
  POSITION 10
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Last access time"
  ORDER 90

ADD FIELD "parent_context_scope_obj" OF "gst_context_scope" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Parent context scope obj"
  POSITION 11
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Parent context scope obj"
  DECIMALS 9
  ORDER 100

ADD INDEX "XPKgst_context_scope" ON "gst_context_scope" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "context_scope_obj" ASCENDING 

ADD INDEX "XIE2gst_context_scope" ON "gst_context_scope" 
  AREA "Schema Area"
  INDEX-FIELD "user_obj" ASCENDING 
  INDEX-FIELD "scope_name" ASCENDING 
  INDEX-FIELD "transaction_complete" ASCENDING 

ADD INDEX "XIE3gst_context_scope" ON "gst_context_scope" 
  AREA "Schema Area"
  INDEX-FIELD "session_obj" ASCENDING 
  INDEX-FIELD "scope_name" ASCENDING 
  INDEX-FIELD "transaction_complete" ASCENDING 

ADD INDEX "XIE4gst_context_scope" ON "gst_context_scope" 
  AREA "Schema Area"
  INDEX-FIELD "parent_context_scope_obj" ASCENDING 

ADD TABLE "gst_dataset_file"
  AREA "Schema Area"
  DESCRIPTION "This table keeps a record of ADO files generated for a dataset. A single dataset may be generated out to multiple ADO files.

The purpose of this table is to record the date and time this dataset ADO file was last loaded into the current repository. Checks will be made against the file date on disk to see whether a new files has been downloaded from POSSE and needs to be updated into the local repository.

If an ADO file is included as part of a package, this table records the package that the ADO file belongs to."
  DUMP-NAME "gstdf"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gstdftrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gstdftrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gstdftrigw.p" CRC "?" 

ADD FIELD "dataset_file_obj" OF "gst_dataset_file" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Dataset file obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Dataset file obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "deployment_obj" OF "gst_dataset_file" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Deployment obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Deployment obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "deploy_dataset_obj" OF "gst_dataset_file" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Deploy dataset obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Deploy dataset obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "ado_filename" OF "gst_dataset_file" AS character 
  DESCRIPTION "This is the name of the generated ADO file, complete with relative path and extension.

If the ADO file forms part of a deployment package, the ADO file name is constructed from the default_ado_filename, the package code and the deployment number."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Ado filename"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Ado filename"
  ORDER 40

ADD FIELD "loaded_date" OF "gst_dataset_file" AS date 
  DESCRIPTION "This field contains the date that the ado file was imported into the target repository.
"
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Loaded date"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Loaded date"
  ORDER 50

ADD FIELD "loaded_time" OF "gst_dataset_file" AS integer 
  DESCRIPTION "This field contains the time that the ado file was imported into the target repository.
"
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Loaded time"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Loaded time"
  ORDER 60

ADD INDEX "XPKgst_dataset_file" ON "gst_dataset_file" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "dataset_file_obj" ASCENDING 

ADD INDEX "XAK1gst_dataset_file" ON "gst_dataset_file" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "deployment_obj" ASCENDING 
  INDEX-FIELD "deploy_dataset_obj" ASCENDING 
  INDEX-FIELD "ado_filename" ASCENDING 

ADD INDEX "XIE2gst_dataset_file" ON "gst_dataset_file" 
  AREA "Schema Area"
  INDEX-FIELD "deploy_dataset_obj" ASCENDING 

ADD INDEX "XIE3gst_dataset_file" ON "gst_dataset_file" 
  AREA "Schema Area"
  INDEX-FIELD "ado_filename" ASCENDING 
  INDEX-FIELD "loaded_date" ASCENDING 
  INDEX-FIELD "loaded_time" ASCENDING 

ADD TABLE "gst_deployment"
  AREA "Schema Area"
  DESCRIPTION "This table defines an instance of a deployment package, from a particular site. Records in this table may be manually created for the curent site, or may be imported as part of loading a deployment package from an external site."
  DUMP-NAME "gstdp"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gstdptrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gstdptrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gstdptrigw.p" CRC "?" 

ADD FIELD "deployment_obj" OF "gst_deployment" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Deployment obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Deployment obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "deploy_package_obj" OF "gst_deployment" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Deploy package obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Deploy package obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "originating_site_number" OF "gst_deployment" AS integer 
  DESCRIPTION "This is the site number of the site that created the deployment package. This field will be set automatically from the current site number, or will be as imported from the contents of an incoming package."
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Originating site number"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_integer_9"
  HELP "Originating site number"
  ORDER 30

ADD FIELD "deployment_number" OF "gst_deployment" AS integer 
  DESCRIPTION "This is a sequential number starting from 1 within each dataset within a site. It identifies the order the dataset deployments were produced and uniquely identifies the deployment for the dataset."
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Deployment number"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "n_integer_9"
  HELP "Deployment number"
  ORDER 40

ADD FIELD "deployment_description" OF "gst_deployment" AS character 
  DESCRIPTION "A free text description of the deployment, possibly including the reason for the deployment."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Deployment description"
  POSITION 6
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Deployment description"
  ORDER 50

ADD FIELD "deployment_date" OF "gst_deployment" AS date 
  DESCRIPTION "The date the deployment was created."
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Deployment date"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Deployment date"
  ORDER 60

ADD FIELD "deployment_time" OF "gst_deployment" AS integer 
  DESCRIPTION "The time the deployment was created."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Deployment time"
  POSITION 8
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Deployment time"
  ORDER 70

ADD FIELD "baseline_deployment" OF "gst_deployment" AS logical 
  DESCRIPTION "If this is set to YES then it is a baseline deployment and the xml file will contain all the records in all the tables included in the dataset. If NO, it will only contain records that have changed since the last deployment, as idenitified by the information in the gst_record_version table. This version table will only contain version records if the data in the table is being versioned. If data is not being versioned, then the xml file will always have to contain the full data in the table.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Baseline deployment"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Baseline deployment"
  ORDER 80

ADD FIELD "manual_record_selection" OF "gst_deployment" AS logical 
  DESCRIPTION "If set to NO, then the gst_record_version table was used to identify the modified records since the last baseline to include in the deployment package.

If set to YES, then records to include in the package were selected manually.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Manual record selection"
  POSITION 10
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Manual record selection"
  ORDER 90

ADD FIELD "package_control_file" OF "gst_deployment" AS character 
  DESCRIPTION "A control file will be created with the deployment package, with an extsion of .pdo.

This file will contain a list of all the .ado's that make up the package and have to be loaded. It also contains all the gst_record_version records affected by this package, to speed up the identification of potential clashes.

The defauly name is the package code, plus the site number, plus the deployment number with an extension of .pdo
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Package control file"
  POSITION 11
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Package control file"
  ORDER 100

ADD FIELD "package_exception_file" OF "gst_deployment" AS character 
  DESCRIPTION "The name of an exception file to contain the list of the .ado's that failed to load."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Package exception file"
  POSITION 12
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Package exception file"
  ORDER 110

ADD FIELD "load_after_deployment_obj" OF "gst_deployment" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Load after deployment obj"
  POSITION 13
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Load after deployment obj"
  DECIMALS 9
  ORDER 120

ADD INDEX "XPKgst_deployment" ON "gst_deployment" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "deployment_obj" ASCENDING 

ADD INDEX "XAK1gst_deployment" ON "gst_deployment" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "deploy_package_obj" ASCENDING 
  INDEX-FIELD "originating_site_number" ASCENDING 
  INDEX-FIELD "deployment_number" ASCENDING 

ADD INDEX "XIE1gst_deployment" ON "gst_deployment" 
  AREA "Schema Area"
  INDEX-FIELD "load_after_deployment_obj" ASCENDING 

ADD TABLE "gst_error_log"
  AREA "Schema Area"
  DESCRIPTION "This table holds a list of errors generated either from business logic or user interface code.

The table will be periodically archived to ensure it does not get too huge.

The data in the table will be fed direct from the user interface, and periodically fed by the business logic error file which will be a flat file due to the fact that we cannot write direct to this table as the write would form part of the transaction being undone.."
  DUMP-NAME "gster"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gstertrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gstertrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gstertrigw.p" CRC "?" 

ADD FIELD "error_log_obj" OF "gst_error_log" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Error log obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Error log obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "business_logic_error" OF "gst_error_log" AS logical 
  DESCRIPTION "If set to YES, this error was created by a business logic routine. If set to NO, the error originated from a user interface routine."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Business logic error"
  POSITION 3
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Business logic error"
  ORDER 20

ADD FIELD "error_group" OF "gst_error_log" AS character 
  DESCRIPTION "A group code for this error, e.g. the application could be used e.g. RV for ICF Repository Version"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Error group"
  POSITION 4
  MAX-WIDTH 6
  VALMSG "s_mnemonic"
  HELP "Error group"
  ORDER 30

ADD FIELD "error_number" OF "gst_error_log" AS integer 
  DESCRIPTION "A unique number within error group to identify the error."
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Error number"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Error number"
  ORDER 40

ADD FIELD "error_message" OF "gst_error_log" AS character 
  DESCRIPTION "The actual text of the error message, complete with insertion codes expanded."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Error message"
  POSITION 6
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Error message"
  ORDER 50

ADD FIELD "user_obj" OF "gst_error_log" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User obj"
  DECIMALS 9
  ORDER 60

ADD FIELD "error_date" OF "gst_error_log" AS date 
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Error date"
  POSITION 8
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Error date"
  ORDER 70

ADD FIELD "error_time" OF "gst_error_log" AS integer 
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Error time"
  POSITION 9
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Error time"
  ORDER 80

ADD FIELD "error_in_program" OF "gst_error_log" AS character 
  DESCRIPTION "The program name the error occurred in / was raised in."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Error in program"
  POSITION 10
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Error in program"
  ORDER 90

ADD FIELD "owning_entity_mnemonic" OF "gst_error_log" AS character 
  DESCRIPTION "The entity mnemonic of the entity that generated this error log record. This could either point at the audit table, or the actual table that is in error."
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Owning entity"
  POSITION 11
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Owning entity"
  ORDER 100

ADD FIELD "owning_obj" OF "gst_error_log" AS decimal 
  DESCRIPTION "The object number of the entity that generated this error log record. This could either point at the audit table record, or the actual table record that is in error."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Owning obj"
  POSITION 12
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Owning obj"
  DECIMALS 9
  ORDER 110

ADD INDEX "XPKgst_error_log" ON "gst_error_log" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "error_log_obj" ASCENDING 

ADD INDEX "XAK1gst_error_log" ON "gst_error_log" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "error_group" ASCENDING 
  INDEX-FIELD "error_number" ASCENDING 
  INDEX-FIELD "error_log_obj" ASCENDING 

ADD INDEX "XIE1gst_error_log" ON "gst_error_log" 
  AREA "Schema Area"
  INDEX-FIELD "error_date" ASCENDING 
  INDEX-FIELD "error_time" ASCENDING 

ADD INDEX "XIE2gst_error_log" ON "gst_error_log" 
  AREA "Schema Area"
  INDEX-FIELD "error_in_program" ASCENDING 
  INDEX-FIELD "error_date" ASCENDING 
  INDEX-FIELD "error_time" ASCENDING 

ADD TABLE "gst_extract_log"
  AREA "Schema Area"
  DESCRIPTION "Each time a data extract report is run, an entry is created in this file. The main intention is to track the completion of extract procedures so that report formatting procedures can be initiated where required.

In the event that an extract log record is deleted, then any document produced records associated with the extract should be cascade deleted, providing that the print date has not been set - in order to tidy up the data."
  DUMP-NAME "gstel"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gsteltrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gsteltrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gsteltrigw.p" CRC "?" 

ADD FIELD "extract_log_obj" OF "gst_extract_log" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Extract log obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Extract log obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "data_file_name" OF "gst_extract_log" AS character 
  DESCRIPTION "The name of the data file created. This will be created using date and time information, and will reside in a user defined spool directory defined in the gsc_global_default table.

Some reports require multiple data files, in which case this will be a comma separated list of data file names."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Data file name"
  POSITION 3
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Data file name"
  ORDER 20

ADD FIELD "extract_sequence" OF "gst_extract_log" AS integer 
  DESCRIPTION "This should be printed on the report so that it can be recognised that a report is missing. It is taken from the next_extract_sequence on the report definition table
"
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Extract sequence"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_sequence"
  HELP "Extract sequence"
  ORDER 30

ADD FIELD "destination" OF "gst_extract_log" AS character 
  DESCRIPTION "The printer destination. If blank will go to the default printer."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Destination"
  POSITION 5
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Destination"
  ORDER 40

ADD FIELD "form_type" OF "gst_extract_log" AS character 
  DESCRIPTION "The form type if required and different to the default."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Form type"
  POSITION 6
  MAX-WIDTH 20
  VALMSG "s_string_10"
  HELP "Form type"
  ORDER 50

ADD FIELD "priority" OF "gst_extract_log" AS integer 
  DESCRIPTION "The priority of the job"
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Priority"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Priority"
  ORDER 60

ADD FIELD "copies_to_print" OF "gst_extract_log" AS integer 
  DESCRIPTION "The number of copies to print this time, defaulted from the report definition"
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Copies to print"
  POSITION 8
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Copies to print"
  ORDER 70

ADD FIELD "print_automatically" OF "gst_extract_log" AS logical 
  DESCRIPTION "Should the print procedure be initiated automatically when the extract completes."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Print automatically"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Print automatically"
  ORDER 80

ADD FIELD "created_on_date" OF "gst_extract_log" AS date 
  DESCRIPTION "The date the extract was run."
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Created on date"
  POSITION 10
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Created on date"
  ORDER 90

ADD FIELD "created_at_time" OF "gst_extract_log" AS integer 
  DESCRIPTION "The timethe extract was run."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Created at time"
  POSITION 11
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Created at time"
  ORDER 100

ADD FIELD "printed_date" OF "gst_extract_log" AS date 
  DESCRIPTION "The date the report was first printed."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Printed date"
  POSITION 12
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Printed date"
  ORDER 110

ADD FIELD "printed_time" OF "gst_extract_log" AS integer 
  DESCRIPTION "The time the report was first printed."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Printed time"
  POSITION 13
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Printed time"
  ORDER 120

ADD FIELD "last_printed_date" OF "gst_extract_log" AS date 
  DESCRIPTION "The date the report was last printed from this extracted data. If different to the printed date then it is a reprint."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Last printed date"
  POSITION 14
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Last printed date"
  ORDER 130

ADD FIELD "last_printed_time" OF "gst_extract_log" AS integer 
  DESCRIPTION "The time the report was last printed from this extracted data. If different to the printed time then it is a reprint."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Last printed time"
  POSITION 15
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Last printed time"
  ORDER 140

ADD FIELD "delete_on_date" OF "gst_extract_log" AS date 
  DESCRIPTION "The date after which this report data should be deleted by an automatc archive program. This will be set automatically based on the creation date and the days to retain as set-up on the report definition table."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Delete on date"
  POSITION 16
  MAX-WIDTH 4
  VALMSG "d_end_date"
  HELP "Delete on date"
  ORDER 150

ADD FIELD "report_definition_obj" OF "gst_extract_log" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Report definition obj"
  POSITION 17
  MAX-WIDTH 15
  VALMSG "o_obj"
  HELP "Report definition obj"
  ORDER 160

ADD FIELD "user_obj" OF "gst_extract_log" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User obj"
  POSITION 18
  MAX-WIDTH 15
  VALMSG "o_obj"
  HELP "User obj"
  ORDER 170

ADD FIELD "batch_job_obj" OF "gst_extract_log" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Batch job obj"
  POSITION 19
  MAX-WIDTH 15
  VALMSG "o_obj"
  HELP "Batch job obj"
  ORDER 180

ADD FIELD "extract_log_password" OF "gst_extract_log" AS character 
  DESCRIPTION "The use of an extract log password is optional dependant on the report definition settings. If an extract log password is specified, then the encoded value will be stored in this field.
The first time the report is printed from this extract log, the password will not be required. Subsequent reprints will not be permitted until the correct password is entered.
This prevents the unauthorised reprinting of reports from previously extracted data."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Extract log password"
  POSITION 20
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Extract log password"
  ORDER 190

ADD FIELD "data_file_encrypted" OF "gst_extract_log" AS logical 
  DESCRIPTION "If set to YES, then the text files containing the extracted data have been encrypted, and must be decrypted before being passed to the report tool, e.g. Crystal Reports.
The report definition settings determine whether the data files need to be encrypted.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Data file encrypted"
  POSITION 21
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Data file encrypted"
  ORDER 200

ADD FIELD "auto_delete_extract" OF "gst_extract_log" AS logical 
  DESCRIPTION "If set to YES, then this extract log and associated data files will be deleted after initial printing. The setting of this flag is dependnat on report definition options."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Auto delete extract"
  POSITION 22
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Auto delete extract"
  ORDER 210

ADD FIELD "extract_log_description" OF "gst_extract_log" AS character 
  DESCRIPTION "This is a free text narration for the extract log to help explain what the extracted data is. It will default to the report description but may be overridden. This field will help identify an extract to reprint."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Extract log description"
  POSITION 23
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Extract log description"
  ORDER 220

ADD INDEX "XPKgst_extract_log" ON "gst_extract_log" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "extract_log_obj" ASCENDING 

ADD INDEX "XIE1gst_extract_log" ON "gst_extract_log" 
  AREA "Schema Area"
  INDEX-FIELD "report_definition_obj" ASCENDING 
  INDEX-FIELD "created_on_date" ASCENDING 
  INDEX-FIELD "created_at_time" ASCENDING 

ADD INDEX "XIE2gst_extract_log" ON "gst_extract_log" 
  AREA "Schema Area"
  INDEX-FIELD "report_definition_obj" ASCENDING 
  INDEX-FIELD "printed_date" ASCENDING 
  INDEX-FIELD "printed_time" ASCENDING 

ADD INDEX "XIE3gst_extract_log" ON "gst_extract_log" 
  AREA "Schema Area"
  INDEX-FIELD "batch_job_obj" ASCENDING 
  INDEX-FIELD "created_on_date" ASCENDING 
  INDEX-FIELD "created_at_time" ASCENDING 

ADD INDEX "XIE4gst_extract_log" ON "gst_extract_log" 
  AREA "Schema Area"
  INDEX-FIELD "user_obj" ASCENDING 
  INDEX-FIELD "created_on_date" ASCENDING 
  INDEX-FIELD "created_at_time" ASCENDING 

ADD INDEX "XIE5gst_extract_log" ON "gst_extract_log" 
  AREA "Schema Area"
  INDEX-FIELD "delete_on_date" ASCENDING 

ADD TABLE "gst_password_history"
  AREA "Schema Area"
  DESCRIPTION "This table keeps a history of previous passwords used by users. It is used for audit purposes, and preventing users using the same password within a given time period, e.g. 1 year."
  DUMP-NAME "gstph"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gstphtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gstphtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gstphtrigw.p" CRC "?" 

ADD FIELD "password_history_obj" OF "gst_password_history" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Password history obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Password history obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "user_obj" OF "gst_password_history" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "old_password" OF "gst_password_history" AS character 
  DESCRIPTION "The old password prior to the change - encrypted."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Old password"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Old password"
  ORDER 30

ADD FIELD "password_change_date" OF "gst_password_history" AS date 
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Password change date"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Password change date"
  ORDER 40

ADD FIELD "password_change_time" OF "gst_password_history" AS integer 
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Password change time"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Password change time"
  ORDER 50

ADD FIELD "changed_by_user_obj" OF "gst_password_history" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Changed by user obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Changed by user obj"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKgst_password_history" ON "gst_password_history" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "password_history_obj" ASCENDING 

ADD INDEX "XAK1gst_password_history" ON "gst_password_history" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "user_obj" ASCENDING 
  INDEX-FIELD "old_password" ASCENDING 
  INDEX-FIELD "password_change_date" ASCENDING 
  INDEX-FIELD "password_change_time" ASCENDING 

ADD INDEX "XIE1gst_password_history" ON "gst_password_history" 
  AREA "Schema Area"
  INDEX-FIELD "user_obj" ASCENDING 
  INDEX-FIELD "password_change_date" ASCENDING 
  INDEX-FIELD "password_change_time" ASCENDING 

ADD TABLE "gst_record_version"
  AREA "Schema Area"
  DESCRIPTION "This table provides the means for identifying when static data is changed and needs to be deployed. 

When an item of data on a record changes, the replication trigger on the table will check if the version_data flag on the gsc_entity_mnemonic table is switched on. 

If the flag is on, either a record is written to this table or an existing record in the table is updated to indicate that the data has changed by incrementing the version_number_seq and resetting date, time and user. 

This table is checked every time the deployment data is written to ensure that all data that matches the deployment criteria is written out.

Basically any records with a version_number_seq greater than 0 has been changed locally and potentially needs to be deployed. Once an import is done for a record, the version_number_seq is set back to 0 indicating the data matches that since the last import and has not been modified since.

When importing data, the import_version_number_seq is used as a validity check and if this number does not match the import_version_number_seq of the data being imported or the current version_number_seq does not match, there is a potential conflict.
"
  DUMP-NAME "gstrv"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gstrvtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gstrvtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gstrvtrigw.p" CRC "?" 

ADD FIELD "record_version_obj" OF "gst_record_version" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Record version obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Record version obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "entity_mnemonic" OF "gst_record_version" AS character 
  DESCRIPTION "The code allocated to every table in the database that uniquely identifies the database table. This code is used when generically joining to tables, as the basis for naming conventions (e.g. a prefix to all objects that maintain this table), etc.

This code is usually stored in the dump name of the table.
"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Entity"
  ORDER 20

ADD FIELD "key_field_value" OF "gst_record_version" AS character 
  DESCRIPTION "This is the key field value of the record in the table identified by the entity mnemonic and dbname.

The contents of this field are defined by the gsc_entity_mnemonic table and will contain the object field if specified otherwise the key field.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Key field value"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Key field value"
  ORDER 30

ADD FIELD "version_number_seq" OF "gst_record_version" AS decimal 
  DESCRIPTION "This is the current version number of the record in this repository - if it has changed. If it has not changed, it will be left at 0. Therefore, any records in this table with a current version number greater than 0 have changed since last imported and potentially need to be deployed.

When importing new records, providing there are no conflicts, the import version number will be set appropriately and the current version number set back to 0.

Every time the data related to the record specified in the key_field_value field changes, this number is set to the last_version_number_seq plus 1 and the last_version_number_seq is reset to this new number.

The version number consists of an incremented counter in the integer portion and the repository site number in the mantissa portion, ensuring the numbers never conflict worldwide. This is the same principal as the object ids.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Version number seq"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Version number seq"
  DECIMALS 9
  ORDER 40

ADD FIELD "version_date" OF "gst_record_version" AS date 
  DESCRIPTION "The date this record was last updated. If imported, this will be set to the date the original change was made at the originating site, not the import date."
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Version date"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Version date"
  ORDER 50

ADD FIELD "version_time" OF "gst_record_version" AS integer 
  DESCRIPTION "The time this record was last updated. If imported, this will be set to the time the original change was made at the originating site, not the import time."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Version time"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Version time"
  ORDER 60

ADD FIELD "version_user" OF "gst_record_version" AS character 
  DESCRIPTION "This field indicates which user created this version of the data if known. This user may not exist in the current repository in the event that the data was imported from some external source."
  FORMAT "X(20)"
  INITIAL ""
  LABEL "Version user"
  POSITION 8
  MAX-WIDTH 40
  VALMSG "s_string_20"
  HELP "Version user"
  ORDER 70

ADD FIELD "deletion_flag" OF "gst_record_version" AS logical 
  DESCRIPTION "If set to yes, this field indicates that the last action against the record resulted in a deletion."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Deletion flag"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Deletion flag"
  ORDER 80

ADD FIELD "import_version_number_seq" OF "gst_record_version" AS decimal 
  DESCRIPTION "This is the version number of the record as imported from the last dataset import. If we initially created the record, then this will be 0.

The version number consists of an incremented counter in the integer portion and the repository site number in the mantissa portion, ensuring the numbers never conflict worldwide. This is the same principal as the object ids.

When importing new data from a dataset, if the import version number matches the import version number of the data being imported, then there is no conflict. If these numbers do not match, then there is a potential issue of losing data changes made by somebody else and the conflict must be resolved manually.

"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Import version number seq"
  POSITION 10
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Import version number seq"
  DECIMALS 9
  ORDER 90

ADD FIELD "last_version_number_seq" OF "gst_record_version" AS decimal 
  DESCRIPTION "This field stores the last version number used for this key field value. When assigning a new key field value, the version_number_seq field will be set to this field plus 1. The reason we need this field is because the version_number_seq field is reset to 0 after an import (maybe from a different site with different numbers) and we do not want to reuse previously used numbers the next time  a change is made."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Last version number seq"
  POSITION 11
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Last version number seq"
  DECIMALS 9
  ORDER 100

ADD FIELD "secondary_key_value" OF "gst_record_version" AS character 
  DESCRIPTION "This will be a character field and will supplement the key_field_value. If the key_field_value contains an object id field, then this new field will contain the other unique key information for the table, otherwise it will be blank.
This will mean that where object ids are used for keys, we will also store some other unique key information about the table if available, that would have been used as an alternative by the deployment procedures to locate the record. For example, in the case of the ryc_smartobject table, the key_field_value will contain the smartobject_obj and the secondary_key_value will contain the actual object name.
We cannot make this field unique as it may not always be used, but it will be indexed together with the entity mnemonic. If the field is used for an entity, then code will prevent duplicate alternate key values as this should never occur due to the new data resurrection functionality this facilitates.
Triggers for master tables will check the gst_record_version table where the secondary field is used and see if a new record is being created with a previously used key value, and if so, will change the object id to match the previously used object id. This will ensure when resurrecting old data that the object id is never modified, and help prevent data conflicts when deploying data.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Secondary key value"
  POSITION 12
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Secondary key value"
  ORDER 110

ADD INDEX "XPKgst_record_version" ON "gst_record_version" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "record_version_obj" ASCENDING 

ADD INDEX "XAK1gst_record_version" ON "gst_record_version" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "entity_mnemonic" ASCENDING 
  INDEX-FIELD "key_field_value" ASCENDING 

ADD INDEX "XIE1gst_record_version" ON "gst_record_version" 
  AREA "Schema Area"
  INDEX-FIELD "key_field_value" ASCENDING 

ADD INDEX "XIE3gst_record_version" ON "gst_record_version" 
  AREA "Schema Area"
  INDEX-FIELD "entity_mnemonic" ASCENDING 
  INDEX-FIELD "version_date" ASCENDING 
  INDEX-FIELD "version_time" ASCENDING 

ADD INDEX "XIE4gst_record_version" ON "gst_record_version" 
  AREA "Schema Area"
  INDEX-FIELD "entity_mnemonic" ASCENDING 
  INDEX-FIELD "version_number_seq" ASCENDING 

ADD INDEX "XIE5gst_record_version" ON "gst_record_version" 
  AREA "Schema Area"
  INDEX-FIELD "version_number_seq" ASCENDING 

ADD INDEX "XIE6gst_record_version" ON "gst_record_version" 
  AREA "Schema Area"
  INDEX-FIELD "entity_mnemonic" ASCENDING 
  INDEX-FIELD "version_number_seq" ASCENDING 
  INDEX-FIELD "import_version_number_seq" ASCENDING 

ADD INDEX "XIE7gst_record_version" ON "gst_record_version" 
  AREA "Schema Area"
  INDEX-FIELD "entity_mnemonic" ASCENDING 
  INDEX-FIELD "secondary_key_value" ASCENDING 

ADD TABLE "gst_release_version"
  AREA "Schema Area"
  DESCRIPTION "This table records the record versions that make up a release. 

When creating a new release, a gst_release_version record must be created for every gst_record_version, marking the current version number of all data as of this release.

This can then be used to determine what data needs to be deployed between releases, i.e. what data has been modified between the releases by checking for matching version numbers in the gst_release_version table.
"
  DUMP-NAME "gstrl"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gstrltrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gstrltrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/gstrlreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/gstrlrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/gstrlreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gstrltrigw.p" CRC "?" 

ADD FIELD "release_version_obj" OF "gst_release_version" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Release version obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Release version obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "release_obj" OF "gst_release_version" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Release obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Release obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "record_version_obj" OF "gst_release_version" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Record version obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Record version obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "version_number_seq" OF "gst_release_version" AS decimal 
  DESCRIPTION "This is the current version number of the record in this repository as of the release. It is copied from the gst_record_version table when the release is created."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Version number seq"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Version number seq"
  DECIMALS 9
  ORDER 40

ADD FIELD "import_version_number_seq" OF "gst_release_version" AS decimal 
  DESCRIPTION "This is the current import version number of the record in this repository as of the release. It is copied from the gst_record_version table when the release is created."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Import version number seq"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Import version number seq"
  DECIMALS 9
  ORDER 50

ADD FIELD "deletion_flag" OF "gst_release_version" AS logical 
  DESCRIPTION "This is the current delete flag of the record in this repository as of the release. It is copied from the gst_record_version table when the release is created. If set to yes, this field indicates that the last action against the record resulted in a deletion in the release.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Deletion flag"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Deletion flag"
  ORDER 60

ADD INDEX "XPKgst_release_version" ON "gst_release_version" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "release_version_obj" ASCENDING 

ADD INDEX "XAK1gst_release_version" ON "gst_release_version" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "release_obj" ASCENDING 
  INDEX-FIELD "record_version_obj" ASCENDING 

ADD TABLE "gst_session"
  AREA "Schema Area"
  DESCRIPTION "This table records a session and is only applicable for the duration of a session. Its purpose is to be able to record session activity and manage the context for the session in the child table gsm_server_context. The session id field from gsm_server_context has transferred to this table, so it only exists in one place for the session, and the object id for the session record is rather carried down onto the individual context records. This facilitates efficiently fixing the context id in the event a session is dropped and reconnected, thereby restoring context for the new session from the old session. For the Appserver, a record will be created in this table at connection time and checked / updated in the activate procedure.
This table must not have a write trigger so that it can be updated as efficiently as possible.
The information in this table is all client related, and in the case of a WebSpeed Agent, the agent is also the client.
"
  DUMP-NAME "gstss"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/gstsstrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/gstsstrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/gstsstrigw.p" CRC "?" 

ADD FIELD "session_obj" OF "gst_session" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "session_id" OF "gst_session" AS character 
  DESCRIPTION "The actual session id, which is the server connection id for WebClient or a sequence for WebSpeed, but is always a unique id. This field should be in a unique index on its own. In the event of a connection failure, the client will be able to re-establish its connection by providing the existing connection id in the AppServer CONNECT method.

The session id is unique."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Session id"
  POSITION 3
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Session id"
  ORDER 20

ADD FIELD "session_type_obj" OF "gst_session" AS decimal 
  DESCRIPTION "This is a mandatory join from gsm_session_type and identifies the session type for the client session we are storing context for. For WebSpeed the server is the client."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Session type obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Session type obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "user_obj" OF "gst_session" AS decimal 
  DESCRIPTION "This is an optional join to the user to store the user for the session if known."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "User obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "User obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "session_creation_date" OF "gst_session" AS date 
  DESCRIPTION "The date the session was created"
  FORMAT "99/99/9999"
  INITIAL "TODAY"
  LABEL "Session creation date"
  POSITION 6
  MAX-WIDTH 4
  VALMSG "d_date_today"
  HELP "Session creation date"
  ORDER 50

ADD FIELD "session_creation_time" OF "gst_session" AS integer 
  DESCRIPTION "The time the session was created"
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Session creation time"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Session creation time"
  ORDER 60

ADD FIELD "last_access_date" OF "gst_session" AS date 
  DESCRIPTION "The date the session was last accessed. This field will be updated either via the request manager for the WEB or via the activate procedure for the Appserver. It is not supported for client/server."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Last access date"
  POSITION 8
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Last access date"
  ORDER 70

ADD FIELD "last_access_time" OF "gst_session" AS integer 
  DESCRIPTION "The time the session was last accessed. This field will be updated either via the request manager for the WEB or via the activate procedure for the Appserver. It is not supported for client/server."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Last access time"
  POSITION 9
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Last access time"
  ORDER 80

ADD FIELD "client_date_format" OF "gst_session" AS character 
  DESCRIPTION "This field stores the session date format for the client, which is typically dmy or ymd.

This will be set as part of the client connection when the session record is created, and will be used in the appserver activate procedure to reset the server to match the client date format for the duration of the call.

This assumes that no cached information on the server exists with dates stored as strings. All cached information must be stored in native data type format.
"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Client date format"
  POSITION 10
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Client date format"
  ORDER 90

ADD FIELD "client_numeric_format" OF "gst_session" AS character 
  DESCRIPTION "This field stores the session numeric format for the client. It is a character string consisting of the thousands separator followed by the decimal point. We will use set-numeric-format with this value to fix the thousand seperator and decimal point.

This will be set as part of the client connection when the session record is created, and will be used in the appserver activate procedure to reset the server to match the client numeric format for the duration of the call.

This assumes that no cached information on the server exists with numbers stored as strings. All cached information must be stored in native data type format.
"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Client numeric format"
  POSITION 11
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Client numeric format"
  ORDER 100

ADD FIELD "year_offset" OF "gst_session" AS integer 
  DESCRIPTION "This field stores the session year offset for the client.

The year offset field will map directly to the 4GL YEAR-OFFSET attribute which represents the start date for the Progress two-digit year-range of 100 years. Typical values are 1920 or 1950. The default value should be 1950 if not specified.

This will be set as part of the client connection when the session record is created, and will be used in the appserver activate procedure to reset the server to match the client year offset for the duration of the call.
"
  FORMAT "->>>9"
  INITIAL "0"
  LABEL "Year offset"
  POSITION 12
  MAX-WIDTH 4
  VALMSG "n_year"
  HELP "Year offset"
  ORDER 110

ADD FIELD "session_complete" OF "gst_session" AS logical 
  DESCRIPTION "This is a flag, default value is NO.

Once a session is complete or expired, this flag is set to YES to indicate that the garbage collector can delete this record and all the context data associated with it.

This flag overrides the transaction_complete flag on the gst_context_scope if set to YES.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Session complete"
  POSITION 13
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Session complete"
  ORDER 120

ADD FIELD "default_context_scope_obj" OF "gst_session" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Default context scope obj"
  POSITION 14
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Default context scope obj"
  DECIMALS 9
  ORDER 130

ADD FIELD "render_type_obj" OF "gst_session" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Render type obj"
  POSITION 15
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Render type obj"
  DECIMALS 9
  ORDER 140

ADD INDEX "XPKgst_session" ON "gst_session" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "session_obj" ASCENDING 

ADD INDEX "XAK1gst_session" ON "gst_session" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "session_id" ASCENDING 

ADD INDEX "XIE1gst_session" ON "gst_session" 
  AREA "Schema Area"
  INDEX-FIELD "session_type_obj" ASCENDING 

ADD INDEX "XIE2gst_session" ON "gst_session" 
  AREA "Schema Area"
  INDEX-FIELD "user_obj" ASCENDING 

ADD INDEX "XIE3gst_session" ON "gst_session" 
  AREA "Schema Area"
  INDEX-FIELD "last_access_date" ASCENDING 
  INDEX-FIELD "last_access_time" ASCENDING 

ADD INDEX "XIE5gst_session" ON "gst_session" 
  AREA "Schema Area"
  INDEX-FIELD "session_complete" ASCENDING 

ADD INDEX "XIE6gst_session" ON "gst_session" 
  AREA "Schema Area"
  INDEX-FIELD "default_context_scope_obj" ASCENDING 

ADD INDEX "XIE7gst_session" ON "gst_session" 
  AREA "Schema Area"
  INDEX-FIELD "render_type_obj" ASCENDING 

ADD TABLE "ryc_attribute"
  AREA "Schema Area"
  DESCRIPTION "This table defines the attributes that may be allocated to objects, e.g. size, position, window title, query, where clause, etc. They are used to defined the properties of dynamic objects, plus to dynamically alter the behaviour of static objects.

Certain attributes are required for the application to function correctly and these will be set to system owned to prevent accidental deletion. Only users that are classified as able to maintain system owned information may manipulate this data. In many (most) cases, the actual attribute label will need to match to a valid Progress supported attribute.

Due to the powerful feature of allowing attributes to be defined at various levels, most dynamic data about smartobjects will utilise attributes.

Example areas that we will utilise attributes for include browser query, sort order and where clauses, container window titles, which window to run based on various button actions in a browser, e.g. add, modify, view, etc., status bar configuration, page enabling and disabling, field enabling and disabling by object instance, whether toolbar items are included in the menu, etc.
"
  DUMP-NAME "rycat"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycattrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycattrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycatreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycatrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycatreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycattrigw.p" CRC "?" 

ADD FIELD "attribute_label" OF "ryc_attribute" AS character 
  DESCRIPTION "This is the name of the attribute. In many cases this will reflect the actual Progress name for the attribute."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Attribute label"
  POSITION 2
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Attribute label"
  ORDER 10

ADD FIELD "attribute_group_obj" OF "ryc_attribute" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Attribute group obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Attribute group obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "data_type" OF "ryc_attribute" AS integer 
  DESCRIPTION "This is an integer field (for performance reasons) to represent the data type of the attribute. The valid values are as follows:

1  Character
2  Date
3  Logical
4  Integer
5  Decimal
7  Recid
8  Raw
9  Rowid
10 Handle
11 Memptr
14 Com-handle
"
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Data type"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Data type"
  ORDER 30

ADD FIELD "attribute_narrative" OF "ryc_attribute" AS character 
  DESCRIPTION "This is a full description of the purpose and use of the attribute."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Attribute narrative"
  POSITION 5
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Attribute narrative"
  ORDER 40

ADD FIELD "override_type" OF "ryc_attribute" AS character 
  DESCRIPTION "This is a character field that will default to blank indicating that specific get and set functions are not required and the property value can be stored and retrieved from the admprop's field ADM-DATA.

Other values this field can take are 'get' indicating the get function can be overridden, 'set' indicating the set function can be overridden, or 'get,set' indicating either the get or the set function can be overridden. If this field has a value, then the functions to get and/or set this property need to physically exist and be used and overrideable, to allow them to contain additionally logic beyond simply retrieving the value from ADM-DATA. This is the equivalent of defining the xp preprocessors in the ADM but is more flexible in that it differentiates between get and set.

It is the set calls that are most expensive at startup, so this is an important field.

Note that in code when checking this value, a CAN-FIND should be used to ensure the order of the get,set is irrelevant.
"
  FORMAT "X(3000)"
  INITIAL ""
  LABEL "Override type"
  POSITION 6
  MAX-WIDTH 6000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL LARGE MAX-CHARS 3000"
  VALMSG "s_comma_separated_list"
  HELP "Override type"
  ORDER 50

ADD FIELD "runtime_only" OF "ryc_attribute" AS logical 
  DESCRIPTION "This is a logical field that will default to NO. If set to YES, then the value of this property should not be stored in the repository and is only required to be added to the property temp-table at runtime. An example would be a property that stored a handle, as the handle has no context outside of the current session, but still needs to form part of the valid attribute list."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Runtime only"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Runtime only"
  ORDER 60

ADD FIELD "is_private" OF "ryc_attribute" AS logical 
  DESCRIPTION "A new field called is_private needs to be added to the ryc_attribute table. This is a logical field that will default to NO. If set to YES, then the value of this attribute is not intended to be accessed outside of the class where it is defined."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Is private"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Is private"
  ORDER 70

ADD FIELD "constant_level" OF "ryc_attribute" AS character 
  DESCRIPTION "This is a character field and identifies the level at which a property can be modified. The values for this are 'class' indicating it may only be specified at the class level, 'master' indicating the value may be modified at the master level, and blank indicating there are no restrictions over the modification of this property.
There is also a constant field on the attribute value table that is a logical indicating whether further modifications are allowed to the property. This field will therefore affect how the constant flag is set on the attribute value table.
"
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Constant level"
  POSITION 9
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Constant level"
  ORDER 80

ADD FIELD "derived_value" OF "ryc_attribute" AS logical 
  DESCRIPTION "This is a logical field that will default to NO. 
This is set to YES to indicate that the property value is derived from other properties or other run time information and doesn't need to be defined in the attribute temp-table or stored in the repository.
One might possibly achieve the same effect by just removing the property altogether, but it seems safer to keep it, in particular if this is a change from a previous version. It is probably also valuable for documentation purposes or for example if other repository constructs need to reference to it.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Derived value"
  POSITION 10
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Derived value"
  ORDER 90

ADD FIELD "lookup_type" OF "ryc_attribute" AS character 
  DESCRIPTION "This defines the supported ways (if any) to validate the attribute value for a specific object type. It will be used in the property sheet to determine whether to overlay a combo-box, a lookup button or nothing  on the attribute value field. Possible values are:
LIST
The lookup_field will contain a list-item-pairs of possible attribute values.  In the property sheet, a combo-box containing these values will overlay the attribute value field.
DIALOG
The lookup_field will contain the relative path and filename of a dialog container. In the property sheet, a lookup button will overlay the attribute value field. Upon pressing the button, the specified dialog is launched.
DIALOG-R
This is like the dialog option, but makes the attribute value field read-only forcing the use of the dialog. This is necessary for dialogs that would return delimited lists that you would not want users to manually enter.
PROC	
The lookup_field will contain the relative path and filename of a procedure. The return-value of the procedure will contain a string of the list-item-pairs used to populate the combo-box that overlays the attribute value field in the property sheet.
""""	
Blank indicates free text entry.
"
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Lookup type"
  POSITION 11
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Lookup type"
  ORDER 100

ADD FIELD "lookup_value" OF "ryc_attribute" AS character 
  DESCRIPTION "This field can be used to specify a list of discrete values allowed for this attribute, or it can specify a procedure call that returns a list of values, or it can specify the name of a dialog. When it contains a list, the delimiter should be CHR(3) rather than a comma.
1. This field will be blank if the lookup_type is blank.
2. If field lookup_type = 'LIST'
This specifies the LIST-ITEM-PAIRS values. That is a delimited list of labels and values in the form: ""label1,value1,labe2,value2,...""
3. If field lookup_type = 'DIALOG'
This specifies the relative path and file name of the dialog that is run from the property sheet. All Dialogs must return two OUTPUT parameters, One logical indicating whether the property was changed, and one string output parameter containing the value.  
i.e. RUN colorChooser.w (OUTPUT lOK, OUTPUT cValue)
 
4. If field lookup_type = PROC'
This specifies the relative path and file name of an external procedure that is run from the property sheet at initialization and returns a delimited list of list-item-pairs.
"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Lookup value"
  POSITION 12
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Lookup value"
  ORDER 110

ADD FIELD "design_only" OF "ryc_attribute" AS logical 
  DESCRIPTION "If this is set to YES, then this attribute is only modifiable at design time, not at run time. The default is NO."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Design only"
  POSITION 13
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Design only"
  ORDER 120

ADD FIELD "system_owned" OF "ryc_attribute" AS logical 
  DESCRIPTION "If set to YES, this attribute may only be modified by users with a system owned flag.

Certain attributes are required for the application to function correctly and these will be set to system owned to prevent accidental deletion. Only users that are classified as able to maintain system owned information may manipulate this data. In many cases, the actual attribute label will need to match to a valid Progress supported attribute."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 14
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 130

ADD FIELD "attribute_obj" OF "ryc_attribute" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Attribute obj"
  POSITION 15
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Attribute obj"
  DECIMALS 9
  ORDER 140

ADD INDEX "XPKryc_attribute" ON "ryc_attribute" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "attribute_label" ASCENDING 

ADD INDEX "XAK1ryc_attribute" ON "ryc_attribute" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "attribute_group_obj" ASCENDING 
  INDEX-FIELD "attribute_label" ASCENDING 

ADD INDEX "XIE2ryc_attribute" ON "ryc_attribute" 
  AREA "Schema Area"
  INDEX-FIELD "attribute_obj" ASCENDING 

ADD TABLE "ryc_attribute_group"
  AREA "Schema Area"
  DESCRIPTION "This table facilitates the logical grouping of attributes to simplify their use, e.g. geometry, statusbar, etc. The primary use of this table is make the presentation of the attributes to the user more effective and usable. It is likely we could use a tree view, with attribute groups as a node and pressing plus on the group, showing all attributes within that group.

The attribute group is therefore for design time only and serves no purpose at runtime.
"
  DUMP-NAME "rycap"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycaptrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycaptrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycapreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycaprepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycapreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycaptrigw.p" CRC "?" 

ADD FIELD "attribute_group_obj" OF "ryc_attribute_group" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Attribute group obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Attribute group obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "attribute_group_name" OF "ryc_attribute_group" AS character 
  DESCRIPTION "This is a name to uniquely identify the group of attributes, e.g. geometry, statusbar, etc."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Attribute group name"
  POSITION 3
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Attribute group name"
  ORDER 20

ADD FIELD "attribute_group_narrative" OF "ryc_attribute_group" AS character 
  DESCRIPTION "A full description of the attribute group explaining the purpose of its contents."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Attribute group narrative"
  POSITION 4
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Attribute group narrative"
  ORDER 30

ADD INDEX "XPKryc_attribute_group" ON "ryc_attribute_group" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "attribute_group_obj" ASCENDING 

ADD INDEX "XAK1ryc_attribute_group" ON "ryc_attribute_group" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "attribute_group_name" ASCENDING 

ADD TABLE "ryc_attribute_value"
  AREA "Schema Area"
  DESCRIPTION "This entity associates attributes with object types, smartobjects, and smartobject instances, and specifies the value of the attribute in the appropriate native data type or character if a native data type is not available for the data type.

The list of attribute values defined for the object type (class) must be complete, and unless an attribute is defined at the class level, it will not be available to be set within a subclass. Attribute values are not cascaded down to subclassess and entries will only exist at subclass levels for overrides. To read all the attribute values for an object, attributes for parent classes must also be read.

Records will then only exist for subclassess in the event the value has been specifically overridden for that subclass.

When creating entries in this table for attributes associated with an object type, then the smart object and instance will be 0.

When creating entries in the table for a smartobject, we will also populate the object type field to avoid having 0 in the key. Likewise when creating attributes for an object instance, we will populate the object type and the smartobject. This ensures effective use of the alternate keys.

Note: We must be careful when looking for attributes associated with an object type to ensure we look for the specific object type and 0 values for the smartobject and instance fields.

Where multiple rendering engines are supported and used, the render type object id adds another dimension to the possible attribute values.

It is possible to specify a specific rendering engine type for attributes at the class, master and instance levels. If an attribute is specified at the class level for a specific rendering engine type, and not for a 0 rendering engine type, then that attribute will only ever be used for the specific rendering engine type and will not apply across all rendering engines.
"
  DUMP-NAME "rycav"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycavtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycavtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycavreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycavrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycavreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycavtrigw.p" CRC "?" 

ADD FIELD "attribute_value_obj" OF "ryc_attribute_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Attribute value obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Attribute value obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "object_type_obj" OF "ryc_attribute_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object type obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object type obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "container_smartobject_obj" OF "ryc_attribute_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Container smartobject obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Container smartobject obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "smartobject_obj" OF "ryc_attribute_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Smartobject obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Smartobject obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "object_instance_obj" OF "ryc_attribute_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object instance obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object instance obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "constant_value" OF "ryc_attribute_value" AS logical 
  DESCRIPTION "If set to YES, this value cannot be modified in any subclass. 

For example, if the constant value is set to YES on an attribute value for an object type, then the value may not be modified for an object master or instance based on this class.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Constant value"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Constant value"
  ORDER 60

ADD FIELD "attribute_label" OF "ryc_attribute_value" AS character 
  DESCRIPTION "This is the name of the attribute. In many cases this will reflect the actual Progress name for the attribute."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Attribute label"
  POSITION 8
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Attribute label"
  ORDER 70

ADD FIELD "character_value" OF "ryc_attribute_value" AS character 
  DESCRIPTION "Attribute values are stored in their native data type, therefore when the data type of the attribute value is character, this field is used to store the actual value.

The appropriate value field to use is determined by the data_type field on the ryc_attribute table.

In the event a specific field is not available for the native data type, then the attribute value will be stored in this character_value field.


"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Character value"
  POSITION 9
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Character value"
  ORDER 80

ADD FIELD "integer_value" OF "ryc_attribute_value" AS integer 
  DESCRIPTION "Attribute values are stored in their native data type, therefore when the data type of the attribute value is integer, this field is used to store the actual value.

The appropriate value field to use is determined by the data_type field on the ryc_attribute table.
"
  FORMAT "->>>>>>>9"
  INITIAL "0"
  LABEL "Integer value"
  POSITION 10
  MAX-WIDTH 4
  VALMSG "n_integer_8"
  HELP "Integer value"
  ORDER 90

ADD FIELD "date_value" OF "ryc_attribute_value" AS date 
  DESCRIPTION "Attribute values are stored in their native data type, therefore when the data type of the attribute value is date, this field is used to store the actual value.

The appropriate value field to use is determined by the data_type field on the ryc_attribute table.
"
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Date value"
  POSITION 11
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Date value"
  ORDER 100

ADD FIELD "decimal_value" OF "ryc_attribute_value" AS decimal 
  DESCRIPTION "Attribute values are stored in their native data type, therefore when the data type of the attribute value is decimal, this field is used to store the actual value.

The appropriate value field to use is determined by the data_type field on the ryc_attribute table.
"
  FORMAT "->>>,>>>,>>>,>>9.99"
  INITIAL "0"
  LABEL "Decimal value"
  POSITION 12
  MAX-WIDTH 19
  VALMSG "n_decimal_4dp_large"
  HELP "Decimal value"
  DECIMALS 4
  ORDER 110

ADD FIELD "logical_value" OF "ryc_attribute_value" AS logical 
  DESCRIPTION "Attribute values are stored in their native data type, therefore when the data type of the attribute value is logical, this field is used to store the actual value.

The appropriate value field to use is determined by the data_type field on the ryc_attribute table.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Logical value"
  POSITION 13
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Logical value"
  ORDER 120

ADD FIELD "raw_value" OF "ryc_attribute_value" AS raw 
  DESCRIPTION "Attribute values are stored in their native data type, therefore when the data type of the attribute value is raw, this field is used to store the actual value.

The appropriate value field to use is determined by the data_type field on the ryc_attribute table.
"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Raw value"
  POSITION 14
  MAX-WIDTH 30
  VALMSG "r_raw"
  HELP "Raw value"
  ORDER 130

ADD FIELD "primary_smartobject_obj" OF "ryc_attribute_value" AS decimal 
  DESCRIPTION "Attributes may be associated with object types, smartobjects and smartobject instances. If associated with an object type, the container smartobject and the smartobject will be 0. If assoiated with a smartobject, the container smartobject will be 0. If associated with an instance, the container smartobject will have a value.

This field will contain the value of the container smartobject if not 0, otherwise the smartobject if that is not 0, otherwise 0. It is used as the replication key field when writing replication triggers to cascade changes to the version database, as the replication triggers could not handle the use of alternative fields (e.g. container smartobject_obj or smartobject_obj).

The update of this field will be done in the write trigger.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Primary smartobject obj"
  POSITION 15
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Primary smartobject obj"
  DECIMALS 9
  ORDER 140

ADD FIELD "render_type_obj" OF "ryc_attribute_value" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Render type obj"
  POSITION 16
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Render type obj"
  DECIMALS 9
  ORDER 150

ADD FIELD "applies_at_runtime" OF "ryc_attribute_value" AS logical 
  DESCRIPTION "This is a flag, default YES indicating whether this attribute value is applicable at runtime and should be used when constructing an object at runtime.

Attributes that have their design_only flag set to YES would never need to be used at runtime. Additionally, attributes that have their runtime_only flag set to YES are never read from the repository at runtime as they are just working attributes used during rendering rather than requiring to be stored in the repository.

Any attributes stored at the class level, i.e. with smartobject_obj = 0 would also have this flag set to NO as class attributes are cached upfront and do not need to be read at runtime.

The use of this flag minimizes the number of attributes that need to be processed at runtime.
"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Applies at runtime"
  POSITION 17
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Applies at runtime"
  ORDER 160

ADD INDEX "XPKryc_attribute_value" ON "ryc_attribute_value" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "attribute_value_obj" ASCENDING 

ADD INDEX "XAK1ryc_attribute_value" ON "ryc_attribute_value" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "object_type_obj" ASCENDING 
  INDEX-FIELD "smartobject_obj" ASCENDING 
  INDEX-FIELD "object_instance_obj" ASCENDING 
  INDEX-FIELD "render_type_obj" ASCENDING 
  INDEX-FIELD "attribute_label" ASCENDING 

ADD INDEX "XIE1ryc_attribute_value" ON "ryc_attribute_value" 
  AREA "Schema Area"
  INDEX-FIELD "attribute_label" ASCENDING 
  INDEX-FIELD "object_type_obj" ASCENDING 

ADD INDEX "XIE2ryc_attribute_value" ON "ryc_attribute_value" 
  AREA "Schema Area"
  INDEX-FIELD "primary_smartobject_obj" ASCENDING 
  INDEX-FIELD "attribute_label" ASCENDING 

ADD INDEX "XIE3ryc_attribute_value" ON "ryc_attribute_value" 
  AREA "Schema Area"
  INDEX-FIELD "object_instance_obj" ASCENDING 

ADD INDEX "XIE4ryc_attribute_value" ON "ryc_attribute_value" 
  AREA "Schema Area"
  INDEX-FIELD "container_smartobject_obj" ASCENDING 

ADD INDEX "XIE5ryc_attribute_value" ON "ryc_attribute_value" 
  AREA "Schema Area"
  INDEX-FIELD "smartobject_obj" ASCENDING 

ADD INDEX "XIE6ryc_attribute_value" ON "ryc_attribute_value" 
  AREA "Schema Area"
  INDEX-FIELD "render_type_obj" ASCENDING 

ADD INDEX "XIE7ryc_attribute_value" ON "ryc_attribute_value" 
  AREA "Schema Area"
  INDEX-FIELD "attribute_label" ASCENDING 

ADD INDEX "XIE8ryc_attribute_value" ON "ryc_attribute_value" 
  AREA "Schema Area"
  INDEX-FIELD "smartobject_obj" ASCENDING 
  INDEX-FIELD "object_instance_obj" ASCENDING 
  INDEX-FIELD "render_type_obj" ASCENDING 
  INDEX-FIELD "applies_at_runtime" ASCENDING 

ADD TABLE "ryc_customization_result"
  AREA "Schema Area"
  DESCRIPTION "The table is required to store possible customization codes as a result of some level of customization. Many types of customization exist, including UI type customizations (e.g. HTML, DHTML, GUI), user category customizations, user customizations, company level customizations, etc as defined in the ryc_customization_type table.  To avoid confusion and to provide some level of control as to the use of the result codes, a result code must be for a specific customization type.

The table will basically contain a code and description field. Meaningful codes and descriptions should be used to avoid conflicting uses of result codes. The table is also joined to the customization type to identify which type of customization the result code is for. 

For user level customizations, example result codes could be individual user login names, e.g. Bruce, Anthony, Don, etc. Alternatively the customization results could be defined rather by job function, e.g. operator, administrator, clerk, etc. For UI type customizations, the result codes could be DHTML, HTML, GUI, PDA, etc. For language customizations, the result codes could be English, French, German, etc. Another possibility is customizations by user category, in which case the result codes would represent valid categories, e.g. data capturer.

This provides maximum flexibility as to how much customization is required. 
The customization types simply define the various levels of supported customization, and the result codes define the possible values each customization type can be. The customization result table could therefore be viewed as a list of valid values for a customization type.
Certain result codes, such as supported UI type customizations will be provided as part of the framework. These result codes will be defined with a system owned flag set to YES, and maintenance of these codes will be restricted to users authorized to maintain system data. Care should be taken when defining these framework supplied result codes to avoid potential conflicts with result codes used by Dynamics applications.
"
  DUMP-NAME "ryccr"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/ryccrtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/ryccrtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/ryccrreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/ryccrrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/ryccrreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/ryccrtrigw.p" CRC "?" 

ADD FIELD "customization_result_obj" OF "ryc_customization_result" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Customization result obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Customization result obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "customization_result_code" OF "ryc_customization_result" AS character 
  DESCRIPTION "This is a unique code to identify the available result for a customization type. Meaningful codes should be used to avoid duplication and confusion.

If the customization type was users, then result codes could be set up for the valid users, e.g. Anthony, Mark, John, etc. or an alternative may be to define more generic result codes used by many users, e.g. by job function. The result code provides this level of flexibility.

It is envisaged that the number of result codes will be kept to a minimum to make customization more manageable.

"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Customization result code"
  POSITION 3
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Customization result code"
  ORDER 20

ADD FIELD "customization_result_desc" OF "ryc_customization_result" AS character 
  DESCRIPTION "A free text description of the result code explaining its purpose and use."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Customization result desc"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Customization result desc"
  ORDER 30

ADD FIELD "customization_type_obj" OF "ryc_customization_result" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Customization type obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Customization type obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "system_owned" OF "ryc_customization_result" AS logical 
  DESCRIPTION "If set to YES, this result code may not be maintained by users who are not authorized to maintain system data. These are so result codes can be shipped with the application and where the application relies on them existing, they will be secured from being deleted.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 50

ADD INDEX "XPKryc_customization_result" ON "ryc_customization_result" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "customization_result_obj" ASCENDING 

ADD INDEX "XAK1ryc_customization_result" ON "ryc_customization_result" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "customization_result_code" ASCENDING 

ADD INDEX "XIE1ryc_customization_result" ON "ryc_customization_result" 
  AREA "Schema Area"
  INDEX-FIELD "customization_result_desc" ASCENDING 

ADD INDEX "XIE2ryc_customization_result" ON "ryc_customization_result" 
  AREA "Schema Area"
  INDEX-FIELD "customization_type_obj" ASCENDING 

ADD TABLE "ryc_customization_type"
  AREA "Schema Area"
  DUMP-NAME "ryccy"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/ryccytrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/ryccytrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/ryccyreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/ryccyrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/ryccyreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/ryccytrigw.p" CRC "?" 

ADD FIELD "customization_type_obj" OF "ryc_customization_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Customization type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Customization type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "customization_type_code" OF "ryc_customization_type" AS character 
  DESCRIPTION "A unique code to idntify the customization type, e.g. UI Type, User Category, User, Login Company, Language, Global

Any types may be defied but an API procedure must exist to be able to evaulate the customization reference at runtime - therefore code must go along with each type created in order to be able to use it.
"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Customization type code"
  POSITION 3
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Customization type code"
  ORDER 20

ADD FIELD "customization_type_desc" OF "ryc_customization_type" AS character 
  DESCRIPTION "A free text description of the customization type"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Customization type desc"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Customization type desc"
  ORDER 30

ADD FIELD "api_name" OF "ryc_customization_type" AS character 
  DESCRIPTION "The name of an API function used to determine the value of the customization at runtime.

The API will be a function and have a standard signature - i.e. no parameters and it will simply return the customization reference.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Api name"
  POSITION 5
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Api name"
  ORDER 40

ADD INDEX "XPKryc_customization_type" ON "ryc_customization_type" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "customization_type_obj" ASCENDING 

ADD INDEX "XAK1ryc_customization_type" ON "ryc_customization_type" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "customization_type_code" ASCENDING 

ADD INDEX "XIE1ryc_customization_type" ON "ryc_customization_type" 
  AREA "Schema Area"
  INDEX-FIELD "customization_type_desc" ASCENDING 

ADD TABLE "ryc_layout"
  AREA "Schema Area"
  DESCRIPTION "This table defines the available page layouts for pages on smartfolder windows, e.g. 1 browser with 1 toolbar underneath, n viewers above each other, 2 side by side viewers, 2 side by side browsers, etc.

It also defines the available frame layouts for objects on a frame, e.g. 1 column, 2 columns, etc.

The purpose of this table is to specify the program which is responsible for the layout when the window / frame  is construted or resized.

As of V2, we only really support relative layouts which are layout code 6.
"
  DUMP-NAME "rycla"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/ryclatrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/ryclatrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/ryclareplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/ryclarepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/ryclareplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/ryclatrigw.p" CRC "?" 

ADD FIELD "layout_obj" OF "ryc_layout" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Layout obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Layout obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "layout_name" OF "ryc_layout" AS character 
  DESCRIPTION "A unique name to identify the layout"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Layout name"
  POSITION 3
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Layout name"
  ORDER 20

ADD FIELD "layout_type" OF "ryc_layout" AS character 
  DESCRIPTION "This is a 3 character code to identify the tupe of layout, e.g.

PAG = Page Layout
FRA = Frame Object Layout
BTH = Both
"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Layout type"
  POSITION 4
  MAX-WIDTH 6
  VALMSG "s_type"
  HELP "Layout type"
  ORDER 30

ADD FIELD "layout_narrative" OF "ryc_layout" AS character 
  DESCRIPTION "A full description of the layout"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Layout narrative"
  POSITION 5
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Layout narrative"
  ORDER 40

ADD FIELD "layout_filename" OF "ryc_layout" AS character 
  DESCRIPTION "The filename to run, including relative path, in order to actual perform the laying out of the objects on the page / frame during initial construction and resize."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Layout filename"
  POSITION 6
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Layout filename"
  ORDER 50

ADD FIELD "sample_image_filename" OF "ryc_layout" AS character 
  DESCRIPTION "If available, the name and relative path of an image file that can be displayed illustrating the page / frame layout."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Sample image filename"
  POSITION 7
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Sample image filename"
  ORDER 60

ADD FIELD "system_owned" OF "ryc_layout" AS logical 
  DESCRIPTION "If set to YES, this record may only be modified by users with a system owned flag.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 70

ADD FIELD "layout_code" OF "ryc_layout" AS character 
  DESCRIPTION "This is a suffix to add to internal procedures in the layout manager plip to identify the specific layout manager, e.g.

01 would run the procedure version resize01 for this layout.

Layout 06 is for relative layouts which are the only ones really supported in V2."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Layout code"
  POSITION 9
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Layout code"
  ORDER 80

ADD INDEX "XPKryc_layout" ON "ryc_layout" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "layout_obj" ASCENDING 

ADD INDEX "XAK1ryc_layout" ON "ryc_layout" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "layout_name" ASCENDING 

ADD INDEX "XAK2ryc_layout" ON "ryc_layout" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "layout_type" ASCENDING 
  INDEX-FIELD "layout_name" ASCENDING 

ADD TABLE "ryc_object_instance"
  AREA "Schema Area"
  DESCRIPTION "This is a running instance of an object on a container. This facilitates the allocation of specific attributes, links, and page numbers, etc. for the specific instance of an object.

The instance name must be unique within a container as this is used to manage and locate instances of objects on a container, and for applying customizations to the same instance, etc.

This table also defines which page within a container the instance appears on, and the order of the objects within a page - where applicable, i.e. for paged containers.

"
  DUMP-NAME "rycoi"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycoitrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycoitrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycoireplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycoirepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycoireplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycoitrigw.p" CRC "?" 

ADD FIELD "object_instance_obj" OF "ryc_object_instance" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object instance obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object instance obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "container_smartobject_obj" OF "ryc_object_instance" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Container smartobject obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Container smartobject obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "smartobject_obj" OF "ryc_object_instance" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Smartobject obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Smartobject obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "system_owned" OF "ryc_object_instance" AS logical 
  DESCRIPTION "If set to YES, this record may only be modified by users with a system owned flag.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 40

ADD FIELD "layout_position" OF "ryc_object_instance" AS character 
  DESCRIPTION "Each object in a window has a layout position represented by a three-character code. The first character is ""M"" or ""B"" depending on whether this object is in the Main or Bottom section. The second character is a digit representing the row,  and the third character is a digit representing the left-to-right position or sequence within that row. The third character can also be a ""C"", meaning that the object should be centered within the row (or within the remaining available space in the row), or ""R"", meaning that the object should be right justified within the row.  SmartDataObjects and other non-visual objects are automatically assigned to row ""0"", since they do not actually appear in any way at runtime.
So for example, a window or page with a Toolbar at the top, and an SDO, followed by a Browser, under that a Viewer, and another Toolbar at the Bottom, would assign to those objects the layout positions ""M11"" for the toolbar, ""M01"" for the SDO, ""M21"" for the Browser, ""M31"" for the Viewer, and ""B11"" for the Bottom Toolbar. If you wanted the Viewer to be to the right of the Browser rather than underneath it, its position would be ""M22"""
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Layout position"
  POSITION 6
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Layout position"
  ORDER 50

ADD FIELD "instance_name" OF "ryc_object_instance" AS character 
  DESCRIPTION "This is the name of the instance, and if used this should be unique within a single container.

In the case of SDO's as containers for datafield objects, this name field is used as the actual name of the field to use in the SDO field list - it should therefore never contain any prefix. Usually the name will match the object name of the datafield object, but may differ, e.g. where two tables exist in a single SDO with common fieldnames. The use of the name field therefore emulates the alias functionality that exists within SDO's.

The field is not forced unique for migration purposes and also to cope with scenarious where instance names need not be forced. Uniqueness of the name should however be forced in code where applicable, and the instance name should be defaulted to the object name of the instance.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Instance name"
  POSITION 7
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Instance name"
  ORDER 60

ADD FIELD "instance_description" OF "ryc_object_instance" AS character 
  DESCRIPTION "This is a free text description of the instance, used to describe the purpose and useage of the instance. 

This is particularly useful when a container contains the same instance of a specific object multiple times, e.g. a container containing many different toolbars. The description could be used to help identify the purpose of each instance of the toolbar on the container.

The use of the description field is optional, especially for migration purposes."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Instance description"
  POSITION 8
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Instance description"
  ORDER 70

ADD FIELD "page_obj" OF "ryc_object_instance" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Page obj"
  POSITION 9
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Page obj"
  DECIMALS 9
  ORDER 80

ADD FIELD "object_sequence" OF "ryc_object_instance" AS integer 
  DESCRIPTION "This is the sequence in which to create the object instances on a page - if this is a paged container. Note that the object sequence may still be relevant even if no page_obj is specified - for the ordering of objects on page 0.

For non paged containers, e.g. viewers and browsers, the object sequence is the defaullt order of the widgets on the object.
"
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Object sequence"
  POSITION 10
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Object sequence"
  ORDER 90

ADD INDEX "XPKryc_object_instance" ON "ryc_object_instance" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "object_instance_obj" ASCENDING 

ADD INDEX "XAK1ryc_object_instance" ON "ryc_object_instance" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "container_smartobject_obj" ASCENDING 
  INDEX-FIELD "instance_name" ASCENDING 

ADD INDEX "XIE1ryc_object_instance" ON "ryc_object_instance" 
  AREA "Schema Area"
  INDEX-FIELD "smartobject_obj" ASCENDING 

ADD INDEX "XIE3ryc_object_instance" ON "ryc_object_instance" 
  AREA "Schema Area"
  INDEX-FIELD "container_smartobject_obj" ASCENDING 
  INDEX-FIELD "smartobject_obj" ASCENDING 
  INDEX-FIELD "layout_position" ASCENDING 

ADD INDEX "XIE4ryc_object_instance" ON "ryc_object_instance" 
  AREA "Schema Area"
  INDEX-FIELD "instance_name" ASCENDING 

ADD INDEX "XIE5ryc_object_instance" ON "ryc_object_instance" 
  AREA "Schema Area"
  INDEX-FIELD "instance_description" ASCENDING 

ADD INDEX "XIE6ryc_object_instance" ON "ryc_object_instance" 
  AREA "Schema Area"
  INDEX-FIELD "container_smartobject_obj" ASCENDING 
  INDEX-FIELD "page_obj" ASCENDING 
  INDEX-FIELD "object_sequence" ASCENDING 

ADD INDEX "XIE7ryc_object_instance" ON "ryc_object_instance" 
  AREA "Schema Area"
  INDEX-FIELD "page_obj" ASCENDING 

ADD TABLE "ryc_page"
  AREA "Schema Area"
  DESCRIPTION "This table defines the actual pages in a container. All containers must at least have one page, which is page 0 and is always displayed. All objects on page 0 are always displayed. If there are no other pages, then no tab folder is visualised.

Example pages could be Page 1, Page 2, Customer Details, etc."
  DUMP-NAME "rycpa"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycpatrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycpatrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycpareplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycparepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycpareplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycpatrigw.p" CRC "?" 

ADD FIELD "page_obj" OF "ryc_page" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Page obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Page obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "container_smartobject_obj" OF "ryc_page" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Container smartobject obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Container smartobject obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "layout_obj" OF "ryc_page" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Layout obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Layout obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "page_sequence" OF "ryc_page" AS integer 
  DESCRIPTION "This is the actual page number and determines the sequence the pages are displayed. There must always be a page 0 and any objects on page 0 are always displayed. Page 0 does not appear on a tab folder.

If there are no other pages, then no tab folder will be visualised.
"
  FORMAT "->9"
  INITIAL "0"
  LABEL "Page sequence"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "n_integer_2"
  HELP "Page sequence"
  ORDER 40

ADD FIELD "page_reference" OF "ryc_page" AS character 
  DESCRIPTION "This field is a unique character reference for the page within a container. It is required as the only other unique information for the page was the page sequence - but this can be customized and so finding which pages to update would then be impossible.

The page reference by default could take the page label suffixed by the page_sequence, to ensure it gets some unique value. This could however be modified by the user, and will stay static when pages are resequenced so that the pages can be found and updated as appropriate.

This field value must never be modified."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Page reference"
  POSITION 6
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Page reference"
  ORDER 50

ADD FIELD "page_label" OF "ryc_page" AS character 
  DESCRIPTION "This is the actual label to display on the tab folder detailing the contents of the page. Te label must be entered with an & denoting the shortcut key to select the page, e.g. &Details would facilitate pressing ALT-D to select the page.
"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Page label"
  POSITION 7
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Page label"
  ORDER 60

ADD FIELD "security_token" OF "ryc_page" AS character 
  DESCRIPTION "This will default to the page label, without the ampersand (&) but may be different if required. The security token is used to automatically enable and disable folder pages according to user security permissions (via tokens).
"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Security token"
  POSITION 8
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Security token"
  ORDER 70

ADD FIELD "enable_on_create" OF "ryc_page" AS logical 
  DESCRIPTION "If set to YES, this folder page will be enabled during an add operation. If set to NO, then this folder page will be disabled during an add operation. This will only affect the sensitivity of the page, not the objects contained on the page."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Enable on create"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Enable on create"
  ORDER 80

ADD FIELD "enable_on_modify" OF "ryc_page" AS logical 
  DESCRIPTION "If set to YES, this folder page will be enabled during a modify operation. If set to NO, then this folder page will be disabled during a modify operation. This will only affect the sensitivity of the page, not the objects contained on the page."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Enable on modify"
  POSITION 10
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Enable on modify"
  ORDER 90

ADD FIELD "enable_on_view" OF "ryc_page" AS logical 
  DESCRIPTION "If set to YES, this folder page will be enabled during an view operation. If set to NO, then this folder page will be disabled during an view operation. This will only affect the sensitivity of the page, not the objects contained on the page."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Enable on view"
  POSITION 11
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Enable on view"
  ORDER 100

ADD INDEX "XPKryc_page" ON "ryc_page" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "page_obj" ASCENDING 

ADD INDEX "XAK1ryc_page" ON "ryc_page" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "container_smartobject_obj" ASCENDING 
  INDEX-FIELD "page_sequence" ASCENDING 

ADD INDEX "XAK2ryc_page" ON "ryc_page" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "container_smartobject_obj" ASCENDING 
  INDEX-FIELD "page_reference" ASCENDING 

ADD INDEX "XIE1ryc_page" ON "ryc_page" 
  AREA "Schema Area"
  INDEX-FIELD "layout_obj" ASCENDING 
  INDEX-FIELD "container_smartobject_obj" ASCENDING 

ADD TABLE "ryc_relationship"
  AREA "Schema Area"
  DESCRIPTION "This table stores relationship information for tables in the Dynamics repository and application databases built using Dynamics.

Multiple relationships can exist between the same parent and child table if required, so one of these must be flagged as the primary relationship to use initially when joining between the two tables.

The relationship reference field is unique so that it can be referenced in code if required, where multiple possible relationships exists and application functionality depends on the relationship. Where the relationship reference is irrelevant, it can be automatically generated using the Dynamics sequences.

The attributes about the relationship map closely with the attributes supported by ERWin from Computer Associates.

The fields used to join the tables in the relationship are specified in the child table ryc_relationship_field.

The contents of this table should be automatically populated from information exported from a case tool such as ERwin, to make synchronization of changes as automated as possible.

This table, once populated, can be used to support generic application functionality such as automatic object generation, referential integrity trigger code, etc.

It is envisaged that at some stage in the future, the information in these tables will be replaced with support for relationships in the core language meta schema.
"
  DUMP-NAME "rycre"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycretrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycretrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycrereplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycrerepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycrereplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycretrigw.p" CRC "?" 

ADD FIELD "relationship_obj" OF "ryc_relationship" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Relationship obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Relationship obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "relationship_reference" OF "ryc_relationship" AS character 
  DESCRIPTION "This is a unique reference to identify the relationship. Where multiple relationships exist between the same table, this field could help identify which one is which, and possibly may be referenced in code if required.

Where the relationship reference is not important, it can be automatically generated using the Dynamics sequence functionality.
"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Relationship reference"
  POSITION 3
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Relationship reference"
  ORDER 20

ADD FIELD "relationship_description" OF "ryc_relationship" AS character 
  DESCRIPTION "This is a free text description to document the purpose and use of the relationship. It is optional."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Relationship description"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Relationship description"
  ORDER 30

ADD FIELD "parent_entity" OF "ryc_relationship" AS character 
  DESCRIPTION "This is the entity mnemonic of the parent table of the relationship. The actual table name is obtained by reading the gsc_entity_mnemonic table and referencing the entity_mnemonic_description which is the actual table name in all cases.

"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Parent entity"
  POSITION 5
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Parent entity"
  ORDER 40

ADD FIELD "child_entity" OF "ryc_relationship" AS character 
  DESCRIPTION "This is the entity mnemonic of the child table of the relationship. The actual table name is obtained by reading the gsc_entity_mnemonic table and referencing the entity_mnemonic_description which is the actual table name in all cases.

"
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Child entity"
  POSITION 6
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Child entity"
  ORDER 50

ADD FIELD "primary_relationship" OF "ryc_relationship" AS logical 
  DESCRIPTION "Multiple joins can exist between the same parent and child table, and where this occurs, this flag identifies which of the joins is the main join to use.

"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Primary relationship"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Primary relationship"
  ORDER 60

ADD FIELD "identifying_relationship" OF "ryc_relationship" AS logical 
  DESCRIPTION "This is a flag, yes or no that indicates whether this is an identifying relationship or not.

An identifying relationship means that the child table is totally dependant on the parent table. If this flag is set to YES, then the nulls_allowed flag cannot be YES as the join must be mandatory.

A mandatory join however does not necessarily indicate an identifying relationship. To be identifying, the child table really has to be a sub-table of the parent. Where the parent field is simply an attribute of the child table (foreign key) then the relationship is not really identifying.

When using ERwin, if the relationship is flagged as identifying, the foreign key fields are forced into the primary key of the child table, which is not always what you want. For this reason, when using ERwin, most relationships are flagged as non-identifying but no-nulls which has the same affect, just without the forced primary key fields.

The identifying flag is for the most part just for information purposes and to force the setting of the nulls_allowed field. It is really the nulls_allowed field that is the important one.

"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Identifying relationship"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Identifying relationship"
  ORDER 70

ADD FIELD "nulls_allowed" OF "ryc_relationship" AS logical 
  DESCRIPTION "This is a logical field, yes or no, that identifies whether nulls are allowed on the parent side of the join, i.e. whether this is an outer join or not.

If nulls_allowed is set to YES, then the join to the parent table is optional. 

This determines the ""1 to"" or ""0 or 1 to"" part of the relationship."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Nulls allowed"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Nulls allowed"
  ORDER 80

ADD FIELD "cardinality" OF "ryc_relationship" AS character 
  DESCRIPTION "This field determines the cardinality of the join to the child table. It is a character field and can take the following values:

01M = 0, 1 or Many
1M = 1 or Many
01 = 0 or 1
n (where n is a number e.g. 1) = Exactly n

This is the child portion of the relationship. An example full relationship description if this field is 01M and the nulls_allowed in YES:

0 or 1 to 0, 1 or Many

An example where nulls_allowed is NO and this field is 01:

1 to 0 or 1

"
  FORMAT "X(5)"
  INITIAL ""
  LABEL "Cardinality"
  POSITION 10
  MAX-WIDTH 10
  VALMSG "s_string_5"
  HELP "Cardinality"
  ORDER 90

ADD FIELD "update_parent_allowed" OF "ryc_relationship" AS logical 
  DESCRIPTION "This flag indicates whether updates to the parent table are allowed YES or NO when child records have been created. The default is YES.

This rule somewhat overlaps with the other referential integrity rules, but is a specific case with specific code to implement it. It is also for backward compatibility with the application used as the basis for this design."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Update parent allowed"
  POSITION 11
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Update parent allowed"
  ORDER 100

ADD FIELD "parent_delete_action" OF "ryc_relationship" AS character 
  DESCRIPTION "This is the action to take when a record in the parent is deleted. 

The default setting for this action depends on the type of relationship and whether nulls are allowed. A table called ryc_ri_default exists that defines the defaults to use.

Valid actions are as follows:

R - RESTRICT
Prevents you from deleting a record in the parent entity if there are one or more related records in the child entity.

C - CASCADE 
When a record in the parent entity is deleted, each related record in the child entity is also deleted.

S - SET NULL
When a record in the parent entity is deleted, the foreign key attributes or columns in each related record of the child entity are set to Null.

N = NONE
No referential integrity action is required.

"
  FORMAT "X(1)"
  INITIAL ""
  LABEL "Parent delete action"
  POSITION 12
  MAX-WIDTH 2
  VALMSG "s_string_1"
  HELP "Parent delete action"
  ORDER 110

ADD FIELD "parent_insert_action" OF "ryc_relationship" AS character 
  DESCRIPTION "This is the action to take when a record in the parent is inserted. 

The default setting for this action depends on the type of relationship and whether nulls are allowed. A table called ryc_ri_default exists that defines the defaults to use.

Valid actions are as follows:

R - RESTRICT
C - CASCADE 
S - SET NULL
N = NONE

This is simply here because ERWin supports this action, however its use is meaningless and not usually implemented.

It will therefore typically always be set to N for None
"
  FORMAT "X(1)"
  INITIAL ""
  LABEL "Parent insert action"
  POSITION 13
  MAX-WIDTH 2
  VALMSG "s_string_1"
  HELP "Parent insert action"
  ORDER 120

ADD FIELD "parent_update_action" OF "ryc_relationship" AS character 
  DESCRIPTION "This is the action to take when a record in the parent is updated. 

The default setting for this action depends on the type of relationship and whether nulls are allowed. A table called ryc_ri_default exists that defines the defaults to use.

Valid actions are as follows:

R - RESTRICT
Prevents you from updating a record in the parent entity if there are one or more related records in the child entity.

C - CASCADE 
When a record in the parent entity is updated, each related record in the child entity is also updated.

S - SET NULL
When a record in the parent entity or table is updated, the foreign key attributes or columns in each related record of the child entity are set to Null.

N = NONE
No referential integrity action is required.

"
  FORMAT "X(1)"
  INITIAL ""
  LABEL "Parent update action"
  POSITION 14
  MAX-WIDTH 2
  VALMSG "s_string_1"
  HELP "Parent update action"
  ORDER 130

ADD FIELD "parent_verb_phrase" OF "ryc_relationship" AS character 
  DESCRIPTION "This is the verb phrase to describe the relationship from the parent to the child."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Parent verb phrase"
  POSITION 15
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Parent verb phrase"
  ORDER 140

ADD FIELD "child_delete_action" OF "ryc_relationship" AS character 
  DESCRIPTION "This is the action to take when a record in the child is deleted. 

The default setting for this action depends on the type of relationship and whether nulls are allowed. A table called ryc_ri_default exists that defines the defaults to use.

Valid actions are as follows:

R - RESTRICT
C - CASCADE 
S - SET NULL
N = NONE

This is simply here because ERWin supports this action, however its use is meaningless and not usually implemented.

It will therefore typically always be set to N for None
"
  FORMAT "X(1)"
  INITIAL ""
  LABEL "Child delete action"
  POSITION 16
  MAX-WIDTH 2
  VALMSG "s_string_1"
  HELP "Child delete action"
  ORDER 150

ADD FIELD "child_insert_action" OF "ryc_relationship" AS character 
  DESCRIPTION "This is the action to take when a record in the child is inserted. 

The default setting for this action depends on the type of relationship and whether nulls are allowed. A table called ryc_ri_default exists that defines the defaults to use.

Valid actions are as follows:

R - RESTRICT
Prevents you from inserting a record in the child entity if there is no related record in the parent entity.

C - CASCADE 
This is supported for ERwin but not implemented as it does not make sense.

S - SET NULL
When a record in the child entity is inserted, the key attributes or columns in the parent entity are set to Null.

N = NONE
No referential integrity action is required.

"
  FORMAT "X(1)"
  INITIAL ""
  LABEL "Child insert action"
  POSITION 17
  MAX-WIDTH 2
  VALMSG "s_string_1"
  HELP "Child insert action"
  ORDER 160

ADD FIELD "child_update_action" OF "ryc_relationship" AS character 
  DESCRIPTION "This is the action to take when a record in the child is updated. 

The default setting for this action depends on the type of relationship and whether nulls are allowed. A table called ryc_ri_default exists that defines the defaults to use.

Valid actions are as follows:

R - RESTRICT
Prevents you from updating a record in the  child entity if there are no related records in the parent entity.

C - CASCADE 
When a record in the child entity is updated, the parent entity or table is also updated.

S - SET NULL
When a record in the child entity is updated, the foreign key attributes or columns in the parent entity are set to Null.

N = NONE
No referential integrity action is required.

"
  FORMAT "X(1)"
  INITIAL ""
  LABEL "Child update action"
  POSITION 18
  MAX-WIDTH 2
  VALMSG "s_string_1"
  HELP "Child update action"
  ORDER 170

ADD FIELD "child_verb_phrase" OF "ryc_relationship" AS character 
  DESCRIPTION "This is the verb phrase to describe the relationship from the child to the parent."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Child verb phrase"
  POSITION 19
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Child verb phrase"
  ORDER 180

ADD FIELD "model_external_reference" OF "ryc_relationship" AS character 
  DESCRIPTION "This is a unique reference from the entity model diagram to identify the reference. In ERwin this equates to the  macro and is globally unique (a GUID).

In the event this field comes in blank because the modelling tool used does not support a relatsionship id, or in fact no modeling tool is being used, this field will be set to the same as the relationship_reference to ensure it gets a unique value.

The primary use of this field is to update existing relationships in subsequent imports.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Model external reference"
  POSITION 20
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Model external reference"
  ORDER 190

ADD INDEX "XPKryc_relationship" ON "ryc_relationship" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "relationship_obj" ASCENDING 

ADD INDEX "XAK1ryc_relationship" ON "ryc_relationship" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "relationship_reference" ASCENDING 

ADD INDEX "XAK2ryc_relationship" ON "ryc_relationship" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "model_external_reference" ASCENDING 

ADD INDEX "XIE1ryc_relationship" ON "ryc_relationship" 
  AREA "Schema Area"
  INDEX-FIELD "relationship_description" ASCENDING 

ADD INDEX "XIE2ryc_relationship" ON "ryc_relationship" 
  AREA "Schema Area"
  INDEX-FIELD "parent_entity" ASCENDING 

ADD INDEX "XIE3ryc_relationship" ON "ryc_relationship" 
  AREA "Schema Area"
  INDEX-FIELD "child_entity" ASCENDING 

ADD INDEX "XIE4ryc_relationship" ON "ryc_relationship" 
  AREA "Schema Area"
  INDEX-FIELD "primary_relationship" ASCENDING 

ADD TABLE "ryc_relationship_field"
  AREA "Schema Area"
  DESCRIPTION "This table defines the fields used to join the two tables defined in the ryc_relationship table that this table is a child of. Multiple field joins are supported, as well as rolenamed foreign keys where the field names in the two tables do not match.

The join sequence determines the order to reference the fields when constructing a dynamic where clause to join the tables.

When joining to some tables, additional constant values for fields in the child table or parent table may need to be specified and this functionality is supported. 

An example of this in the Dynamics repository is when joining from the gsc_object_type table to the ryc_attribute_value table, where there is a single field from the parent table, the object_type_obj, but we must additionally specify a 0 value for other fields, eg. container_smartobject_obj, smartobject_obj and object_instance_obj. This means that when using constant values, the child or the parent field may be left blank.



"
  DUMP-NAME "rycrf"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycrftrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycrftrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycrfreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycrfrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycrfreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycrftrigw.p" CRC "?" 

ADD FIELD "relationship_field_obj" OF "ryc_relationship_field" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Relationship field obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Relationship field obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "relationship_obj" OF "ryc_relationship_field" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Relationship obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Relationship obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "join_sequence" OF "ryc_relationship_field" AS integer 
  DESCRIPTION "This is the order within a relationship in which to join to the specified fields. It is used when dynamically constructing where clauses to join the tables described in the relationship.

The sequence must be unique within a relationship. It is an integer field. The lower the number, the higher in the sort sequence the field will be, e.g. sequence 0 will be first, 1 next, etc.



"
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Join sequence"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Join sequence"
  ORDER 30

ADD FIELD "parent_table_name" OF "ryc_relationship_field" AS character 
  DESCRIPTION "This is the table name for the field in the parent being joined from. This may be blank if the use_parent_constant_value is set to YES and a constant value is specified.

The table and field name are stored separately to facilitate efficient querying of relationships by table and/or field name."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Parent table name"
  POSITION 5
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Parent table name"
  ORDER 40

ADD FIELD "parent_field_name" OF "ryc_relationship_field" AS character 
  DESCRIPTION "This is the field name for the field in the parent table being joined from. This may be blank if the use_parent_constant_value is set to YES and a constant value is specified.

The table and field name are stored separately to facilitate efficient querying of relationships by table and/or field name."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Parent field name"
  POSITION 6
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Parent field name"
  ORDER 50

ADD FIELD "use_parent_constant_value" OF "ryc_relationship_field" AS logical 
  DESCRIPTION "This is a flag, yes or no, indicating whether to use a constant value for joining to the parent when constructing the where clause."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Use parent constant value"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Use parent constant value"
  ORDER 60

ADD FIELD "parent_constant_value" OF "ryc_relationship_field" AS character 
  DESCRIPTION "If the use_parent_constant_value is set to YES, this is the value to use for joining to the parent when constructing the where clause. It is stored as a character and must be converted to the appropriate data type at runtime."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Parent constant value"
  POSITION 8
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Parent constant value"
  ORDER 70

ADD FIELD "child_table_name" OF "ryc_relationship_field" AS character 
  DESCRIPTION "This is the table name for the field in the child table being joined from. This may be blank if the use_child_constant_value is set to YES and a constant value is specified.

The table and field name are stored separately to facilitate efficient querying of relationships by table and/or field name."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Child table name"
  POSITION 9
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Child table name"
  ORDER 80

ADD FIELD "child_field_name" OF "ryc_relationship_field" AS character 
  DESCRIPTION "This is the field name for the field in the child table being joined from. This may be blank if the use_child_constant_value is set to YES and a constant value is specified.

The table and field name are stored separately to facilitate efficient querying of relationships by table and/or field name."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Child field name"
  POSITION 10
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Child field name"
  ORDER 90

ADD FIELD "use_child_constant_value" OF "ryc_relationship_field" AS logical 
  DESCRIPTION "This is a flag, yes or no, indicating whether to use a constant value for joining to the child when constructing the where clause."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Use child constant value"
  POSITION 11
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Use child constant value"
  ORDER 100

ADD FIELD "child_constant_value" OF "ryc_relationship_field" AS character 
  DESCRIPTION "If the use_child_constant_value is set to YES, this is the value to use for joining to the child when constructing the where clause. It is stored as a character and must be converted to the appropriate data type at runtime."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Child constant value"
  POSITION 12
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Child constant value"
  ORDER 110

ADD INDEX "XPKryc_relationship_field" ON "ryc_relationship_field" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "relationship_field_obj" ASCENDING 

ADD INDEX "XAK1ryc_relationship_field" ON "ryc_relationship_field" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "relationship_obj" ASCENDING 
  INDEX-FIELD "join_sequence" ASCENDING 

ADD INDEX "XIE1ryc_relationship_field" ON "ryc_relationship_field" 
  AREA "Schema Area"
  INDEX-FIELD "parent_table_name" ASCENDING 

ADD INDEX "XIE2ryc_relationship_field" ON "ryc_relationship_field" 
  AREA "Schema Area"
  INDEX-FIELD "parent_field_name" ASCENDING 

ADD INDEX "XIE3ryc_relationship_field" ON "ryc_relationship_field" 
  AREA "Schema Area"
  INDEX-FIELD "child_table_name" ASCENDING 

ADD INDEX "XIE4ryc_relationship_field" ON "ryc_relationship_field" 
  AREA "Schema Area"
  INDEX-FIELD "child_field_name" ASCENDING 

ADD TABLE "ryc_render_type"
  AREA "Schema Area"
  DESCRIPTION "This table defines the supported rendering engines, e.g. e.g. WEB, GUI, HTML, B2C, .NET, XML, etc. 

It is joined into the gst_session table to identify for a session which rendering engine is active for that session.

The main purpose of this table is to optionally join into the ryc_attribute_value table and ryc_ui_event table to provide an ability to override attribute values and events for different rendering engines at the class, master and instance level. The render type offers another dimension of customization capability specifically for rendering engines.

This also supports the ability to identify certain attributes and events that are only applicable to specific rendering engines, as well as the ability to override the values of common events and attributes across rendering engines."
  DUMP-NAME "rycrt"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycrttrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycrttrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycrtreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycrtrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycrtreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycrttrigw.p" CRC "?" 

ADD FIELD "render_type_obj" OF "ryc_render_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Render type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Render type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "render_type_code" OF "ryc_render_type" AS character 
  DESCRIPTION "A unique code to identify the rendering engine type, e.g. WEB, GUI, HTML, B2C, .NET, XML, etc.
"
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Render type code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Render type code"
  ORDER 20

ADD FIELD "render_type_description" OF "ryc_render_type" AS character 
  DESCRIPTION "A free text description of the rendering engine type."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Render type description"
  POSITION 4
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Render type description"
  ORDER 30

ADD INDEX "XPKryc_render_type" ON "ryc_render_type" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "render_type_obj" ASCENDING 

ADD INDEX "XAK1ryc_render_type" ON "ryc_render_type" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "render_type_code" ASCENDING 

ADD INDEX "XIE1ryc_render_type" ON "ryc_render_type" 
  AREA "Schema Area"
  INDEX-FIELD "render_type_description" ASCENDING 

ADD TABLE "ryc_ri_default"
  AREA "Schema Area"
  DESCRIPTION "This table defines the default referential integrity (RI) rules to apply when manually maintaining relationships in the ryc_relationship table.

The rules in this table will be used to default the parent and child actions based on the value of the identifying_relationship and nulls_allowed fields.

The standard set of RI defaults used by Dynamics are as follows:

For identifying and non-identifying but will no nulls the defaults are:
Child Delete = None
Child Insert = Restrict
Child Update = Restrict
Parent Delete = Restrict
Parent Insert = None
Parent Update = Restrict

For non-indentifying but with nulls allowed the defaults are:
Child Delete = None
Child Insert = Set Null
Child Update = Set Null
Parent Delete = Set Null
Parent Insert = None
Parent Update = Set Null

These are usually correct apart from the need to sometimes change the delete rules for the parent to cascade, and soemtimes even when a relationship allows nulls, you still want a restrict rule rather than a set null rule.
"
  DUMP-NAME "rycri"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycritrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycritrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycrireplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycrirepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycrireplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycritrigw.p" CRC "?" 

ADD FIELD "ri_default_obj" OF "ryc_ri_default" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Ri default obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Ri default obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "relationship_type" OF "ryc_ri_default" AS character 
  DESCRIPTION "This is the type of relationship. Valid values are:

IDENT = Identifying
NONIDNULL = Non-Identifying nulls allowed
NONIDNONULL = Non-Identifying no nulls
"
  FORMAT "X(15)"
  INITIAL ""
  LABEL "Relationship type"
  POSITION 3
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "Relationship type"
  ORDER 20

ADD FIELD "action_type" OF "ryc_ri_default" AS character 
  DESCRIPTION "This is the type of action. Valid values are:

CD = Child Delete
CI = Child Insert
CR = Child Restrict
PD = Parent Delete
PI = Parent Insert
PR = Parent Restrict
"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Action type"
  POSITION 4
  MAX-WIDTH 6
  VALMSG "s_type"
  HELP "Action type"
  ORDER 30

ADD FIELD "default_rule" OF "ryc_ri_default" AS character 
  DESCRIPTION "This is the default rule to apply. Valid values are:

R - RESTRICT
Prevents you from deleting, inserting, or updating an instance in the parent or child entity or table if there are one or more related instances in the child or parent entity or table.

C - CASCADE
When an instance in the parent entity or table is deleted, inserted, or updated, each related instance in the child entity or table is also deleted, inserted, or updated.

S - SET NULL
When an instance in the parent entity or table is deleted, inserted, or updated, the foreign key attributes or columns in each related instance of the child entity or table are set to Null.

N - NONE
No referential integrity action is required.
"
  FORMAT "X(1)"
  INITIAL ""
  LABEL "Default rule"
  POSITION 5
  MAX-WIDTH 2
  VALMSG "s_string_1"
  HELP "Default rule"
  ORDER 40

ADD INDEX "XPKryc_ri_default" ON "ryc_ri_default" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "ri_default_obj" ASCENDING 

ADD INDEX "XAK1ryc_ri_default" ON "ryc_ri_default" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "relationship_type" ASCENDING 
  INDEX-FIELD "action_type" ASCENDING 

ADD INDEX "XIE1ryc_ri_default" ON "ryc_ri_default" 
  AREA "Schema Area"
  INDEX-FIELD "action_type" ASCENDING 

ADD TABLE "ryc_smartlink"
  AREA "Schema Area"
  DESCRIPTION "This table defines the actual smartlinks between objects on a container, to facilitate object communication. The link name may be user defined, or automatically copied from the smartlink type for system supported links.

If the source object instance is not specified, then the source s assumed to be the container. Likewise if the target object instance is not specified, then the target is assumed to be the container.

Example links would be a tableio link between a smartbrowser and a smarttoolbar, a record link between a smartbrowser and a smartviewer, etc."
  DUMP-NAME "rycsm"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycsmtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycsmtrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycsmreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycsmrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycsmreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycsmtrigw.p" CRC "?" 

ADD FIELD "smartlink_obj" OF "ryc_smartlink" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Smartlink obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Smartlink obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "container_smartobject_obj" OF "ryc_smartlink" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Container smartobject obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Container smartobject obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "smartlink_type_obj" OF "ryc_smartlink" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Smartlink type obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Smartlink type obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "link_name" OF "ryc_smartlink" AS character 
  DESCRIPTION "This is the actual link name. The link name may be user defined, or automatically copied from the smartlink type for system supported links.
"
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Link name"
  POSITION 5
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Link name"
  ORDER 40

ADD FIELD "source_object_instance_obj" OF "ryc_smartlink" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Source object instance obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Source object instance obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "target_object_instance_obj" OF "ryc_smartlink" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Target object instance obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Target object instance obj"
  DECIMALS 9
  ORDER 60

ADD INDEX "XPKryc_smartlink" ON "ryc_smartlink" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "smartlink_obj" ASCENDING 

ADD INDEX "XAK1ryc_smartlink" ON "ryc_smartlink" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "container_smartobject_obj" ASCENDING 
  INDEX-FIELD "source_object_instance_obj" ASCENDING 
  INDEX-FIELD "link_name" ASCENDING 
  INDEX-FIELD "target_object_instance_obj" ASCENDING 

ADD INDEX "XIE1ryc_smartlink" ON "ryc_smartlink" 
  AREA "Schema Area"
  INDEX-FIELD "link_name" ASCENDING 
  INDEX-FIELD "container_smartobject_obj" ASCENDING 

ADD INDEX "XIE2ryc_smartlink" ON "ryc_smartlink" 
  AREA "Schema Area"
  INDEX-FIELD "smartlink_type_obj" ASCENDING 
  INDEX-FIELD "container_smartobject_obj" ASCENDING 

ADD INDEX "XIE3ryc_smartlink" ON "ryc_smartlink" 
  AREA "Schema Area"
  INDEX-FIELD "source_object_instance_obj" ASCENDING 
  INDEX-FIELD "container_smartobject_obj" ASCENDING 

ADD INDEX "XIE4ryc_smartlink" ON "ryc_smartlink" 
  AREA "Schema Area"
  INDEX-FIELD "target_object_instance_obj" ASCENDING 
  INDEX-FIELD "container_smartobject_obj" ASCENDING 

ADD TABLE "ryc_smartlink_type"
  AREA "Schema Area"
  DESCRIPTION "This table defines the supported smart links available for linking objects on containers for object communication purposes.

Example links include page, container, update, commit, tableio, etc.

The main purpose of this table is to provide a valid list of smart links to choose from when building generic containers. Additional user defined smart links may be implemented by defining a user defined link.

The actual link name will be cascaded down onto the smartlink table where this is not a user defined link.

The supported link table will be used to highlight which are the expected links between any two smartobjects.
"
  DUMP-NAME "rycst"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycsttrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycsttrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycstreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycstrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycstreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycsttrigw.p" CRC "?" 

ADD FIELD "smartlink_type_obj" OF "ryc_smartlink_type" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Smartlink type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Smartlink type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "link_name" OF "ryc_smartlink_type" AS character 
  DESCRIPTION "This is the actual link name (excluding the source or target suffix). This name will always be cascaded down to the smartlink table when the user defined link flag is set to NO, therefore avoiding having to always read this table to get the actual link name."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Link name"
  POSITION 3
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Link name"
  ORDER 20

ADD FIELD "user_defined_link" OF "ryc_smartlink_type" AS logical 
  DESCRIPTION "If set to YES, this is a user defined link and the link name specified here is for information purposes only, i.e. custom link.

If this is set to NO, then this is a system link and the link name specified will be cascaded down onto the smartlink table for performance reasons. This must be done in both add and modify situations.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "User defined link"
  POSITION 4
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "User defined link"
  ORDER 30

ADD FIELD "system_owned" OF "ryc_smartlink_type" AS logical 
  DESCRIPTION "If set to YES, this record may only be modified by users with a system owned flag.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 40

ADD INDEX "XPKryc_smartlink_type" ON "ryc_smartlink_type" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "smartlink_type_obj" ASCENDING 

ADD INDEX "XAK1ryc_smartlink_type" ON "ryc_smartlink_type" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "link_name" ASCENDING 

ADD TABLE "ryc_smartobject"
  AREA "Schema Area"
  DESCRIPTION "This table represents every object known to the repository, whether static or dynamic. All objects that can be run should be registered in the repository, including all visual objects, business logic, etc. Images for buttons, etc. should also be registered.

The only files not registered in the repository are include files.

Having the files registered allows them to be added as instances to containers, added to menus, have security applied to them, run them as part of flows and events, automate deployment of them, etc.

Many child tables exist to further define an object, and which tables apply depend on the object type. For example, information regarding links, pages, instances, etc. only pertain to objects that are containers. Even with containers, not all tables may apply, as viewers, browsers, and sdo's are containers for datafields but do not have the concept of pages, only window containers have pages, links, etc.

Certain object properties are only applicable to physical objects. Previously this table was broken into two, and th second table, gsc_object used to define physical properties. This was removed in V2 to improve performance and resolve many issues associated with this, hence some redundant fields in certain object types.

For versioning to work, we have turned off RI that would have prevented an object being deleted if it is used on a container - this is to allow imports and object assignments to work. This RI must therefore be manually coded where required.

We turned off the automatic delete cascade of smartobject attributes as it was also deleting attributes for instances of the smartobject when we did not want it to. Added a specific delete trigger customisation that rather joined on the primary_smartobject_obj in the attribute table when deleting attributes, to ensure only attributes for the smartobject were deleted, not also instance attributes.

This table optionally supports customization using custom result codes.The unique key to this table is made up of the object filename and a result code, allowing the same object name to exist with multiple result codes, each custom object containing what behaviour has been added or overridden. The object with a 0 result code is the master default object, and this must always exist.

In this way, any of the fields on this table, plus information in tables where this is the parent may be customized by result code. Tools support for this however may be limited initially.

Whenever reading a smartobject based on the filename, the result code must also be specified, using 0 if looking for the master.

A recursive join with a rolename of extends_smartobject_obj has been added to this table to support inherritance. This functionality however as of V2 has not been implemented into the framework. The intention is to allow objects to inherit from (extend) other objects, therefore facilitating changes to master or template objects being cascaded down to subclasses or instances, by reading up the class structure.

For V2, the inherittance functionality has just been added at the object type level."
  DUMP-NAME "rycso"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycsotrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycsotrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycsoreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycsorepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycsoreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycsotrigw.p" CRC "?" 

ADD FIELD "smartobject_obj" OF "ryc_smartobject" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Smartobject obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Smartobject obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "object_filename" OF "ryc_smartobject" AS character 
  DESCRIPTION "This is the name of the object. The name must be unique within the whole repository - apart from support for customization via the result code.

The name must be specified without a path, and ideally without an extension, although the specification of the extension in the filename is supported for backward compatibility.

Whenever reading this table based on the filename, the customization result must also be specified, using 0 for the master object.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Object filename"
  POSITION 3
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Object filename"
  ORDER 20

ADD FIELD "customization_result_obj" OF "ryc_smartobject" AS decimal 
  DESCRIPTION "This field makes up part of the unique key for the object, together with the filename.

This field will be 0 for the master object, or will contain an id for a specific result code for object customizations to the master.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Customization result obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Customization result obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "object_type_obj" OF "ryc_smartobject" AS decimal 
  DESCRIPTION "The type of object, e.g. viewer, browser, datafield, procedure, plip, etc.

The object type should typically not be modified and in fact when linking to an SCM tool modifying the object type could cause integration issues.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object type obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object type obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "product_module_obj" OF "ryc_smartobject" AS decimal 
  DESCRIPTION "The product module this object belongs to. All objects must belong to a product module."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Product module obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Product module obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "layout_obj" OF "ryc_smartobject" AS decimal 
  DESCRIPTION "The actual layout to use for this object. This is only really applicable to containers, and we only currently support relative layouts.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Layout obj"
  POSITION 7
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Layout obj"
  DECIMALS 9
  ORDER 60

ADD FIELD "object_description" OF "ryc_smartobject" AS character 
  DESCRIPTION "A description of the object. This description will be used as the default for the menu label when adding to a menu. Do not add ... to it as this is done automatically.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Object description"
  POSITION 8
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Object description"
  ORDER 70

ADD FIELD "object_path" OF "ryc_smartobject" AS character 
  DESCRIPTION "The relative path to the object. This must contain forward slashes for portability. A relative path should always be used rather than an absolute path. The path must be relative to the workspace root directory.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Object path"
  POSITION 9
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "Object path"
  ORDER 80

ADD FIELD "object_extension" OF "ryc_smartobject" AS character 
  DESCRIPTION "The extension of the filename of the object. This will only be relevant to static objects.

If an extension is specified, then the filename will be stored without an extension and this extension must be added to the filename to concoct the full filename.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Object extension"
  POSITION 10
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Object extension"
  ORDER 90

ADD FIELD "static_object" OF "ryc_smartobject" AS logical 
  DESCRIPTION "This flag actually indicates whether the object can be run directly, or whether it needs a rendering object specified in order to run. A more suitable name for this attribute according to its use would be ""requires rendering object"".

This flag is therefore set to YES for non dynamic objects and also for dynamic objects that do not require a rendering object, e.g. datafields.

For dynamic objects that require a rendering engine, this flag is set to NO.

This flag should be used with the object_is_runnable flag as follows;

Datafields for example would have the static_object set to YES as they do not require a rendering engine, and the object_is_runnable flag set to NO.

static sdo's would have the static_object set to YES as it also does not require a rendering engine and the object_is_runnable set to YES.

dynamic sdo's would have the static_object set to NO as they require a rendering engine, and the object_is_runnable set to YES.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Static object"
  POSITION 11
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Static object"
  ORDER 100

ADD FIELD "generic_object" OF "ryc_smartobject" AS logical 
  DESCRIPTION "If set to YES, this is a physical generic object used as the starting point for building a dynamic object and is not a complete object in itself."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Generic object"
  POSITION 12
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Generic object"
  ORDER 110

ADD FIELD "template_smartobject" OF "ryc_smartobject" AS logical 
  DESCRIPTION "If set to YES, then this smartobject may be used as a template for creating other similar smartobjects.
This makes it easy to define standard containers, such as an object controller with a standard toolbar, a standard browser, a standard layout, etc. and to create new objects based on this template - via some sort of copy operation with bits likely to change prompted for.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Template smartobject"
  POSITION 13
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Template smartobject"
  ORDER 120

ADD FIELD "system_owned" OF "ryc_smartobject" AS logical 
  DESCRIPTION "If set to YES, this record may only be modified by users with a system owned flag.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "System owned"
  POSITION 14
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "System owned"
  ORDER 130

ADD FIELD "deployment_type" OF "ryc_smartobject" AS character 
  DESCRIPTION "This is to determine where the object should be deployed. This field is also on the object type which serves as a default. Valid values for this field would be ""SRV"" for remote server only, ""CLI"" for client only, ""WEB"" for WEB, or combinations as required comma delimited, e.g. ""CLI,SRV"". This field will assist when deploying applications on appservers to help define which objects should reside where.
This field is also specified on product modules, but the value on the specific object would always override the value on the product module.
If this field is set to blank, then this object should not be deployed."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Deployment type"
  POSITION 15
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Deployment type"
  ORDER 140

ADD FIELD "design_only" OF "ryc_smartobject" AS logical 
  DESCRIPTION "This is a logical field, defaulting to NO to identify the object as only being required during design / development time.

This flag allows the identification of which objects to deploy when building a runtime only package that does not require any objects used to build the application for example."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Design only"
  POSITION 16
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Design only"
  ORDER 150

ADD FIELD "runnable_from_menu" OF "ryc_smartobject" AS logical 
  DESCRIPTION "If set to YES, this object can be run from a menu.

Objects such as smartbrowers, smartviewers, etc may be set-up in here for security purposes, but cannot be run from a menu.

Object controllers and menu controllers can always be run from the menu. Smart folders can sometimes be run from a menu, depending on whether they are maintaining a specific record or not.

If this flag is set to NO, this object cannot be placed on a menu or dynamic toolbar.
"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Runnable from menu"
  POSITION 17
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Runnable from menu"
  ORDER 160

ADD FIELD "container_object" OF "ryc_smartobject" AS logical 
  DESCRIPTION "If set to YES, this object is a container window. Only container windows can possibly appear on menu's, and only container windows can have a dynamic menu structure.

"
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Container object"
  POSITION 18
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Container object"
  ORDER 170

ADD FIELD "disabled" OF "ryc_smartobject" AS logical 
  DESCRIPTION "If set to YES, access to this object will be disabled, regardless of any other security settings."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Disabled"
  POSITION 19
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Disabled"
  ORDER 180

ADD FIELD "run_persistent" OF "ryc_smartobject" AS logical 
  DESCRIPTION "If set to YES, this object will be run persistently."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Run persistent"
  POSITION 20
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Run persistent"
  ORDER 190

ADD FIELD "run_when" OF "ryc_smartobject" AS character 
  DESCRIPTION "This option controls under what circumstances this program may be run as follows:

""ONE"" = Only 1 instance of this program may be run at a time.
""NOT"" = This program may only be run when there is no transaction open.
""ANY"" = This program can be run anytime
""NOR"" = This program may only be run when no other programs are running. Whilst it is running, no other programs may be started.
"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Run when"
  POSITION 21
  MAX-WIDTH 6
  VALMSG "s_mnemonic"
  HELP "Run when"
  ORDER 200

ADD FIELD "shutdown_message_text" OF "ryc_smartobject" AS character 
  DESCRIPTION "This message text will be displayed to the user should they attempt to close down this object whilst it contains unsaved changes."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Shutdown message text"
  POSITION 22
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Shutdown message text"
  ORDER 210

ADD FIELD "required_db_list" OF "ryc_smartobject" AS character 
  DESCRIPTION "This is a comma delimited list of database logical names that must be connected in order to run this object.

For example ICFDB.

If any databases are specified and the databases are not connected, then the program will be prevented from running, the menu option / buttons it appears on will be disabled, etc.

This is to facilitate a mixture of db-aware and non-db-aware objects to exist in the same session, and for the appropriate objects to be disabled when the databases are not available, which would be the case in a WEBClient implementation that does not support client database connections.

In future, no visual objects should require a database connection. This is really for the transitional phase."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Required DB list"
  POSITION 23
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Required database list"
  ORDER 220

ADD FIELD "sdo_smartobject_obj" OF "ryc_smartobject" AS decimal 
  DESCRIPTION "The object used as the data source for this object. This may point at an SDO or an SBO object. It is relevant for things such as viewers and browsers to identify the SDO to get the list of valid fields from.

The actual SDO used at runtime may differ and will be determined by the links to/from the object. This information is for design time only.

"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "SDO smartobject obj"
  POSITION 24
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "SDO smartobject obj"
  DECIMALS 9
  ORDER 230

ADD FIELD "extends_smartobject_obj" OF "ryc_smartobject" AS decimal 
  DESCRIPTION "This is not implemented in V2.

If this object is a subclass of some other object, e.g. visual is a subclass of smart, then this field identifies the object that this object is extending. For example, an object visual extends smart so the extends smartobject in this case would be smart.

This allows for inherritance.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Extends smartobject obj"
  POSITION 25
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Extends smartobject obj"
  DECIMALS 9
  ORDER 240

ADD FIELD "security_smartobject_obj" OF "ryc_smartobject" AS decimal 
  DESCRIPTION "This is usually the same as the smartobject_obj indicating that security is enabled for the obejct and this object is used for security checks.

If this field is set to 0 then security checking is disabled for this object.

A different object may be specified for the security object if required to make setting up security restrictions easier. For example, all objects on a container could point at the container object for their security. Possibly an entire suite of objects could point at the same security object, maybe the menu.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Security smartobject obj"
  POSITION 26
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Security smartobject obj"
  DECIMALS 9
  ORDER 250

ADD FIELD "object_is_runnable" OF "ryc_smartobject" AS logical 
  DESCRIPTION "This flag indicates whether an object is runnable or not. Objects such as datafields and button widgets can not be run, whereas static and dynamic sdo's can be run."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Object is runnable"
  POSITION 27
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Object is runnable"
  ORDER 260

ADD INDEX "XPKryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "smartobject_obj" ASCENDING 

ADD INDEX "XAK1ryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "object_filename" ASCENDING 
  INDEX-FIELD "customization_result_obj" ASCENDING 

ADD INDEX "XAK3ryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "product_module_obj" ASCENDING 
  INDEX-FIELD "object_filename" ASCENDING 
  INDEX-FIELD "customization_result_obj" ASCENDING 

ADD INDEX "XIE10ryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  INDEX-FIELD "runnable_from_menu" ASCENDING 

ADD INDEX "XIE11ryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  INDEX-FIELD "template_smartobject" ASCENDING 

ADD INDEX "XIE1ryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  INDEX-FIELD "sdo_smartobject_obj" ASCENDING 

ADD INDEX "XIE2ryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  INDEX-FIELD "layout_obj" ASCENDING 
  INDEX-FIELD "object_type_obj" ASCENDING 

ADD INDEX "XIE5ryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  INDEX-FIELD "extends_smartobject_obj" ASCENDING 

ADD INDEX "XIE6ryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  INDEX-FIELD "customization_result_obj" ASCENDING 

ADD INDEX "XIE7ryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  INDEX-FIELD "object_type_obj" ASCENDING 

ADD INDEX "XIE8ryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  INDEX-FIELD "security_smartobject_obj" ASCENDING 

ADD INDEX "XIE9ryc_smartobject" ON "ryc_smartobject" 
  AREA "Schema Area"
  INDEX-FIELD "object_description" ASCENDING 

ADD TABLE "ryc_supported_link"
  AREA "Schema Area"
  DESCRIPTION "This table defines the supported smartlinks for the various type of smartobjects, and whether the link can be a source, target, or both.

User defined links should not be set-up in this table. This table is purely to ensure that when linking objects on containers, only valid system links are used, plus user defined links. It is merely a developer aid.

Not all types of smartobjects support links, in which case there will be no entries in this table for them."
  DUMP-NAME "rycsl"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycsltrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycsltrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycsltrigw.p" CRC "?" 

ADD FIELD "supported_link_obj" OF "ryc_supported_link" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Supported link obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Supported link obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "object_type_obj" OF "ryc_supported_link" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object type obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object type obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "smartlink_type_obj" OF "ryc_supported_link" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Smartlink type obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Smartlink type obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "link_source" OF "ryc_supported_link" AS logical 
  DESCRIPTION "If set to YES, objects of this smart type are capable of acting as the source for the specified link."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Link source"
  POSITION 5
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Link source"
  ORDER 40

ADD FIELD "link_target" OF "ryc_supported_link" AS logical 
  DESCRIPTION "If set to YES, objects of this smart type are capable of acting as the target for the specified link."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Link target"
  POSITION 6
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Link target"
  ORDER 50

ADD FIELD "deactivated_link_on_hide" OF "ryc_supported_link" AS logical 
  DESCRIPTION "If set to YES, this link for this type of smartobject will be automatically deactivated when the object is hidden, and activated again when the object is viewed."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Deactivated link on hide"
  POSITION 7
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Deactivated link on hide"
  ORDER 60

ADD INDEX "XPKryc_supported_link" ON "ryc_supported_link" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "supported_link_obj" ASCENDING 

ADD INDEX "XAK1ryc_supported_link" ON "ryc_supported_link" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "object_type_obj" ASCENDING 
  INDEX-FIELD "smartlink_type_obj" ASCENDING 

ADD INDEX "XAK2ryc_supported_link" ON "ryc_supported_link" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "smartlink_type_obj" ASCENDING 
  INDEX-FIELD "object_type_obj" ASCENDING 

ADD TABLE "ryc_ui_event"
  AREA "Schema Area"
  DESCRIPTION "This entity stores information about UI events for a smartobject. It works very similar to the ryc_attribute_value table in that UI events can be associated with object types, smartobjects, and smartobject instances.

This allows the attachment of UI events to dynamic objects.

When creating entries in this table for events associated with an object type, then the smart object and instance will be 0.

When creating entries in the table for a smartobject, we will also populate the object type field to avoid having 0 in the key. Likewise when creating events for an object instance, we will populate the object type and the smartobject. This ensures effective use of the alternate keys.

Note: We must be careful when looking for events associated with an object type to ensure we look for the specific object type and 0 values for the smartobject and instance fields.

Events are not cascaded down to subclassess and entries will only exist at subclass levels for overrides. To read all the events for an object, events for parent classes must also be read.

Where multiple rendering engines are supported and used, the render type object id adds another dimension to the possible events.

It is possible to specify a specific rendering engine type for events at the class, master and instance levels. If an event is specified at the class level for a specific rendering engine type, and not for a 0 rendering engine type, then that event will only ever be used for the specific rendering engine type and will not apply across all rendering engines.
"
  DUMP-NAME "rycue"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rycuetrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rycuetrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rycuereplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rycuerepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rycuereplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rycuetrigw.p" CRC "?" 

ADD FIELD "ui_event_obj" OF "ryc_ui_event" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "UI event obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "UI event obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "object_type_obj" OF "ryc_ui_event" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object type obj"
  POSITION 3
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object type obj"
  DECIMALS 9
  ORDER 20

ADD FIELD "container_smartobject_obj" OF "ryc_ui_event" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Container smartobject obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Container smartobject obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "smartobject_obj" OF "ryc_ui_event" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Smartobject obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Smartobject obj"
  DECIMALS 9
  ORDER 40

ADD FIELD "object_instance_obj" OF "ryc_ui_event" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Object instance obj"
  POSITION 6
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Object instance obj"
  DECIMALS 9
  ORDER 50

ADD FIELD "event_name" OF "ryc_ui_event" AS character 
  DESCRIPTION "The name of the event. This will correspond to the Progress event name, e.g. choose, value-changed, etc."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Event name"
  POSITION 7
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Event name"
  ORDER 60

ADD FIELD "constant_value" OF "ryc_ui_event" AS logical 
  DESCRIPTION "If set to YES, this value cannot be modified in any subclass. 
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Constant value"
  POSITION 8
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Constant value"
  ORDER 70

ADD FIELD "action_type" OF "ryc_ui_event" AS character 
  DESCRIPTION "The type of action to perform. There are 2 possible types of action currently:

PUB = Publish
RUN = Run

What to run/publish is identified by the action_target field value.
"
  FORMAT "X(3)"
  INITIAL ""
  LABEL "Action type"
  POSITION 9
  MAX-WIDTH 6
  VALMSG "s_type"
  HELP "Action type"
  ORDER 80

ADD FIELD "action_target" OF "ryc_ui_event" AS character 
  DESCRIPTION "The action_type can be RUN or PUBLISH and this field then defines the target of the RUN or PUBLISH, i.e. what to run or publish in.

The valid values for this field are:

Self
Container
Anywhere

Alternatively, the action target could specify a manager type code as defined in the gsc_manager_type table, in which case the action would be performed in the manager specified.

These are the things that are generally known about a viewer at design time."
  FORMAT "X(28)"
  INITIAL ""
  LABEL "Action target"
  POSITION 10
  MAX-WIDTH 56
  VALMSG "s_label"
  HELP "Action target"
  ORDER 90

ADD FIELD "event_action" OF "ryc_ui_event" AS character 
  DESCRIPTION "The name of the procedure to run or the event to publish, depending on the action type. Any procedures which are to be run must be internal procedures, and must exist in the custom super procedure of the viewer, one of the existing viewer procedures, or the manager specified.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Event action"
  POSITION 11
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Event action"
  ORDER 100

ADD FIELD "event_parameter" OF "ryc_ui_event" AS character 
  DESCRIPTION "A parameter to be passed to the event action. This may be a constant value, or something else which is known at design time.
"
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Event parameter"
  POSITION 12
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Event parameter"
  ORDER 110

ADD FIELD "event_disabled" OF "ryc_ui_event" AS logical 
  DESCRIPTION "Whether or not the event is disabled for this insance, smartobject, etc. or not.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Event disabled"
  POSITION 13
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Event disabled"
  ORDER 120

ADD FIELD "primary_smartobject_obj" OF "ryc_ui_event" AS decimal 
  DESCRIPTION "Events may be associated with object types, smartobjects and smartobject instances. If associated with an object type, the container smartobject and the smartobject will be 0. If associated with a smartobject, the container smartobject will be 0. If associated with an instance, the container smartobject will have a value.

This field will contain the value of the container smartobject if not 0, otherwise the smartobject if that is not 0, otherwise 0. It is used as the replication key field when writing replication triggers to cascade changes to the version database, as the replication triggers could not handle the use of alternative fields (e.g. container smartobject_obj or smartobject_obj).

The update of this field will be done in the write trigger.
"
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Primary smartobject obj"
  POSITION 14
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Primary smartobject obj"
  DECIMALS 9
  ORDER 130

ADD FIELD "render_type_obj" OF "ryc_ui_event" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Render type obj"
  POSITION 15
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Render type obj"
  DECIMALS 9
  ORDER 140

ADD INDEX "XPKryc_ui_event" ON "ryc_ui_event" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "ui_event_obj" ASCENDING 

ADD INDEX "XAK1ryc_ui_event" ON "ryc_ui_event" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "object_type_obj" ASCENDING 
  INDEX-FIELD "smartobject_obj" ASCENDING 
  INDEX-FIELD "object_instance_obj" ASCENDING 
  INDEX-FIELD "render_type_obj" ASCENDING 
  INDEX-FIELD "event_name" ASCENDING 

ADD INDEX "XIE1ryc_ui_event" ON "ryc_ui_event" 
  AREA "Schema Area"
  INDEX-FIELD "primary_smartobject_obj" ASCENDING 

ADD INDEX "XIE2ryc_ui_event" ON "ryc_ui_event" 
  AREA "Schema Area"
  INDEX-FIELD "object_instance_obj" ASCENDING 

ADD INDEX "XIE3ryc_ui_event" ON "ryc_ui_event" 
  AREA "Schema Area"
  INDEX-FIELD "container_smartobject_obj" ASCENDING 

ADD INDEX "XIE4ryc_ui_event" ON "ryc_ui_event" 
  AREA "Schema Area"
  INDEX-FIELD "smartobject_obj" ASCENDING 

ADD INDEX "XIE5ryc_ui_event" ON "ryc_ui_event" 
  AREA "Schema Area"
  INDEX-FIELD "render_type_obj" ASCENDING 

ADD TABLE "rym_customization"
  AREA "Schema Area"
  DESCRIPTION "This table captures the actual customization results for the various supported types of customization as defined in the ryc_customization_type table.

This table is joined from the ryc_customization_type table with a mandatory join to define the type of customization. It contains a customization_reference field as part of the unique key to store the value for the customization according to the type. For example, if this was a user level customization, then the reference field would contain a specific users login code. If this was a UI type customization, then the reference field would contain the value of a UI type, e.g. HTML, GUI, etc.

This differs from the values in the customization result table. The customization result table is a list of valid value result codes for the customization type. This table represents actual values that can be checked at runtime with the appropriate api and the values may differ to the result code values. The result code values are reusable.

For example, one customization type is user customization. In this customization table we could have a record for each user with the reference pointing at the user login name, e.g. Anthony, john, bruce, etc. The api specified for the customization type would be run to find the current user and lookup in this table what the specified result code is for the user. The result code for Anthony could be manager, and John could also point at the same result code, but Bruce may point at result code engineer. Note the possible reuse of result codes and the difference between the result code values and the customization references.

The table stores the result for the customization via a join to the customization result table, identifying the result code to use for this specific customization.
These tables then provide maximum flexibility for customization possibilities.
As stated previously, the resultant result codes for a session will be evaluated after authentication and made available to the session.

When reading from tables that support customization, e.g. the smartobject and related tables, the appropriate record will be read with a matching result code of the highest priority level, if any matching customizations exist, otherwise the default record will be used.

A generic tool will need to be developed to capture these customizations.
"
  DUMP-NAME "rymcz"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rymcztrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rymcztrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rymczreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rymczrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rymczreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rymcztrigw.p" CRC "?" 

ADD FIELD "customization_type_obj" OF "rym_customization" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Customization type obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Customization type obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "customization_reference" OF "rym_customization" AS character 
  DESCRIPTION "This field stores an actual value of a customization as evaluated at runtime, and according to the customization type.

For example, if this was a user level customization, then the reference would be the user login name, e.g. Anthony. If this was a UI Type customization, then the reference field may be GUI, WebClient, HTML, etc.

The value is determined by the customization type, and is checked using the API procedure identified on the customization type table.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Customization reference"
  POSITION 3
  MAX-WIDTH 140
  VALMSG "s_big_name"
  HELP "Customization reference"
  ORDER 20

ADD FIELD "customization_result_obj" OF "rym_customization" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Customization result obj"
  POSITION 4
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Customization result obj"
  DECIMALS 9
  ORDER 30

ADD FIELD "customization_obj" OF "rym_customization" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Customization obj"
  POSITION 5
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Customization obj"
  DECIMALS 9
  ORDER 40

ADD INDEX "XPKrym_customization" ON "rym_customization" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "customization_type_obj" ASCENDING 
  INDEX-FIELD "customization_reference" ASCENDING 

ADD INDEX "XIE1rym_customization" ON "rym_customization" 
  AREA "Schema Area"
  INDEX-FIELD "customization_reference" ASCENDING 

ADD INDEX "XIE2rym_customization" ON "rym_customization" 
  AREA "Schema Area"
  INDEX-FIELD "customization_obj" ASCENDING 

ADD INDEX "XIE3rym_customization" ON "rym_customization" 
  AREA "Schema Area"
  INDEX-FIELD "customization_result_obj" ASCENDING 

ADD TABLE "rym_data_version"
  AREA "Schema Area"
  DESCRIPTION "This table facilitates the generic storage of data version numbers without having to add a specific version number field to any tables that require version control.

This will definitely be used in the context of versioning smartobjects, but may also be used to record a version number for any data, e.g. menu items, help, etc.

The update of this table will be automated by the version control procedures if they are being used to control maintenance of the data.

This information must be made available generically to a help about window in the context of smartobject versioning.

The version number is the version number as at the time written by the versioning procedures. The data may have been subsequently changed by the user outside of the version control procedures, which is a situation we cannot generically hande.

"
  DUMP-NAME "rymdv"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rymdvtrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rymdvtrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rymdvtrigw.p" CRC "?" 

ADD FIELD "data_version_obj" OF "rym_data_version" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Data version obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Data version obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "related_entity_mnemonic" OF "rym_data_version" AS character 
  DESCRIPTION "This is the FLA of the table containing the data record being version stamped."
  FORMAT "X(8)"
  INITIAL ""
  LABEL "Related entity"
  POSITION 3
  MAX-WIDTH 16
  VALMSG "s_entity_mnemonic"
  HELP "Related entity"
  ORDER 20

ADD FIELD "related_entity_key" OF "rym_data_version" AS character 
  DESCRIPTION "This is the SCM object name from the table identified by the FLA.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Related entity key"
  POSITION 4
  MAX-WIDTH 140
  VALMSG "s_big_description"
  HELP "Related entity key"
  ORDER 30

ADD FIELD "data_version_number" OF "rym_data_version" AS integer 
  DESCRIPTION "This is the current version number of this item of data as written by the versioning procedures."
  FORMAT "->>>>>9"
  INITIAL "0"
  LABEL "Data version number"
  POSITION 5
  MAX-WIDTH 4
  VALMSG "n_integer_6"
  HELP "Data version number"
  ORDER 40

ADD INDEX "XPKrym_data_version" ON "rym_data_version" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "data_version_obj" ASCENDING 

ADD INDEX "XAK1rym_data_version" ON "rym_data_version" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "related_entity_mnemonic" ASCENDING 
  INDEX-FIELD "related_entity_key" ASCENDING 

ADD TABLE "rym_wizard_tree"
  AREA "Schema Area"
  DESCRIPTION "This table captures wizard responses for the creation / modification of a standard ICF Dynamic TreeView Controller object.

It is used to forward engineer the object into the full Repository, generating all appropriate smartobject instances and attributes. Many assumptions are made regarding the look and feel of a standard ICF TreeView Controller which significantly simplifies the data that must be captured.

More complex specific modifications to an object may be made using the standard Repository Maintenance options.

This table also facilitates generation of the object into different UI's, e.g. Java.
"
  DUMP-NAME "rymwt"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rymwttrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rymwttrigd.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-CREATE" OVERRIDE PROCEDURE "icf/trg/rymwtreplc.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-DELETE" OVERRIDE PROCEDURE "icf/trg/rymwtrepld.p" CRC "?" 
  TABLE-TRIGGER "REPLICATION-WRITE" OVERRIDE PROCEDURE "icf/trg/rymwtreplw.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rymwttrigw.p" CRC "?" 

ADD FIELD "wizard_tree_obj" OF "rym_wizard_tree" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Wizard tree obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Wizard tree obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "product_code" OF "rym_wizard_tree" AS character 
  DESCRIPTION "A unique code to identify the product this dynamic object belongs to. This code should correspond to a code that exists in gsc_product in the ICFDB database.

This code is used when forward engineering the object into the full Repository, at which time it must exist or optionally be created in the gsc_product table."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Product code"
  POSITION 3
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Product code"
  ORDER 20

ADD FIELD "product_module_code" OF "rym_wizard_tree" AS character 
  DESCRIPTION "A unique code to identify the product module this dynamic object belongs to. This code should correspond to a code that exists in gsc_product_module in the ICF database, plus should be a product module that exists in the SCM tool.

This code is used when forward engineering the object into the full Repository, at which time it must exist or optionally be created in the gsc_product_module table."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Product module code"
  POSITION 4
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Product module code"
  ORDER 30

ADD FIELD "object_name" OF "rym_wizard_tree" AS character 
  DESCRIPTION "The name of the logical object with no path or extension (as logical objects do not have these).

The object does not have to exist anywhere at time of capture."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Object name"
  POSITION 5
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Object name"
  ORDER 40

ADD FIELD "object_description" OF "rym_wizard_tree" AS character 
  DESCRIPTION "A description of the object"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Object description"
  POSITION 6
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Object description"
  ORDER 50

ADD FIELD "window_title" OF "rym_wizard_tree" AS character 
  DESCRIPTION "The window title for the container."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Window title"
  POSITION 7
  MAX-WIDTH 70
  VALMSG "s_description"
  HELP "Window title"
  ORDER 60

ADD FIELD "window_title_field" OF "rym_wizard_tree" AS character 
  DESCRIPTION "This is the field name whose value should be appended to the window title. The fieldname without a table prefix must be specified and should match a field in the SDO serving as the data source within the window."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Window title field"
  POSITION 8
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Window title field"
  ORDER 70

ADD FIELD "root_node_code" OF "rym_wizard_tree" AS character 
  DESCRIPTION "The code of an existing node record on the gsm_node table in the ICFDB.

This code will be used as the Root Node when running the new logical object created."
  FORMAT "X(10)"
  INITIAL ""
  LABEL "Root node code"
  POSITION 9
  MAX-WIDTH 20
  VALMSG "s_code"
  HELP "Root node code"
  ORDER 80

ADD FIELD "root_node_sdo_name" OF "rym_wizard_tree" AS character 
  DESCRIPTION "The name of the SDO that will be used as the data source for the Root Node.

This should be specified without a path and extension. At capture time it does not have to exist, but in order to forward engineer the object controller, the sdo must exist as a valid object in gsc_object in ICFDB.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Root node SDO name"
  POSITION 10
  MAX-WIDTH 140
  VIEW-AS "VIEW-AS EDITOR SIZE 36 BY 2 SCROLLBAR-VERTICAL MAX-CHARS 70"
  VALMSG "s_file_name"
  HELP "Root node SDO name"
  ORDER 90

ADD FIELD "sdo_foreign_fields" OF "rym_wizard_tree" AS character 
  DESCRIPTION "If the SDO is the child of some other SDO and relies on parent key information from the parent SDO to resolve its query, then the fields to map between the SDOs should be specified in this property.

This is a comma-separated paired list of database field names in the Data-Target and RowObject Temp-Table fields in the Data-Source that should be used for opening the Data-Target's database query using one or more key values from the Data-Source.

A good example is joining a customer sdo with an order sdo and the foreign fields would be set to order.cust-num,cust-num.

Note that for each Foreign Field pair, the first entry is the name of the field in the database query for the Data-Target (the child or detail SDO in the parent-child or master-detail relationship), which is Order.CustNum in our example. This first entry is expressed as the database field name (optionally with the table qualifier) because that fieldname will actually be inserted into a where clause used to open the database query for the Data-Target, resulting in FOR EACH Order WHERE Order.CustNum = <CustNum-value-from-Data-Source>. The second entry in the pair is the name of the key field in the Data-Source SDO which is to be compared to the database field in the Target, or CustNum in our case. This must be the name of the field as it occurs in the Data-Source SDO column list (no DB table qualification) because the Source SDO is providing that value from the SDO's temp-table, not straight out of the database. Each time the dataAvailable event is published by the Data-Source, indicating that its query on Customers has been re-positioned, the Data-Target (Order) SDO will request the value of the CustNum field from the Customer SDO and plug that into the Order query where clause as indicated above.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "SDO foreign fields"
  POSITION 11
  MAX-WIDTH 140
  VIEW-AS "VIEW-AS EDITOR SIZE 36 BY 2 SCROLLBAR-VERTICAL MAX-CHARS 70"
  VALMSG "s_big_description"
  HELP "SDO foreign fields"
  ORDER 100

ADD FIELD "custom_super_procedure" OF "rym_wizard_tree" AS character 
  DESCRIPTION "The name of a custom super procedure to attach to the TreeView when the it is instantiated onto the container.
A relative path and file extension must be specified for the super procedure.
This facilitates the coding of specific business logic for a dynamic object. Your super procedure could include an initializeObject procedure that does a RUN SUPER, and after that subscribes to events in the containers toolbar. User defined menu items can then be attached to the conrtainer that publish the event to action the specific business logic."
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Custom super procedure"
  POSITION 12
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Custom super procedure"
  ORDER 110

ADD FIELD "page_layout" OF "rym_wizard_tree" AS character 
  DESCRIPTION "The layout code for the page, the default is TreeView if not specified.

This is used by the layout manager when resizing the window.
"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Page layout"
  POSITION 13
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Page layout"
  ORDER 120

ADD FIELD "filter_viewer" OF "rym_wizard_tree" AS character 
  DESCRIPTION "This is the name of a Static SmartDataViewer that will be used as a Filter Viewer with a SmartDataField (lookup or combo) on it

The data selected in the Filter Viewer will result in a smaller query returned in the Root Node of the TreeView."
  FORMAT "X(70)"
  INITIAL ""
  LABEL "Filter viewer"
  POSITION 14
  MAX-WIDTH 140
  VIEW-AS "VIEW-AS EDITOR SIZE 36 BY 2 SCROLLBAR-VERTICAL MAX-CHARS 70"
  VALMSG "s_file_name"
  HELP "Filter viewer"
  ORDER 130

ADD FIELD "auto_sort" OF "rym_wizard_tree" AS logical 
  DESCRIPTION "This is a property that will be set for the TreeView OCX that indicates if the data listed should Auto Sort."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Auto sort"
  POSITION 15
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Auto sort"
  ORDER 140

ADD FIELD "hide_selection" OF "rym_wizard_tree" AS logical 
  DESCRIPTION "This is a property that will be set for the TreeView OCX that indicates whether a node should appear as being selected when such an action was taken."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Hide selection"
  POSITION 16
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Hide selection"
  ORDER 150

ADD FIELD "image_height" OF "rym_wizard_tree" AS integer 
  DESCRIPTION "This is the height in pixels of the image being displayed in the TreeView OCX.

The default is 16 pixels."
  FORMAT "->>>9"
  INITIAL "0"
  LABEL "Image height"
  POSITION 17
  MAX-WIDTH 4
  VALMSG "n_integer_4"
  HELP "Image height"
  ORDER 160

ADD FIELD "image_width" OF "rym_wizard_tree" AS integer 
  DESCRIPTION "This is the width in pixels of the image being displayed in the TreeView OCX.

The default is 16 pixels."
  FORMAT "->>>9"
  INITIAL "0"
  LABEL "Image width"
  POSITION 18
  MAX-WIDTH 4
  VALMSG "n_integer_4"
  HELP "Image width"
  ORDER 170

ADD FIELD "show_check_boxes" OF "rym_wizard_tree" AS logical 
  DESCRIPTION "This is a property that will be set for the TreeView OCX that indicates if a check box should be displayed with every node."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Show check boxes"
  POSITION 19
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Show check boxes"
  ORDER 180

ADD FIELD "show_root_lines" OF "rym_wizard_tree" AS logical 
  DESCRIPTION "This is a property that will be set for the TreeView OCX that indicates if a Root Node line should appear in the TreeView OCX."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Show root lines"
  POSITION 20
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Show root lines"
  ORDER 190

ADD FIELD "tree_style" OF "rym_wizard_tree" AS integer 
  DESCRIPTION "This is a property that will be set for the TreeView OCX that indicates the style of the TreeView.

The following options are available:
0 - Text only
1 - Pictures & Text
2 - Text only
3 - Pictures & Text
4 - Text only with tree lines
5 - Pictures & Text with tree lines
6 - Text only with tree lines & plus/minus
7 - Pictures & text with tree lines & plus/minus"
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Tree style"
  POSITION 21
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Tree style"
  ORDER 200

ADD FIELD "generated_time" OF "rym_wizard_tree" AS integer 
  DESCRIPTION "The time this object was last generated."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Generated time"
  POSITION 22
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Generated time"
  ORDER 210

ADD FIELD "generated_date" OF "rym_wizard_tree" AS date 
  DESCRIPTION "The date this object was last generated."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Generated date"
  POSITION 23
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Generated date"
  ORDER 220

ADD INDEX "XPKrym_wizard_tree" ON "rym_wizard_tree" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "wizard_tree_obj" ASCENDING 

ADD INDEX "XAK1rym_wizard_tree" ON "rym_wizard_tree" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "object_name" ASCENDING 

ADD INDEX "XAK2rym_wizard_tree" ON "rym_wizard_tree" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "product_code" ASCENDING 
  INDEX-FIELD "product_module_code" ASCENDING 
  INDEX-FIELD "object_name" ASCENDING 

ADD INDEX "XIE1rym_wizard_tree" ON "rym_wizard_tree" 
  AREA "Schema Area"
  INDEX-FIELD "object_description" ASCENDING 

ADD TABLE "ryt_dbupdate_status"
  AREA "Schema Area"
  DESCRIPTION "This table audits what DCU updates have occurred, and more importantly controls the DCU update beyond completion of the DCU, plus allows it to be re-run / re-started as required.

We need to be able to control and automate what tasks to do as part of the DCU for a specific release, at what stage they should be run, whether each step completed successfully, the order of the steps, etc.

Certain tasks can only occur after the DCU has finished, but before anybody starts using the system and the tasks require a valid login to complete. Currently we have no way of controlling or automating this, which is the primary reason for the table. This table will significantly improve the load-n-go functionality within Dynamics and help prevent migration and deployment issues.

The DCU will update this table from the information in the .pfl file that the DCU uses as the source of the information for the DCU.
"
  DUMP-NAME "rytds"
  TABLE-TRIGGER "CREATE" OVERRIDE PROCEDURE "icf/trg/rytdstrigc.p" CRC "?" 
  TABLE-TRIGGER "DELETE" OVERRIDE PROCEDURE "icf/trg/rytdstrigd.p" CRC "?" 
  TABLE-TRIGGER "WRITE" OVERRIDE PROCEDURE "icf/trg/rytdstrigw.p" CRC "?" 

ADD FIELD "dbupdate_status_obj" OF "ryt_dbupdate_status" AS decimal 
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Dbupdate status obj"
  POSITION 2
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Dbupdate status obj"
  DECIMALS 9
  ORDER 10

ADD FIELD "update_db_name" OF "ryt_dbupdate_status" AS character 
  DESCRIPTION "This is the logical name of the database this update is for, e.g. ICFDB"
  FORMAT "X(35)"
  INITIAL ""
  LABEL "Update DB name"
  POSITION 3
  MAX-WIDTH 70
  VALMSG "s_name"
  HELP "Update database name"
  ORDER 20

ADD FIELD "delta_version" OF "ryt_dbupdate_status" AS integer 
  DESCRIPTION "This is the integer value of the database delta version this update file is associated with, e.g. 010101. All files must be associated with a delta. The association has no bearing on when the file must be actioned, just that it is part of this release. For ADO's, the delta version will be assumed to be the last delta version loaded into the database."
  FORMAT "->>>>>9"
  INITIAL "0"
  LABEL "Delta version"
  POSITION 4
  MAX-WIDTH 4
  VALMSG "n_integer_6"
  HELP "Delta version"
  ORDER 30

ADD FIELD "file_type" OF "ryt_dbupdate_status" AS character 
  DESCRIPTION "This is a character field, supporting the following values: ""df"" for a delta file, ""d"" for a data dump file, ""ado"" for an XML ado file, and ""p"" for a noddy fix program. These are the four different types of files that the DCU manages and actions."
  FORMAT "X(15)"
  INITIAL ""
  LABEL "File type"
  POSITION 5
  MAX-WIDTH 30
  VALMSG "s_reference"
  HELP "File type"
  ORDER 40

ADD FIELD "file_name" OF "ryt_dbupdate_status" AS character 
  DESCRIPTION "This is the actual name of the object to run, e.g. the name of the delta df to load, the name of the .ado to load, the name of the dump .d file, or the name of a fix program. The file name must be relatively pathed.
Standard recommended naming conventions exist for the different types of files, e.g.
Noddy or fix programs should be prefixed with ""fix"" + delta version + FLA of main table + description + "".p"". For example, fix020001rycsotoolbars.p
Delta files are prefixed with the database logical name, plus the delta version, plus the type, e.g. full or delta or erwin.
"
  FORMAT "X(70)"
  INITIAL ""
  LABEL "File name"
  POSITION 6
  MAX-WIDTH 140
  VALMSG "s_file_name"
  HELP "File name"
  ORDER 50

ADD FIELD "update_when" OF "ryt_dbupdate_status" AS integer 
  DESCRIPTION "This field identifies at what stage of the update the action for this file must be done. It is an integer field supporting the following possible values:
1.	Pre Delta
2.	Delta
3.	Post Delta
4.	Pre Data Load
5.	Data Load
6.	Post Data Load
7.	Per ADO
8.	ADO
9.	Post ADO
"
  FORMAT "->9"
  INITIAL "0"
  LABEL "Update when"
  POSITION 7
  MAX-WIDTH 4
  VALMSG "n_integer_2"
  HELP "Update when"
  ORDER 60

ADD FIELD "run_sequence" OF "ryt_dbupdate_status" AS integer 
  DESCRIPTION "This is an integer field and it determines the order within the update_when stage that each of the files must be executed, to deal with multiple files being required at each stage."
  FORMAT "->>9"
  INITIAL "0"
  LABEL "Run sequence"
  POSITION 8
  MAX-WIDTH 4
  VALMSG "n_integer_3"
  HELP "Run sequence"
  ORDER 70

ADD FIELD "update_completed" OF "ryt_dbupdate_status" AS logical 
  DESCRIPTION "This is a logical flag indicating whether this update step has been completed, defaulting to NO. Until all steps have been completed, no access will be permitted to the application by users who are not authorized to maintain system data and that do not have a database connection to ICFDB.
When an authorized user logs in, the index on this field, plus the update_when and update_sequence fields will be used to complete identify the remaining steps to complete the update.
"
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Update completed"
  POSITION 9
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Update completed"
  ORDER 80

ADD FIELD "update_successful" OF "ryt_dbupdate_status" AS logical 
  DESCRIPTION "This is a logical flag, default NO, used in conjunction with the update_completed flag. The flag indetofies whether the step was successful or not after it has been completed. IF the step was not successful and the mandatory option is selected, the update will need to terminate until the problem is resolved. This may involve resorting to a backup and starting again, depending on the situation."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Update successful"
  POSITION 10
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Update successful"
  ORDER 90

ADD FIELD "return_result" OF "ryt_dbupdate_status" AS character 
  DESCRIPTION "This is a character field to record any output from the update step. In the event an update step is rerunnable, this field will be appended to, and the field will always be updated with the date, time and the message."
  FORMAT "X(500)"
  INITIAL ""
  LABEL "Return result"
  POSITION 11
  MAX-WIDTH 1000
  VIEW-AS "VIEW-AS EDITOR SIZE 70 BY 8 SCROLLBAR-VERTICAL MAX-CHARS 500"
  VALMSG "s_small_text_block"
  HELP "Return result"
  ORDER 100

ADD FIELD "run_date" OF "ryt_dbupdate_status" AS date 
  DESCRIPTION "The date the step was run."
  FORMAT "99/99/9999"
  INITIAL "?"
  LABEL "Run date"
  POSITION 12
  MAX-WIDTH 4
  VALMSG "d_date_empty"
  HELP "Run date"
  ORDER 110

ADD FIELD "run_time" OF "ryt_dbupdate_status" AS integer 
  DESCRIPTION "The time the step was run."
  FORMAT ">>>>9"
  INITIAL "0"
  LABEL "Run time"
  POSITION 13
  MAX-WIDTH 4
  VALMSG "n_time"
  HELP "Run time"
  ORDER 120

ADD FIELD "run_by_user_obj" OF "ryt_dbupdate_status" AS decimal 
  DESCRIPTION "The user that run the file. This is optional as you will only know the user if this is a step is one that is run after a valid login has occurred."
  FORMAT "->>>>>>>>>>>>>>>>>9.999999999"
  INITIAL "0"
  LABEL "Run by user obj"
  POSITION 14
  MAX-WIDTH 24
  VALMSG "o_obj"
  HELP "Run by user obj"
  DECIMALS 9
  ORDER 130

ADD FIELD "update_new_db" OF "ryt_dbupdate_status" AS logical 
  DESCRIPTION "This is a logical field, defaulting to NO, indicating whether or not the file should be applied to a new database. Certain steps are only applicable to new databases, existing databases, or both."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Update new db"
  POSITION 15
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Update new db"
  ORDER 140

ADD FIELD "update_existing_db" OF "ryt_dbupdate_status" AS logical 
  DESCRIPTION "This is a logical field, defaulting to YES, indicating whether or not the file should be applied to an existing database. Certain steps are only applicable to new databases, existing databases, or both."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Update existing DB"
  POSITION 16
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Update existing database"
  ORDER 150

ADD FIELD "rerunnable" OF "ryt_dbupdate_status" AS logical 
  DESCRIPTION "This is a logical field, default to NO to indicate whether the file may be re-run."
  FORMAT "YES/NO"
  INITIAL "NO"
  LABEL "Rerunnable"
  POSITION 17
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_noyes"
  HELP "Rerunnable"
  ORDER 160

ADD FIELD "update_mandatory" OF "ryt_dbupdate_status" AS logical 
  DESCRIPTION "This is a logical field, defaulting to YES to indicate whether the file is a mandatory step and if the update is unsuccessful that the update process must stop."
  FORMAT "YES/NO"
  INITIAL "YES"
  LABEL "Update mandatory"
  POSITION 18
  MAX-WIDTH 1
  VIEW-AS "VIEW-AS TOGGLE-BOX"
  VALMSG "l_yesno"
  HELP "Update mandatory"
  ORDER 170

ADD INDEX "XPKryt_dbupdate_status" ON "ryt_dbupdate_status" 
  AREA "Schema Area"
  UNIQUE
  PRIMARY
  INDEX-FIELD "dbupdate_status_obj" ASCENDING 

ADD INDEX "XAK1ryt_dbupdate_status" ON "ryt_dbupdate_status" 
  AREA "Schema Area"
  UNIQUE
  INDEX-FIELD "update_db_name" ASCENDING 
  INDEX-FIELD "delta_version" ASCENDING 
  INDEX-FIELD "file_type" ASCENDING 
  INDEX-FIELD "file_name" ASCENDING 
  INDEX-FIELD "update_when" ASCENDING 

ADD INDEX "XIE1ryt_dbupdate_status" ON "ryt_dbupdate_status" 
  AREA "Schema Area"
  INDEX-FIELD "update_completed" ASCENDING 
  INDEX-FIELD "update_when" ASCENDING 
  INDEX-FIELD "run_sequence" ASCENDING 

ADD INDEX "XIE2ryt_dbupdate_status" ON "ryt_dbupdate_status" 
  AREA "Schema Area"
  INDEX-FIELD "run_by_user_obj" ASCENDING 

.
PSC
cpstream=UTF-8
.
0000679095
